var jindo=window.jindo||{};
jindo._p_={};
jindo._p_.jindoName="jindo";
if(window[jindo._p_.jindoName]){var __old_j=window[jindo._p_.jindoName];
for(var i in __old_j){jindo[i]=__old_j[i]
}}jindo._p_={};
jindo._p_.jindoName="jindo";
jindo._p_._j_ag=navigator.userAgent;
jindo._p_._JINDO_IS_FF=jindo._p_._j_ag.indexOf("Firefox")>-1;
jindo._p_._JINDO_IS_OP=jindo._p_._j_ag.indexOf("Opera")>-1;
jindo._p_._JINDO_IS_SP=jindo._p_._j_ag.indexOf("Safari")>-1;
jindo._p_._JINDO_IS_SF=jindo._p_._j_ag.indexOf("Apple")>-1;
jindo._p_._JINDO_IS_CH=jindo._p_._j_ag.indexOf("Chrome")>-1;
jindo._p_._JINDO_IS_WK=jindo._p_._j_ag.indexOf("WebKit")>-1;
jindo._p_._JINDO_IS_MO=/(iPad|Mobile|Android|Nokia|webOS|BlackBerry|Opera Mini)/.test(jindo._p_._j_ag);
jindo._p_.trim=function(a){return a.replace(/^(\s|　)+/g,"").replace(/(\s|　)+$/g,"")
};
jindo.$Jindo=function(){var a=arguments.callee;
var b=a._cached;
if(b){return b
}if(!(this instanceof a)){return new a()
}if(!b){a._cached=this
}this.version="2.8.1"
};
jindo.$Jindo.VERSION="2.8.1";
jindo._p_.addExtension=function(c,a,b){if(jindo[c][a]){jindo.$Jindo._warn(c+"."+a+" was overwrite.")
}else{if(/^x/.test(a)){jindo[c][a]=b
}else{jindo.$Jindo._warn("The Extension Method("+c+"."+a+") must be used with x prefix.")
}}};
jindo.$Jindo.compatible=function(){return false
};
jindo.$Jindo.mixin=function(d,a){g_checkVarType(arguments,{obj:["oDestination:Hash+","oSource:Hash+"]},"<static> $Jindo#mixin");
var c={};
for(var b in d){c[b]=d[b]
}for(b in a){if(a.hasOwnProperty(b)&&!jindo.$Jindo.isHash(a[b])){c[b]=a[b]
}}return c
};
jindo._p_._objToString=Object.prototype.toString;
jindo.$Error=function(b,a){this.message="\tmethod : "+a+"\n\tmessage : "+b;
this.type="Jindo Custom Error";
this.toString=function(){return this.message+"\n\t"+this.type
}
};
jindo.$Except={CANNOT_USE_OPTION:"해당 옵션은 사용할 수 없습니다.",CANNOT_USE_HEADER:"type이 jsonp일때 header메서드는 사용할 수 없습니다.",PARSE_ERROR:"파싱중 에러가 발생했습니다.",NOT_FOUND_ARGUMENT:"파라미터가 없습니다.",NOT_STANDARD_QUERY:"css셀렉터가 정상적이지 않습니다.",INVALID_DATE:"날짜 포멧이 아닙니다.",REQUIRE_AJAX:"가 없습니다.",NOT_FOUND_ELEMENT:"엘리먼트가 없습니다.",HAS_FUNCTION_FOR_GROUP:"그룹으로 지우지 않는 경우 detach할 함수가 있어야 합니다.",NONE_ELEMENT:"에 해당하는 엘리먼트가 없습니다.",NOT_SUPPORT_SELECTOR:"는 지원하지 않는 selector입니다.",NOT_SUPPORT_CORS:"현재 브라우저는 cors가 지원하지 않습니다.",NOT_SUPPORT_METHOD:"desktop에서 지원하지 않는 메서드 입니다.",JSON_MUST_HAVE_ARRAY_HASH:"get메서드는 json타입이 hash나 array타입만 가능합니다.",MUST_APPEND_DOM:"document에 붙지 않은 엘리먼트를 기준 엘리먼트로 사용할 수 없습니다.",NOT_USE_CSS:"는 css를 사용 할수 없습니다.",NOT_WORK_DOMREADY:"domready이벤트는 iframe안에서 사용할 수 없습니다.",CANNOT_SET_OBJ_PROPERTY:"속성은 오브젝트입니다.\n클래스 속성이 오브젝트이면 모든 인스턴스가 공유하기 때문에 위험합니다.",NOT_FOUND_HANDLEBARS:""};
jindo._p_._toArray=function(a){return Array.prototype.slice.apply(a)
};
try{Array.prototype.slice.apply(document.documentElement.childNodes)
}catch(e){jindo._p_._toArray=function(d){var c=[];
var b=d.length;
for(var a=0;
a<b;
a++){c.push(d[a])
}return c
}
}jindo.$Jindo.isNumeric=function(a){return !isNaN(parseFloat(a))&&!jindo.$Jindo.isArray(a)&&isFinite(a)
};
(function(){var d={Element:1,Document:9};
for(var b in d){jindo.$Jindo["is"+b]=(function(g,f){return function(h){if(new RegExp(g).test(jindo._p_._objToString.call(h))){return true
}else{if(jindo._p_._objToString.call(h)=="[object Object]"&&h!==null&&h!==undefined&&h.nodeType==f){return true
}}return false
}
})(b,d[b])
}var c=["Function","Array","String","Boolean","Date","RegExp"];
for(var b=0,a=c.length;
b<a;
b++){jindo.$Jindo["is"+c[b]]=(function(f){return function(g){return jindo._p_._objToString.call(g)=="[object "+f+"]"
}
})(c[b])
}})();
jindo.$Jindo.isNode=function(b){try{return !!(b&&b.nodeType)
}catch(a){return false
}};
jindo.$Jindo.isHash=function(a){return jindo._p_._objToString.call(a)=="[object Object]"&&a!==null&&a!==undefined&&!!!a.nodeType&&!jindo.$Jindo.isWindow(a)
};
jindo.$Jindo.isNull=function(a){return a===null
};
jindo.$Jindo.isUndefined=function(a){return a===undefined
};
jindo.$Jindo.isWindow=function(a){return a&&(a==window.top||a==a.window)
};
jindo.$Jindo.Break=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee
}};
jindo.$Jindo.Continue=function(){if(!(this instanceof arguments.callee)){throw new arguments.callee
}};
jindo.$Jindo._F=function(a){return a
};
jindo.$Jindo._warn=function(a){window.console&&((console.warn&&console.warn(a),true)||(console.log&&console.log(a),true))
};
jindo.$Jindo._maxWarn=function(a,b,c){if(a>b){jindo.$Jindo._warn("추가적인 파라미터가 있습니다. : "+c)
}};
jindo.$Jindo.checkVarType=function(h,o,b){var b=b||h.callee.name||"anonymous";
var w=jindo.$Jindo;
var D=w.compatible();
var d=h.callee["_checkVarType_"+D];
if(d){return d(h,o,b)
}var t=[];
t.push("var nArgsLen = aArgs.length;");
t.push("var $Jindo = "+jindo._p_.jindoName+".$Jindo;");
if(D){t.push("var nMatchScore;");
t.push("var nMaxMatchScore = -1;");
t.push("var oFinalRet = null;")
}var f=[];
var a=0;
for(var r in o){if(o.hasOwnProperty(r)){a=Math.max(o[r].length,a)
}}for(var r in o){if(o.hasOwnProperty(r)){var s=o[r];
var m=s.length;
var q=[];
var j=[];
var p=[];
if(!D){if(m<a){j.push("nArgsLen === "+m)
}else{j.push("nArgsLen >= "+m)
}}p.push("var oRet = new $Jindo._varTypeRetObj();");
var E=m;
for(var C=0;
C<m;
++C){/^([^:]+):([^\+]*)(\+?)$/.test(s[C]);
var k=RegExp.$1;
var y=RegExp.$2;
var c=RegExp.$3?true:false;
if(y==="Variant"){if(D){j.push(C+" in aArgs")
}p.push('oRet["'+k+'"] = aArgs['+C+"];");
E--
}else{if(w._varTypeList[y]){var A="tmp"+y+"_"+C;
q.push("var "+A+" = $Jindo._varTypeList."+y+"(aArgs["+C+"], "+c+");");
j.push(A+" !== "+jindo._p_.jindoName+".$Jindo.VARTYPE_NOT_MATCHED");
p.push('oRet["'+k+'"] = '+A+";")
}else{if(/^\$/.test(y)&&jindo[y]){var B="";
var g;
if(c){g=({$Fn:"Function",$S:"String",$A:"Array",$H:"Hash",$ElementList:"Array"})[y]||y.replace(/^\$/,"");
if(jindo.$Jindo["is"+g]){B=" || $Jindo.is"+g+"(vNativeArg_"+C+")"
}}j.push("(aArgs["+C+"] instanceof "+jindo._p_.jindoName+"."+y+B+")");
p.push('oRet["'+k+'"] = '+jindo._p_.jindoName+"."+y+"(aArgs["+C+"]);")
}else{if(jindo.$Jindo["is"+y]){var B="";
var n;
if(c){n=({Function:"$Fn",String:"$S",Array:"$A",Hash:"$H"})[y]||"$"+y;
if(jindo[n]){B=" || aArgs["+C+"] instanceof "+jindo._p_.jindoName+"."+n
}}j.push("($Jindo.is"+y+"(aArgs["+C+"])"+B+")");
p.push('oRet["'+k+'"] = vNativeArg_'+C+";")
}else{throw new Error("VarType("+y+") Not Found")
}}}}}p.push('oRet.__type = "'+r+'";');
if(D){p.push("nMatchScore = "+(m*1000+E*10)+" + (nArgsLen === "+m+" ? 1 : 0);");
p.push("if (nMatchScore > nMaxMatchScore) {");
p.push("	nMaxMatchScore = nMatchScore;");
p.push("	oFinalRet = oRet;");
p.push("}")
}else{p.push("return oRet;")
}f.push(q.join("\n"));
if(j.length){f.push("if ("+j.join(" && ")+") {")
}f.push(p.join("\n"));
if(j.length){f.push("}")
}}}t.push("	$Jindo._maxWarn(nArgsLen,"+a+',"'+b+'");');
for(var C=0;
C<a;
++C){var z="aArgs["+C+"]";
t.push(["var vNativeArg_",C," = ",z," && ",z,".$value ? ",z,".$value() : ",z+";"].join(""))
}if(!D){f.push("$Jindo.checkVarType._throwException(aArgs, oRules, sFuncName);")
}f.push("return oFinalRet;");
h.callee["_checkVarType_"+D]=d=new Function("aArgs,oRules,sFuncName",t.join("\n")+f.join("\n"));
return d(h,o,b)
};
var g_checkVarType=jindo.$Jindo.checkVarType;
jindo.$Jindo._varTypeRetObj=function(){};
jindo.$Jindo._varTypeRetObj.prototype.toString=function(){return this.__type
};
jindo.$Jindo.checkVarType._throwException=function(j,p,a){var d=function(w){for(var y in jindo){if(jindo.hasOwnProperty(y)){var s=jindo[y];
if(typeof s!=="function"){continue
}if(w instanceof s){return y
}}}var t=jindo.$Jindo;
for(var y in t){if(t.hasOwnProperty(y)){if(!/^is(.+)$/.test(y)){continue
}var z=RegExp.$1;
var r=t[y];
if(r(w)){return z
}}}return"Unknown"
};
var g=function(z,t,y){var r=["잘못된 파라미터입니다.",""];
if(z){r.push("호출한 형태 :");
r.push("\t"+z);
r.push("")
}if(t.length){r.push("사용 가능한 형태 :");
for(var s=0,w=t.length;
s<w;
s++){r.push("\t"+t[s])
}r.push("")
}if(y){r.push("매뉴얼 페이지 :");
r.push("\t"+y);
r.push("")
}r.unshift();
return r.join("\n")
};
var f=[];
for(var h=0,b=j.length;
h<b;
++h){try{f.push(d(j[h]))
}catch(m){f.push("Unknown")
}}var c=a+"("+f.join(", ")+")";
var k=[];
for(var q in p){if(p.hasOwnProperty(q)){var o=p[q];
k.push(""+a+"("+o.join(", ").replace(/(^|,\s)[^:]+:/g,"$1")+")")
}}var n;
if(/(\$\w+)#(\w+)?/.test(a)){n="@docurl@"+encodeURIComponent(RegExp.$1)+".html#method_"+RegExp.$2
}throw new TypeError(g(c,k,n))
};
jindo.$Jindo.varType=function(){var f=this.checkVarType(arguments,{s4str:["sTypeName:String+","fpFunc:Function+"],s4obj:["oTypeLists:Hash+"],g:["sTypeName:String+"]});
var c=jindo.$Jindo._denyTypeListComma;
switch(f+""){case"s4str":var d=","+f.sTypeName.replace(/\+$/,"")+",";
if(c.indexOf(d)>-1){throw new Error("Not allowed Variable Type")
}this._varTypeList[f.sTypeName]=f.fpFunc;
return this;
case"s4obj":var b=f.oTypeLists;
for(var a in b){if(b.hasOwnProperty(a)){fpFunc=b[a];
arguments.callee.call(this,a,fpFunc)
}}return this;
case"g":return this._varTypeList[f.sTypeName]
}};
jindo.$Jindo.VARTYPE_NOT_MATCHED={};
(function(){var c=jindo.$Jindo._varTypeList={};
var b=jindo.$Jindo;
var d=b.VARTYPE_NOT_MATCHED;
c.Numeric=function(g){if(b.isNumeric(g)){return g*1
}return d
};
c.Hash=function(h,g){if(g&&jindo.$H&&h instanceof jindo.$H){return h.$value()
}else{if(b.isHash(h)){return h
}}return d
};
c["$Class"]=function(h,g){if((!b.isFunction(h))||!h.extend){return d
}return h
};
var f=[];
for(var a in b){if(b.hasOwnProperty(a)){if(/^is(.+)$/.test(a)){f.push(RegExp.$1)
}}}b._denyTypeListComma=f.join(",");
b.varType("ArrayStyle",function(h,g){if(!h){return d
}if(/(Arguments|NodeList|HTMLCollection|global|Window)/.test(jindo._p_._objToString.call(h))||/Object/.test(jindo._p_._objToString.call(h))&&b.isNumeric(h.length)){return jindo._p_._toArray(h)
}return d
});
b.varType("Form",function(h,g){if(!h){return d
}if(g&&h.$value){h=h.$value()
}if(h.tagName&&h.tagName.toUpperCase()=="FORM"){return h
}return d
})
})();
jindo._p_._createEle=function(h,g,a,f){var c="R"+new Date().getTime()+parseInt(Math.random()*100000,10);
var d=a.createElement("div");
switch(h){case"select":case"table":case"dl":case"ul":case"fieldset":case"audio":d.innerHTML="<"+h+' class="'+c+'">'+g+"</"+h+">";
break;
case"thead":case"tbody":case"col":d.innerHTML="<table><"+h+' class="'+c+'">'+g+"</"+h+"></table>";
break;
case"tr":d.innerHTML='<table><tbody><tr class="'+c+'">'+g+"</tr></tbody></table>";
break;
default:d.innerHTML='<div class="'+c+'">'+g+"</div>"
}var b;
for(b=d.firstChild;
b;
b=b.firstChild){if(b.className==c){break
}}return f?b:b.childNodes
};
jindo.$=function(k){if(!arguments.length){throw new jindo.$Error(jindo.$Except.NOT_FOUND_ARGUMENT,"$")
}var j=[],o=arguments,n=o.length,h=o[n-1],m=document,c=null;
var d=/^<([a-z]+|h[1-5])>$/i;
var f=/^<([a-z]+|h[1-5])(\s+[^>]+)?>/i;
if(n>1&&typeof h!="string"&&h.body){o=Array.prototype.slice.apply(o,[0,n-1]);
m=h
}for(var g=0;
g<n;
g++){c=o[g]&&o[g].$value?o[g].$value():o[g];
if(jindo.$Jindo.isString(c)||jindo.$Jindo.isNumeric(c)){c+="";
c=c.replace(/^\s+|\s+$/g,"");
c=c.replace(/<!--(.|\n)*?-->/g,"");
if(c.indexOf("<")>-1){if(d.test(c)){c=m.createElement(RegExp.$1)
}else{if(f.test(c)){var b={thead:"table",tbody:"table",tr:"tbody",td:"tr",dt:"dl",dd:"dl",li:"ul",legend:"fieldset",option:"select",source:"audio"};
var r=RegExp.$1.toLowerCase();
var q=jindo._p_._createEle(b[r],c,m);
for(var g=0,a=q.length;
g<a;
g++){j.push(q[g])
}c=null
}}}else{c=m.getElementById(c)
}}if(c&&c.nodeType){j[j.length]=c
}}return j.length>1?j:(j[0]||null)
};
jindo.$Class=function(oDef){var oArgs=g_checkVarType(arguments,{"4obj":["oDef:Hash+"]},"$Class");
function typeClass(){var t=this;
var a=[];
var superFunc=function(m,superClass,func){if(m!="constructor"&&func.toString().indexOf("$super")>-1){var funcArg=func.toString().replace(/function\s*\(([^\)]*)[\w\W]*/g,"$1").split(",");
var funcStr=func.toString().replace(/function[^{]*{/,"").replace(/(\w|\.?)(this\.\$super|this)/g,function(m,m2,m3){if(!m2){return m3+".$super"
}return m
});
funcStr=funcStr.substr(0,funcStr.length-1);
func=superClass[m]=eval("false||function("+funcArg.join(",")+"){"+funcStr+"}")
}return function(){var f=this.$this[m];
var t=this.$this;
var r=(t[m]=func).apply(t,arguments);
t[m]=f;
return r
}
};
while(t._$superClass!==undefined){t.$super=new Object;
t.$super.$this=this;
for(var x in t._$superClass.prototype){if(t._$superClass.prototype.hasOwnProperty(x)){if(this[x]===undefined&&x!="$init"){this[x]=t._$superClass.prototype[x]
}if(x!="constructor"&&x!="_$superClass"&&typeof t._$superClass.prototype[x]=="function"){t.$super[x]=superFunc(x,t._$superClass,t._$superClass.prototype[x])
}else{t.$super[x]=t._$superClass.prototype[x]
}}}if(typeof t.$super.$init=="function"){a[a.length]=t
}t=t.$super
}for(var i=a.length-1;
i>-1;
i--){a[i].$super.$init.apply(a[i].$super,arguments)
}if(this.$autoBind){for(var i in this){if(/^\_/.test(i)){this[i]=jindo.$Fn(this[i],this).bind()
}}}if(typeof this.$init=="function"){this.$init.apply(this,arguments)
}}if(oDef.$static!==undefined){var i=0,x;
for(x in oDef){if(oDef.hasOwnProperty(x)){x=="$static"||i++
}}for(x in oDef.$static){if(oDef.$static.hasOwnProperty(x)){typeClass[x]=oDef.$static[x]
}}if(!i){return oDef.$static
}delete oDef.$static
}typeClass.prototype=oDef;
typeClass.prototype.constructor=typeClass;
typeClass.prototype.kindOf=function(oClass){return jindo._p_._kindOf(this.constructor.prototype,oClass.prototype)
};
typeClass.extend=jindo.$Class.extend;
return typeClass
};
jindo._p_._kindOf=function(b,a){if(b!=a){if(b._$superClass){return jindo._p_._kindOf(b._$superClass.prototype,a)
}else{return false
}}else{return true
}};
jindo.$Class.extend=function(c){var d=g_checkVarType(arguments,{"4obj":["oDef:$Class"]},"<static> $Class#extend");
this.prototype._$superClass=c;
var b=c.prototype;
for(var f in b){if(jindo.$Jindo.isHash(b[f])){jindo.$Jindo._warn(jindo.$Except.CANNOT_SET_OBJ_PROPERTY)
}}for(var a in c){if(c.hasOwnProperty(a)){if(a=="prototype"){continue
}this[a]=c[a]
}}return this
};
jindo.$$=jindo.cssquery=(function(){var y;
this._dummyWrap;
function h(){var A=y._dummyWrap;
if(!A){y._dummyWrap=A=document.createElement("div");
A.id="__jindo_cssquery_mockdiv";
A.style.cssText="display:none !important;";
A.className="This element is for jindo.$$.test";
document.body.insertBefore(A,document.body.firstChild)
}y._dummyWrap=A
}var j=1;
var z={};
function m(A){return/\[\s*(?:checked|selected|disabled)/.test(A)
}function w(B,A){return B.replace(/\,/gi,A)
}function k(A){return/^[~>+]/.test(A)
}function f(B){var A;
B=B&&B.$value?B.$value():B;
if(jindo.$Jindo.isString(B)){B=document.getElementById(B)
}if(!B){B=document
}A=B.nodeType;
if(A!=1&&A!=9&&A!=10&&A!=11){B=B.ownerDocument||B.document
}return B||B.ownerDocument||B.document
}function r(A,C){var B,D;
if(/^\w+$/.test(A.id)){B="#"+A.id
}else{D="C"+new Date().getTime()+Math.floor(Math.random()*1000000);
A.setAttribute(C,D);
B="["+C+"="+D+"]"
}return B
}function b(C){var F=[],E={},A,B,D;
for(D=0;
B=C[D];
D++){A=p(B);
if(E[A]){continue
}F.push(B);
E[A]=true
}return F
}function p(B){var A=B._cssquery_UID;
if(A&&z[A]==B){return A
}B._cssquery_UID=A=j++;
z[A]=B;
return A
}var d=/(.*?)\s*(![>+~]?)\s*(.*)/;
var c=/[!>~+\s]/;
var a=/(.*?)[!>~+\s]/;
function g(H){var F=[];
var C=H.match(d);
if(C){if(c.test(C[3])){var E;
var B=C[3].replace(a,function(I,J){E=J;
return jindo._p_.trim(I.replace(J,""))
});
F.push({left:C[1],com:C[2],right:jindo._p_.trim(E)});
var G=g(B);
for(var D=0,A=G.length;
D<A;
D++){F.push(G[D])
}}else{F.push({left:C[1],com:C[2],right:C[3]})
}}else{F.push({left:H,com:"",right:""})
}return F
}function s(H,G,C){var F=G;
if(G.nodeType==1){F=G.ownerDocument||G.document
}var E=g(H);
var A=[F];
for(var D=0,B=E.length;
D<B;
D++){A=o(E[D],A,C&&C.single&&(D==E.length-1))
}if(!A){return[]
}return b(A)
}function o(C,D,B){var A=C.com;
switch(A){case"!":case"!>":return n("parentNode",C,D,A=="!",B);
case"!~":case"!+":return n("previousElementSibling",C,D,A=="!~",B);
default:return t(C,D,B)
}}function n(G,I,D,E,A){var H=[];
var K=[];
if(I.left){for(var C=0,B=D.length;
C<B;
C++){H=H.concat(y(I.left,D[C]))
}}else{H=D
}var F;
var J=I.right;
for(var C=0,B=H.length;
C<B;
C++){F=H[C][G];
if(E){while(F){if(y.test(F,J)){K.push(F);
if(K.length>0&&A){break
}}F=F[G]
}}else{if(F&&y.test(F,J)){K.push(F)
}}if(K.length>0&&A){break
}}return K
}function t(E,F,D){var A=[];
for(var C=0,B=F.length;
C<B;
C++){A=A.concat(y(E.left,F[C]));
if(A.length>0&&D){break
}}return A
}var q=document.createElement("div");
y=function(K,A,L){var F=jindo.$Jindo.checkVarType(arguments,{"4str":["sQuery:String+"],"4var":["sQuery:String+","oParent:Variant"],"4var2":["sQuery:String+","oParent:Variant","oOptions:Variant"]},"cssquery"),H,G,N,E,J,C,M,B,D;
A=f(A);
L=L&&L.$value?L.$value():L;
K=K.replace(/\[(.*?)\=(\d*)\]/g,function(O,P,Q){return"["+P+"='"+Q+"']"
});
if(m(K)){throw new jindo.$Error(jindo.$Except.NOT_SUPPORT_SELECTOR,(L&&L.single?"<static> cssquery.getSingle":"cssquery"))
}N=A.nodeType;
B=(A.tagName||"").toUpperCase();
if(N!==9&&B!="HTML"){if(N===11){A=A.cloneNode(true);
M=q.cloneNode(true);
M.appendChild(A);
A=M;
M=null
}C=r(A,"queryid");
if((D=A.parentNode)||B==="BODY"||jindo.$Element._contain((A.ownerDocument||A.document).body,A)){J=A;
A=D
}else{M=q.cloneNode(true);
J=A;
M.appendChild(J);
A=M
}K=w(C+" "+K,", "+C+" ")
}else{A=(A.ownerDocument||A.document||A);
if(k(K)){return[]
}}try{if(!/!=/.test(K)&&K.indexOf("!")>-1){G=s(K,A,L)
}else{if(L&&L.single){G=[A.querySelector(K)]
}else{G=jindo._p_._toArray(A.querySelectorAll(K))
}}}catch(I){throw I
}finally{if(E){J.removeAttribute("queryid");
M=null
}}return G
};
y.test=function(C,D){if(!y._dummyWrap){h()
}var A=false;
if(C.nodeType==1){var B=C.cloneNode(false);
y._dummyWrap.appendChild(B);
A=y.getSingle(D,y._dummyWrap)?true:false;
y._dummyWrap.innerHTML=""
}return A
};
y.useCache=function(A){};
y.clearCache=function(){};
y.release=function(){};
y.getSingle=function(C,B,A){return y(C,B,{single:true})[0]||null
};
y.extreme=function(A){};
y._makeQueryParseTree=g;
return y
})();
jindo.$Agent=function(){var a=arguments.callee;
var b=a._cached;
if(b){return b
}if(!(this instanceof a)){return new a
}if(!b){a._cached=this
}this._navigator=navigator;
this._dm=document.documentMode
};
jindo.$Agent.prototype.navigator=function(){var c={};
ver=-1,nativeVersion=-1,u=this._navigator.userAgent,v=this._navigator.vendor||"",dm=this._dm;
function a(g,f){return((f||"").indexOf(g)>-1)
}c.getName=function(){var f="";
for(x in c){if(typeof c[x]=="boolean"&&c[x]&&c.hasOwnProperty(x)){f=x
}}return f
};
c.webkit=a("WebKit",u);
c.opera=(window.opera!==undefined)||a("Opera",u);
c.chrome=c.webkit&&a("Chrome",u);
c.mobile=(a("Mobile",u)||a("Android",u)||a("Nokia",u)||a("webOS",u)||a("Opera Mini",u)||a("BlackBerry",u)||(a("Windows",u)&&a("PPC",u))||a("Smartphone",u)||a("IEMobile",u))&&!a("iPad",u);
c.msafari=(!a("IEMobile",u)&&a("Mobile",u))||(a("iPad",u)&&a("Safari",u));
c.mopera=a("Opera Mini",u);
c.mie=a("PPC",u)||a("Smartphone",u)||a("IEMobile",u);
try{if(c.mie){if(dm>0){ver=dm;
if(u.match(/(?:Trident)\/([0-9.]+)/)){var d=parseInt(RegExp.$1,10);
if(d>3){nativeVersion=d+4
}}else{nativeVersion=ver
}}else{nativeVersion=ver=u.match(/(?:MSIE) ([0-9.]+)/)[1]
}}else{if(c.msafari){ver=parseFloat(u.match(/Safari\/([0-9.]+)/)[1]);
if(ver==100){ver=1.1
}else{if(u.match(/Version\/([0-9.]+)/)){ver=RegExp.$1
}else{ver=[1,1.2,-1,1.3,2,3][Math.floor(ver/100)]
}}}else{if(c.mopera){ver=u.match(/(?:Opera\sMini)\/([0-9.]+)/)[1]
}else{if(c.opera){ver=u.match(/(?:Opera)\/([0-9.]+)/)[1]
}else{if(c.chrome){ver=u.match(/Chrome[ \/]([0-9.]+)/)[1]
}}}}}c.version=parseFloat(ver);
c.nativeVersion=parseFloat(nativeVersion);
if(isNaN(c.version)){c.version=-1
}}catch(b){c.version=-1
}this.navigator=function(){return c
};
return c
};
jindo.$Agent.prototype.os=function(){var d={},a=this._navigator.userAgent,c=this._navigator.platform,b=function(j,f){return(f.indexOf(j)>-1)
},g=null;
d.getName=function(){var f="";
for(x in d){if(d[x]===true&&d.hasOwnProperty(x)){f=x
}}return f
};
d.ipad=b("iPad",a);
d.iphone=b("iPhone",a)&&!d.ipad;
d.android=b("Android",a);
d.nokia=b("Nokia",a);
d.blackberry=b("BlackBerry",a);
d.mwin=b("PPC",a)||b("Smartphone",a)||b("IEMobile",a)||b("Windows Phone",a);
d.ios=d.ipad||d.iphone;
d.symbianos=b("SymbianOS",a);
d.version=null;
if(d.android){g=a.match(/Android ([\d|\.]+)/);
if(g!=null&&g[1]!=undefined){d.version=g[1]
}}else{if(d.ios){g=a.match(/(iPhone )?OS ([\d|_]+)/);
if(g!=null&&g[2]!=undefined){d.version=String(g[2]).split("_").join(".")
}}else{if(d.blackberry){g=a.match(/Version\/([\d|\.]+)/);
if(g==null){g=a.match(/BlackBerry\s?\d{4}\/([\d|\.]+)/)
}if(g!=null&&g[1]!=undefined){d.version=g[1]
}}else{if(d.symbianos){g=a.match(/SymbianOS\/(\d+.\w+)/);
if(g!=null&&g[1]!=undefined){d.version=g[1]
}}else{if(d.mwin){g=a.match(/Windows CE ([\d|\.]+)/);
if(g!=null&&g[1]!=undefined){d.version=g[1]
}if(!d.version&&(g=a.match(/Windows Phone (OS )?([\d|\.]+)/))){d.version=g[2]
}}}}}}this.os=function(){return d
};
return d
};
jindo.$A=function(f){var a=arguments.callee;
if(f instanceof a){return f
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$A");
return new a(f)
}catch(d){if(d instanceof TypeError){return null
}throw d
}}var c=g_checkVarType(arguments,{"4voi":[],"4arr":["aPram:Array+"],"4nul":["oNull:Null"],"4und":["oUndefined:Undefined"],arrt:["aPram:ArrayStyle"]},"$A");
if(c==null){f=[]
}switch(c+""){case"arrt":case"4arr":f=c.aPram;
break;
case"4nul":case"4und":case"4voi":f=[]
}this._array=[];
for(var b=0;
b<f.length;
b++){this._array[this._array.length]=f[b]
}};
jindo.$A.checkVarTypeObj={"4fun":["fCallback:Function+"],"4thi":["fCallback:Function+","oThis:Variant"]};
jindo.$A.prototype.toString=function(){return this._array.toString()
};
jindo.$A.prototype.get=function(a){g_checkVarType(arguments,{"4num":["nIndex:Numeric"]},"$A#get");
return this._array[a]
};
jindo.$A.prototype.set=function(a,b){g_checkVarType(arguments,{"4num":["nIndex:Numeric","vValue:Variant"]},"$A#set");
this._array[a]=b;
return this
};
jindo.$A.prototype.length=function(f,b){var d=g_checkVarType(arguments,{"4num":[jindo.$Jindo._F("nLen:Numeric")],sv:["nLen:Numeric","vValue:Variant"],"4voi":[]},"$A#length");
switch(d+""){case"4num":this._array.length=d.nLen;
return this;
case"sv":var a=this._array.length;
this._array.length=d.nLen;
for(var c=a;
c<f;
c++){this._array[c]=d.vValue
}return this;
case"4voi":return this._array.length
}};
jindo.$A.prototype.has=function(a){return(this.indexOf(a)>-1)
};
jindo.$A.prototype.indexOf=function(a){return this._array.indexOf(a)
};
jindo.$A.prototype.$value=function(){return this._array
};
jindo.$A.prototype.push=function(a){return this._array.push.apply(this._array,jindo._p_._toArray(arguments))
};
jindo.$A.prototype.pop=function(){return this._array.pop()
};
jindo.$A.prototype.shift=function(){return this._array.shift()
};
jindo.$A.prototype.unshift=function(a){this._array.unshift.apply(this._array,jindo._p_._toArray(arguments));
return this._array.length
};
jindo.$A.prototype.forEach=function(h,a){var c=g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#forEach");
var b=this;
function d(j,k,f){try{h.apply(a||b,jindo._p_._toArray(arguments))
}catch(m){if(!(m instanceof b.constructor.Continue)){throw m
}}}try{this._array.forEach(d)
}catch(g){if(!(g instanceof this.constructor.Break)){throw g
}}return this
};
jindo.$A.prototype.slice=function(c,d){var b=this._array.slice.call(this._array,c,d);
return jindo.$A(b)
};
jindo.$A.prototype.splice=function(b,d){var c=this._array.splice.apply(this._array,jindo._p_._toArray(arguments));
return jindo.$A(c)
};
jindo.$A.prototype.shuffle=function(){this._array.sort(function(d,c){return Math.random()>Math.random()?1:-1
});
return this
};
jindo.$A.prototype.reverse=function(){this._array.reverse();
return this
};
jindo.$A.prototype.empty=function(){this._array.length=0;
return this
};
jindo.$A.prototype.sort=function(a){var b=g_checkVarType(arguments,{"void":[],"4fp":["fpSort:Function+"]},"$A#sort");
if(a){this._array.sort(jindo.$Fn(b.fpSort,this).bind())
}else{this._array.sort()
}return this
};
jindo.$A.Break=jindo.$Jindo.Break;
jindo.$A.Continue=jindo.$Jindo.Continue;
jindo.$A.prototype.map=function(h,a){var c=g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#map");
if(c==null){return this
}var g=[];
var b=this;
function d(j,k,f){try{g.push(h.apply(a||this,jindo._p_._toArray(arguments)))
}catch(m){if(m instanceof b.constructor.Continue){g.push(j)
}else{throw m
}}}this.forEach(d);
return jindo.$A(g)
};
jindo.$A.prototype.filter=function(j,a){var c=g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#filter");
if(c==null){return this
}var g=[];
var b=this;
function d(k,m,f){try{if(j.apply(a||b,jindo._p_._toArray(arguments))){g.push(k)
}}catch(n){if(!(n instanceof b.constructor.Continue)){throw n
}}}try{this.forEach(d)
}catch(h){if(!(h instanceof this.constructor.Break)){throw h
}}return jindo.$A(g)
};
jindo.$A.prototype.every=function(b,a){g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#every");
return this._array.every(b,a||this)
};
jindo.$A.prototype.some=function(b,a){g_checkVarType(arguments,jindo.$A.checkVarTypeObj,"$A#some");
return this._array.some(b,a||this)
};
jindo.$A.prototype.refuse=function(c){var b=jindo.$A(jindo._p_._toArray(arguments));
return this.filter(function(a,d){return !(b.indexOf(a)>-1)
})
};
jindo.$A.prototype.unique=function(){var f=this._array,c=[],d=f.length;
var h,g;
for(h=0;
h<d;
h++){for(g=0;
g<c.length;
g++){if(f[h]==c[g]){break
}}if(g>=c.length){c[g]=f[h]
}}this._array=c;
return this
};
jindo.$H=function(d){var a=arguments.callee;
if(d instanceof a){return d
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$H");
return new a(d||{})
}catch(f){if(f instanceof TypeError){return null
}throw f
}}var c=g_checkVarType(arguments,{"4obj":["oObj:Hash+"],"4vod":[]},"$H");
this._table={};
for(var b in d){if(d.hasOwnProperty(b)){this._table[b]=d[b]
}}};
jindo.$H.prototype.$value=function(){return this._table
};
jindo.$H.prototype.$=function(b,d){var c=g_checkVarType(arguments,{s4var:[jindo.$Jindo._F("key:String+"),"value:Variant"],s4var2:["key:Numeric","value:Variant"],g4str:["key:String+"],s4obj:["oObj:Hash+"],g4num:["key:Numeric"]},"$H#$");
switch(c+""){case"s4var":case"s4var2":this._table[b]=d;
return this;
case"s4obj":var f=c.oObj;
for(var a in f){if(f.hasOwnProperty(a)){this._table[a]=f[a]
}}return this;
default:return this._table[b]
}};
jindo.$H.prototype.length=function(){var b=0;
var c=this["__jindo_sorted_index"];
if(c){return c.length
}else{for(var a in this._table){if(this._table.hasOwnProperty(a)){if(Object.prototype[a]!==undefined&&Object.prototype[a]===this._table[a]){continue
}b++
}}}return b
};
jindo.$H.prototype.forEach=function(m,n){var c=g_checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#forEach");
var o=this._table;
var f=this.constructor;
var j=this["__jindo_sorted_index"];
if(j){for(var d=0,a=j.length;
d<a;
d++){try{var b=j[d];
m.call(n||this,o[b],b,o)
}catch(g){if(g instanceof f.Break){break
}if(g instanceof f.Continue){continue
}throw g
}}}else{for(var b in o){if(o.hasOwnProperty(b)){if(!o.propertyIsEnumerable(b)){continue
}try{m.call(n||this,o[b],b,o)
}catch(g){if(g instanceof f.Break){break
}if(g instanceof f.Continue){continue
}throw g
}}}}return this
};
jindo.$H.prototype.filter=function(m,b){var g=g_checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#filter");
var f=jindo.$H();
var d=this._table;
var c=this.constructor;
for(var a in d){if(d.hasOwnProperty(a)){if(!d.propertyIsEnumerable(a)){continue
}try{if(m.call(b||this,d[a],a,d)){f.add(a,d[a])
}}catch(j){if(j instanceof c.Break){break
}if(j instanceof c.Continue){continue
}throw j
}}}return f
};
jindo.$H.prototype.map=function(m,b){var g=g_checkVarType(arguments,{"4fun":["callback:Function+"],"4obj":["callback:Function+","thisObject:Variant"]},"$H#map");
var f=jindo.$H();
var d=this._table;
var c=this.constructor;
for(var a in d){if(d.hasOwnProperty(a)){if(!d.propertyIsEnumerable(a)){continue
}try{f.add(a,m.call(b||this,d[a],a,d))
}catch(j){if(j instanceof c.Break){break
}if(j instanceof c.Continue){f.add(a,d[a])
}else{throw j
}}}}return f
};
jindo.$H.prototype.add=function(a,c){var b=g_checkVarType(arguments,{"4str":["key:String+","value:Variant"],"4num":["key:Numeric","value:Variant"]},"$H#add");
var d=this["__jindo_sorted_index"];
if(d&&this._table[a]==undefined){this["__jindo_sorted_index"].push(a)
}this._table[a]=c;
return this
};
jindo.$H.prototype.remove=function(c){var d=g_checkVarType(arguments,{"4str":["key:String+"],"4num":["key:Numeric"]},"$H#remove");
if(this._table[c]===undefined){return null
}var h=this._table[c];
delete this._table[c];
var f=this["__jindo_sorted_index"];
if(f){var g=[];
for(var b=0,a=f.length;
b<a;
b++){if(f[b]!=c){g.push(f[b])
}}this["__jindo_sorted_index"]=g
}return h
};
jindo.$H.prototype.search=function(g){var f=g_checkVarType(arguments,{"4str":["value:Variant"]},"$H#search");
var a=false;
var d=this._table;
for(var c in d){if(d.hasOwnProperty(c)){if(!d.propertyIsEnumerable(c)){continue
}var b=d[c];
if(b===g){a=c;
break
}}}return a
};
jindo.$H.prototype.hasKey=function(a){var b=g_checkVarType(arguments,{"4str":["key:String+"],"4num":["key:Numeric"]},"$H#hasKey");
return this._table[a]!==undefined
};
jindo.$H.prototype.hasValue=function(b){var a=g_checkVarType(arguments,{"4str":["value:Variant"]},"$H#hasValue");
return(this.search(b)!==false)
};
jindo._p_.defaultSort=function(c,j,m){var h=[];
var f=c.fpSort;
for(var d in j._table){if(j._table.hasOwnProperty(d)){(function(o,n){h.push({key:o,val:n})
})(d,j._table[d])
}}if(c+""==="vo"){f=function(n,k){return n===k?0:n>k?1:-1
}
}h.sort(function(n,k){return f.call(j,n[m],k[m])
});
var a=[];
for(var g=0,b=h.length;
g<b;
g++){a.push(h[g].key)
}return a
};
jindo.$H.prototype.sort=function(a){var b=g_checkVarType(arguments,{vo:[],"4fp":["fpSort:Function+"]},"$H#sort");
this["__jindo_sorted_index"]=jindo._p_.defaultSort(b,this,"val");
return this
};
jindo.$H.prototype.ksort=function(a){var b=g_checkVarType(arguments,{vo:[],"4fp":["fpSort:Function+"]},"$H#ksort");
this["__jindo_sorted_index"]=jindo._p_.defaultSort(b,this,"key");
return this
};
jindo.$H.prototype.keys=function(){var b=this["__jindo_sorted_index"];
if(!b){b=[];
for(var a in this._table){if(this._table.hasOwnProperty(a)){b.push(a)
}}}return b
};
jindo.$H.prototype.values=function(){var b=[];
for(var a in this._table){if(this._table.hasOwnProperty(a)){b[b.length]=this._table[a]
}}return b
};
jindo.$H.prototype.toQueryString=function(){var c=[],d=null,a=0;
for(var b in this._table){if(this._table.hasOwnProperty(b)){d=this._table[b];
if(jindo.$Jindo.isArray(d)){for(i=0;
i<d.length;
i++){c[c.length]=encodeURIComponent(b)+"[]="+encodeURIComponent(d[i]+"")
}}else{c[c.length]=encodeURIComponent(b)+"="+encodeURIComponent(this._table[b]+"")
}}}return c.join("&")
};
jindo.$H.prototype.empty=function(){this._table={};
delete this["__jindo_sorted_index"];
return this
};
jindo.$H.Break=jindo.$Jindo.Break;
jindo.$H.Continue=jindo.$Jindo.Continue;
jindo.$Fn=function(func,thisObject){var cl=arguments.callee;
if(func instanceof cl){return func
}if(!(this instanceof cl)){try{jindo.$Jindo._maxWarn(arguments.length,2,"$Fn");
return new cl(func,thisObject)
}catch(e){if(e instanceof TypeError){return null
}throw e
}}var oArgs=g_checkVarType(arguments,{"4fun":["func:Function+"],"4fun2":["func:Function+","thisObject:Variant"],"4str":["func:String+","thisObject:String+"]},"$Fn");
this._tmpElm=null;
this._key=null;
switch(oArgs+""){case"4str":this._func=eval("false||function("+func+"){"+thisObject+"}");
break;
case"4fun":case"4fun2":this._func=func;
this._this=thisObject
}};
jindo.$Fn._commonPram=function(b,a){return g_checkVarType(b,{"4ele":["eElement:Element+","sEvent:String+"],"4ele2":["eElement:Element+","sEvent:String+","bUseCapture:Boolean"],"4str":["eElement:String+","sEvent:String+"],"4str2":["eElement:String+","sEvent:String+","bUseCapture:Boolean"],"4arr":["aElement:Array+","sEvent:String+"],"4arr2":["aElement:Array+","sEvent:String+","bUseCapture:Boolean"],"4doc":["eElement:Document+","sEvent:String+"],"4win":["eElement:Window+","sEvent:String+"],"4doc2":["eElement:Document+","sEvent:String+","bUseCapture:Boolean"],"4win2":["eElement:Window+","sEvent:String+","bUseCapture:Boolean"]},a)
};
jindo.$Fn.prototype.$value=function(){return this._func
};
jindo.$Fn.prototype.bind=function(){var d=jindo._p_._toArray(arguments);
var h=this._func;
var g=this._this||this;
var c;
if(h.bind){d.unshift(g);
c=Function.prototype.bind.apply(h,d)
}else{c=function(){var a=jindo._p_._toArray(arguments);
if(d.length){a=d.concat(a)
}return h.apply(g,a)
}
}return c
};
jindo.$Fn.prototype.attach=function(d,b,h){var g=jindo.$Fn._commonPram(arguments,"$Fn#attach");
var m=null,f,k=b,c=d,a=jindo._p_._j_ag;
if(h!==true){h=false
}this._bUseCapture=h;
switch(g+""){case"4arr":case"4arr2":var c=g.aElement;
var k=g.sEvent;
for(var j=0,f=c.length;
j<f;
j++){this.attach(c[j],k,!!h)
}return this
}m=this._bind=this._bind?this._bind:this.bind();
jindo.$Element(c).attach(k,m);
return this
};
jindo.$Fn.prototype.detach=function(d,b,h){var g=jindo.$Fn._commonPram(arguments,"$Fn#detach");
var m=null,f,c=d,k=b,a=jindo._p_._j_ag;
switch(g+""){case"4arr":case"4arr2":var c=g.aElement;
var k=g.sEvent;
for(var j=0,f=c.length;
j<f;
j++){this.detach(c[j],k,!!h)
}return this
}m=this._bind=this._bind?this._bind:this.bind();
jindo.$Element(g.eElement).detach(g.sEvent,m);
return this
};
jindo.$Fn.prototype.delay=function(a,b){var c=g_checkVarType(arguments,{"4num":["nSec:Numeric"],"4arr":["nSec:Numeric","args:Array+"]},"$Fn#delay");
switch(c+""){case"4num":b=b||[];
break;
case"4arr":b=c.args
}this._delayKey=setTimeout(this.bind.apply(this,b),a*1000);
return this
};
jindo.$Fn.prototype.setInterval=function(a,b){var c=g_checkVarType(arguments,{"4num":["nSec:Numeric"],"4arr":["nSec:Numeric","args:Array+"]},"$Fn#setInterval");
switch(c+""){case"4num":b=b||[];
break;
case"4arr":b=c.args
}this._repeatKey=setInterval(this.bind.apply(this,b),a*1000);
return this
};
jindo.$Fn.prototype.repeat=jindo.$Fn.prototype.setInterval;
jindo.$Fn.prototype.stopDelay=function(){if(this._delayKey!==undefined){window.clearTimeout(this._delayKey);
delete this._delayKey
}return this
};
jindo.$Fn.prototype.stopRepeat=function(){if(this._repeatKey!==undefined){window.clearInterval(this._repeatKey);
delete this._repeatKey
}return this
};
jindo.$Event=function(b){var a=arguments.callee;
if(b instanceof a){return b
}if(!(this instanceof a)){return new a(b)
}this._event=this._posEvent=b;
this._globalEvent=window.event;
this.type=b.type.toLowerCase();
if(this.type=="dommousescroll"){this.type="mousewheel"
}else{if(this.type=="domcontentloaded"){this.type="domready"
}}this.isTouch=false;
if(this.type.indexOf("touch")>-1){this._posEvent=b.changedTouches[0];
this.isTouch=true
}this.canceled=false;
this.element=b.target||b.srcElement;
this.currentElement=b.currentTarget;
this.relatedElement=null;
if(!jindo.$Jindo.isUndefined(b.relatedTarget)){this.relatedElement=b.relatedTarget
}else{if(b.fromElement&&b.toElement){this.relatedElement=b[(this.type=="mouseout")?"toElement":"fromElement"]
}}};
jindo._p_.customEvent={};
jindo._p_.customEventStore={};
jindo._p_.normalCustomEvent={};
jindo._p_.hasCustomEvent=function(a){return !!(jindo._p_.getCustomEvent(a)||jindo._p_.normalCustomEvent[a])
};
jindo._p_.getCustomEvent=function(a){return jindo._p_.customEvent[a]
};
jindo._p_.addCustomEventListener=function(c,f,d,b,a){if(!jindo._p_.customEventStore[f]){jindo._p_.customEventStore[f]={};
jindo._p_.customEventStore[f].ele=c
}if(!jindo._p_.customEventStore[f][d]){jindo._p_.customEventStore[f][d]={}
}if(!jindo._p_.customEventStore[f][d][b]){jindo._p_.customEventStore[f][d][b]={custom:a}
}};
jindo._p_.setCustomEventListener=function(f,d,c,b,a){jindo._p_.customEventStore[f][d][c].real_listener=b;
jindo._p_.customEventStore[f][d][c].wrap_listener=a
};
jindo._p_.getCustomEventListener=function(d,c,b){var a=jindo._p_.customEventStore[d];
if(a&&a[c]&&a[c][b]){return a[c][b]
}return{}
};
jindo._p_.getNormalEventListener=function(d,c,b){var a=jindo._p_.normalCustomEvent[c];
if(a&&a[d]&&a[d][b]){return a[d][b]
}return{}
};
jindo._p_.hasCustomEventListener=function(d,c,b){var a=jindo._p_.customEventStore[d];
if(a&&a[c]&&a[c][b]){return true
}return false
};
jindo.$Event.customEvent=function(f,b){var d=g_checkVarType(arguments,{s4str:["sName:String+"],s4obj:["sName:String+","oEvent:Hash+"]},"$Event.customEvent");
switch(d+""){case"s4str":if(jindo._p_.hasCustomEvent(f)){throw new jindo.$Error("The Custom Event Name have to unique.")
}else{jindo._p_.normalCustomEvent[f]={}
}return this;
case"s4obj":if(jindo._p_.hasCustomEvent(f)){throw new jindo.$Error("The Custom Event Name have to unique.")
}else{jindo._p_.normalCustomEvent[f]={};
jindo._p_.customEvent[f]=function(){this.name=f;
this.real_listener=[];
this.wrap_listener=[]
};
var a=jindo._p_.customEvent[f].prototype;
a.events=[];
for(var c in b){a[c]=b[c];
a.events.push(c)
}jindo._p_.customEvent[f].prototype.fireEvent=function(h){for(var j=0,g=this.wrap_listener.length;
j<g;
j++){this.wrap_listener[j](h)
}}
}return this
}};
jindo.$Event.prototype.mouse=function(){var c=this._event;
var b=this.element;
var d=0;
var a={};
if(c.wheelDelta){d=c.wheelDelta/120
}else{if(c.detail){d=-c.detail/3
}}a={delta:d};
this.mouse=function(){return a
};
return a
};
jindo.$Event.prototype.key=function(){var c=this._event;
var a=c.keyCode||c.charCode;
var b={keyCode:a,alt:c.altKey,ctrl:c.ctrlKey,meta:c.metaKey,shift:c.shiftKey,up:(a==38),down:(a==40),left:(a==37),right:(a==39),enter:(a==13),esc:(a==27)};
this.key=function(){return b
};
return b
};
jindo.$Event.prototype.pos=function(k){g_checkVarType(arguments,{voi:[],bol:["bGetOffset:Boolean"]});
var f=this._posEvent;
var d=(this.element.ownerDocument||document);
var a=d.body;
var j=d.documentElement;
var h=[a.scrollLeft||j.scrollLeft,a.scrollTop||j.scrollTop];
var c={clientX:f.clientX,clientY:f.clientY,pageX:"pageX" in f?f.pageX:f.clientX+h[0]-a.clientLeft,pageY:"pageY" in f?f.pageY:f.clientY+h[1]-a.clientTop,layerX:"offsetX" in f?f.offsetX:f.layerX-1,layerY:"offsetY" in f?f.offsetY:f.layerY-1};
if(k&&jindo.$Element){var g=jindo.$Element(this.element).offset();
c.offsetX=c.pageX-g.left;
c.offsetY=c.pageY-g.top
}return c
};
jindo.$Event.prototype.stop=function(f){g_checkVarType(arguments,{voi:[],num:["nCancel:Numeric"]});
f=f||jindo.$Event.CANCEL_ALL;
var g=(window.event&&window.event==this._globalEvent)?this._globalEvent:this._event;
var a=!!(f&jindo.$Event.CANCEL_BUBBLE);
var h=!!(f&jindo.$Event.CANCEL_DEFAULT);
var c=this.realType;
if(a&&(c==="focusin"||c==="focusout")){jindo.$Jindo._warn("The "+c+" event can't stop bubble.")
}this.canceled=true;
if(g.preventDefault!==undefined&&h){g.preventDefault()
}if(g.stopPropagation!==undefined&&a){g.stopPropagation()
}return this
};
jindo.$Event.prototype.stopDefault=function(){return this.stop(jindo.$Event.CANCEL_DEFAULT)
};
jindo.$Event.prototype.stopBubble=function(){return this.stop(jindo.$Event.CANCEL_BUBBLE)
};
jindo.$Event.CANCEL_BUBBLE=1;
jindo.$Event.CANCEL_DEFAULT=2;
jindo.$Event.CANCEL_ALL=3;
jindo.$Event.prototype.$value=function(){return this._event
};
(function(b){var d="Touch";
for(var c=0,a=b.length;
c<a;
c++){jindo.$Event.prototype[b[c]+d]=(function(f){return function(g){if(this.isTouch){var m=[];
var k=this._event[f+"es"];
var h=k.length;
var n;
for(var j=0;
j<h;
j++){n=k[j];
m.push({id:n.identifier,event:this,element:n.target,_posEvent:n,pos:jindo.$Event.prototype.pos})
}this[f]=function(o){var p=g_checkVarType(arguments,{"void":[],"4num":["nIndex:Numeric"]},"$Event#"+f);
if(p+""=="void"){return m
}return m[o]
}
}else{this[f]=function(o){throw new jindo.$Error(jindo.$Except.NOT_SUPPORT_METHOD,"$Event#"+f)
}
}return this[f].apply(this,jindo._p_._toArray(arguments))
}
})(b[0]+d)
}})(["changed","target"]);
jindo.$Element=function(c){var a=arguments.callee;
if(c&&c instanceof a){return c
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$Element");
return new a(c)
}catch(f){if(f instanceof TypeError){return null
}throw f
}}var b=jindo.$Jindo;
var d=b.checkVarType(arguments,{"4str":["sID:String+"],"4nod":["oEle:Node"],"4doc":["oEle:Document+"],"4win":["oEle:Window+"]},"$Element");
switch(d+""){case"4str":c=jindo.$(c);
break;
default:c=d.oEle
}this._element=c;
if(this._element!=null){if(this._element.__jindo__id){this._key=this._element.__jindo__id
}else{this._element.__jindo__id=this._key=jindo._p_._makeRandom()
}this.tag=(this._element.tagName||"").toLowerCase()
}else{throw new TypeError("{not_found_element}")
}};
jindo._p_.NONE_GROUP="_jindo_event_none";
jindo._p_.splitEventSelector=function(d){var c=d.match(/^([a-z_]*)(.*)/i);
var b=jindo._p_.trim(c[1]);
var a=jindo._p_.trim(c[2].replace("@",""));
return{type:a?"delegate":"normal",event:b,selector:a}
};
jindo._p_._makeRandom=function(){return"e"+new Date().getTime()+parseInt(Math.random()*100000000,10)
};
jindo._p_.releaseEventHandlerForAllChildren=function(b){var d=b._element.all||b._element.getElementsByTagName("*"),a=d.length,f=null,c;
for(c=0;
c<a;
c++){f=d[c];
if(f.nodeType==1&&f.__jindo__id){jindo.$Element.eventManager.cleanUpUsingKey(f.__jindo__id,true)
}}d=f=null
};
jindo._p_.canUseClassList=function(){jindo._p_.canUseClassList=function(){return"classList" in document.body&&"classList" in document.createElementNS("http://www.w3.org/2000/svg","g")
};
return jindo._p_.canUseClassList()
};
jindo._p_.vendorPrefixObj={"-moz":"Moz","-ms":"ms","-o":"O","-webkit":"webkit"};
jindo._p_.cssNameToJavaScriptName=function(a){if(/^(\-(?:moz|ms|o|webkit))/.test(a)){var b=RegExp.$1;
a=a.replace(b,jindo._p_.vendorPrefixObj[b])
}return a.replace(/(:?-(\w))/g,function(d,d,c){return c.toUpperCase()
})
};
jindo._p_.getStyleIncludeVendorPrefix=function(g){var p=["Transition","Transform","Animation","Perspective"];
var o=["webkit","-","Moz","O","ms"];
var b="";
var n="";
var k="";
var q={};
var a=g||document.body.style;
for(var h=0,d=p.length;
h<d;
h++){b=p[h];
for(var f=0,c=o.length;
f<c;
f++){n=o[f];
k=n!="-"?(n+b):b.toLowerCase();
if(typeof a[k]!=="undefined"){q[b.toLowerCase()]=k;
break
}q[b.toLowerCase()]=false
}}if(g){return q
}jindo._p_.getStyleIncludeVendorPrefix=function(){return q
};
return jindo._p_.getStyleIncludeVendorPrefix()
};
jindo._p_.getTransformStringForValue=function(c){var b=jindo._p_.getStyleIncludeVendorPrefix(c);
var a=b.transform;
if(b.transform==="MozTransform"){a="-moz-transform"
}else{if(b.transform==="webkitTransform"){a="-webkit-transform"
}else{if(b.transform==="OTransform"){a="-o-transform"
}else{if(b.transform==="msTransform"){a="-ms-transform"
}}}}if(c){return a
}jindo._p_.getTransformStringForValue=function(){return a
};
return jindo._p_.getTransformStringForValue()
};
jindo._p_.setOpacity=function(a,b){a.offsetHeight;
a.style.opacity=b
};
jindo.$Element._eventBind=function(a,d,c,b){a.addEventListener(d,c,!!b)
};
jindo.$Element._unEventBind=function(a,c,b){a.removeEventListener(c,b,false)
};
jindo.$Element.prototype.$value=function(){return this._element
};
jindo.$Element.prototype.visible=function(a,c){var b=g_checkVarType(arguments,{g:[],s4bln:[jindo.$Jindo._F("bVisible:Boolean")],s4str:["bVisible:Boolean","sDisplay:String+"]},"$Element#visible");
switch(b+""){case"g":return(this._getCss(this._element,"display")!="none");
case"s4bln":this[a?"show":"hide"]();
return this;
case"s4str":this[a?"show":"hide"](c);
return this
}};
jindo.$Element.prototype.show=function(h){var g=g_checkVarType(arguments,{"4voi":[],"4str":["sDisplay:String+"]},"$Element#show");
var f=this._element.style;
var a="block";
var k={p:a,div:a,form:a,h1:a,h2:a,h3:a,h4:a,ol:a,ul:a,fieldset:a,td:"table-cell",th:"table-cell",li:"list-item",table:"table",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",col:"table-column",colgroup:"table-column-group",caption:"table-caption",dl:a,dt:a,dd:a};
try{switch(g+""){case"4voi":var d=k[this.tag];
f.display=d||"inline";
break;
case"4str":f.display=h
}}catch(j){f.display="block"
}return this
};
jindo.$Element.prototype.hide=function(){this._element.style.display="none";
return this
};
jindo.$Element.prototype.toggle=function(b){var a=g_checkVarType(arguments,{"4voi":[],"4str":["sDisplay:String+"]},"$Element#toggle");
this[this._getCss(this._element,"display")=="none"?"show":"hide"].apply(this,arguments);
return this
};
jindo.$Element.prototype.opacity=function(f){var d=g_checkVarType(arguments,{g:[],s:["nOpacity:Numeric"]},"$Element#opacity");
var c,g=this._element,a;
switch(d+""){case"g":a=(this._getCss(g,"display")!="none");
c=parseFloat(g.style.opacity);
if(isNaN(c)){c=a?1:0
}return c;
case"s":a=(this._getCss(g,"display")!="none");
f=d.nOpacity;
g.style.zoom=1;
f=Math.max(Math.min(f,1),0);
g.style.opacity=f;
return this
}};
jindo._p_._revisionCSSAttr=function(b,c){var a=jindo.$Element.hook(b);
if(a){b=a
}else{b=jindo._p_.cssNameToJavaScriptName(b).replace(/^(animation|perspective|transform|transition)/i,function(d){return c[d.toLowerCase()]
})
}return b
};
jindo._p_.changeTransformValue=function(a,b){return(a+"").replace(/([\s|-]*)(?:transform)/,function(d,c){return jindo._p_.trim(c).length>0?d:c+jindo._p_.getTransformStringForValue(b)
})
};
jindo.$Element.prototype.css=function(h,s){var g=g_checkVarType(arguments,{g:["sName:String+"],s4str:[jindo.$Jindo._F("sName:String+"),jindo.$Jindo._F("vValue:String+")],s4num:["sName:String+","vValue:Numeric"],s4obj:["oObj:Hash+"]},"$Element#css");
var m=this._element;
switch(g+""){case"s4str":case"s4num":var j={};
h=jindo._p_._revisionCSSAttr(h,jindo._p_.getStyleIncludeVendorPrefix());
j[h]=s;
h=j;
break;
case"s4obj":h=g.oObj;
var j={};
var c=jindo._p_.getStyleIncludeVendorPrefix();
for(i in h){if(h.hasOwnProperty(i)){j[jindo._p_._revisionCSSAttr(i,c)]=h[i]
}}h=j;
break;
case"g":var c=jindo._p_.getStyleIncludeVendorPrefix();
h=jindo._p_._revisionCSSAttr(h,c);
var n=this._getCss;
if(h=="opacity"){return this.opacity()
}if(h=="padding"||h=="margin"){var p=n(m,h+"Top");
var r=n(m,h+"Right");
var b=n(m,h+"Bottom");
var d=n(m,h+"Left");
if((p==r)&&(b==d)){return p
}else{if(p==b){if(r==d){return p+" "+r
}else{return p+" "+r+" "+b+" "+d
}}else{return p+" "+r+" "+b+" "+d
}}}return n(m,h)
}var q,o;
for(var f in h){if(h.hasOwnProperty(f)){q=h[f];
if(!(jindo.$Jindo.isString(q)||jindo.$Jindo.isNumeric(q))){continue
}if(f=="opacity"){this.opacity(q);
continue
}if(f=="backgroundPositionX"||f=="backgroundPositionY"){var a=this.css("backgroundPosition").split(/\s+/);
q=f=="backgroundPositionX"?q+" "+a[1]:a[0]+" "+q;
this._setCss(m,"backgroundPosition",q)
}else{this._setCss(m,f,/transition/i.test(f)?jindo._p_.changeTransformValue(q):q)
}}}return this
};
jindo.$Element.prototype._getCss=function(g,f){try{if(f=="cssFloat"){f="float"
}var h=g.ownerDocument||g.document||document;
var a=g.style[f];
if(!g.style[f]){var b=h.defaultView.getComputedStyle(g,null);
f=f.replace(/([A-Z])/g,"-$1").replace(/^(webkit|ms)/g,"-$1").toLowerCase();
a=b.getPropertyValue(f);
a=a===undefined?b[f]:a
}if(f=="textDecoration"){a=a.replace(",","")
}return a
}catch(c){throw new jindo.$Error((g.tagName||"document")+jindo.$Except.NOT_USE_CSS,"$Element#css")
}};
jindo.$Element.prototype._setCss=function(c,b,a){if(("#top#left#right#bottom#").indexOf(b+"#")>0&&(typeof a=="number"||(/\d$/.test(a)))){c.style[b]=parseInt(a,10)+"px"
}else{c.style[b]=a
}};
jindo.$Element.prototype.attr=function(n,r){var g=g_checkVarType(arguments,{g:["sName:String+"],s4str:["sName:String+","vValue:String+"],s4num:["sName:String+","vValue:Numeric"],s4nul:["sName:String+","vValue:Null"],s4bln:["sName:String+","vValue:Boolean"],s4arr:["sName:String+","vValue:Array+"],s4obj:[jindo.$Jindo._F("oObj:Hash+")]},"$Element#attr");
var p=this._element,j=null,o,c,b,d,a,h;
switch(g+""){case"s4str":case"s4nul":case"s4num":case"s4bln":case"s4arr":var m={};
m[n]=r;
n=m;
break;
case"s4obj":n=g.oObj;
break;
case"g":if(n=="class"||n=="className"){return p.className
}else{if(n=="style"){return p.style.cssText
}else{if(n=="checked"||n=="disabled"){return !!p[n]
}else{if(n=="value"){if(this.tag=="button"){return p.getAttributeNode("value").value
}else{if(this.tag=="select"){if(p.multiple){for(o=0,c=p.options.length;
o<c;
o++){a=p.options[o];
if(a.selected){if(!j){j=[]
}r=a.value;
if(r==""){r=a.text
}j.push(r)
}}return j
}else{if(p.selectedIndex<0){return null
}r=p.options[p.selectedIndex].value;
return(r=="")?p.options[p.selectedIndex].text:r
}}else{return p.value
}}}else{if(n=="href"){return p.getAttribute(n,2)
}}}}}return p.getAttribute(n)
}d=function(s,z){var k=-1,t,y,w;
for(t=0,y=s.length;
t<y;
t++){w=s[t];
if(w.value===z||w.text===z){k=t;
break
}}return k
};
for(var f in n){if(n.hasOwnProperty(f)){var q=n[f];
if(jindo.$Jindo.isNull(q)){if(this.tag=="select"){if(p.multiple){for(o=0,c=p.options.length;
o<c;
o++){p.options[o].selected=false
}}else{p.selectedIndex=-1
}}else{p.removeAttribute(f)
}}else{if(f=="class"||f=="className"){p.className=q
}else{if(f=="style"){p.style.cssText=q
}else{if(f=="checked"||f=="disabled"){p[f]=q
}else{if(f=="value"){if(this.tag=="select"){if(p.multiple){if(jindo.$Jindo.isArray(q)){h=jindo.$A(q);
for(o=0,c=p.options.length;
o<c;
o++){a=p.options[o];
a.selected=h.has(a.value)||h.has(a.text)
}}else{p.selectedIndex=d(p.options,q)
}}else{p.selectedIndex=d(p.options,q)
}}else{p.value=q
}}else{p.setAttribute(f,q)
}}}}}}}return this
};
jindo.$Element.prototype.width=function(b){var c=g_checkVarType(arguments,{g:[],s:["nWidth:Numeric"]},"$Element#width");
switch(c+""){case"g":return this._element.offsetWidth;
case"s":b=c.nWidth;
var d=this._element;
d.style.width=b+"px";
var f=d.offsetWidth;
if(f!=b&&f!==0){var a=(b*2-f);
if(a>0){d.style.width=a+"px"
}}return this
}};
jindo.$Element.prototype.height=function(a){var b=g_checkVarType(arguments,{g:[],s:["nHeight:Numeric"]},"$Element#height");
switch(b+""){case"g":return this._element.offsetHeight;
case"s":a=b.nHeight;
var c=this._element;
c.style.height=a+"px";
var d=c.offsetHeight;
if(d!=a&&d!==0){var a=(a*2-d);
if(a>0){c.style.height=a+"px"
}}return this
}};
jindo.$Element.prototype.className=function(c){var a=g_checkVarType(arguments,{g:[],s:[jindo.$Jindo._F("sClass:String+")]},"$Element#className");
var b=this._element;
switch(a+""){case"g":return b.className;
case"s":b.className=c;
return this
}};
jindo.$Element.prototype.hasClass=function(b){var a=g_checkVarType;
if(jindo._p_.canUseClassList()){jindo.$Element.prototype.hasClass=function(d){var c=a(arguments,{"4str":["sClass:String+"]},"$Element#hasClass");
return this._element.classList.contains(d)
}
}else{jindo.$Element.prototype.hasClass=function(d){var c=a(arguments,{"4str":["sClass:String+"]},"$Element#hasClass");
return(" "+this._element.className+" ").indexOf(" "+d+" ")>-1
}
}return this.hasClass.apply(this,arguments)
};
jindo.$Element.prototype.addClass=function(h){var f=g_checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#addClass");
var g=this._element;
var a=g.className;
var d=(h+"").split(" ");
var b;
for(var c=d.length-1;
c>=0;
c--){b=d[c];
if((" "+a+" ").indexOf(" "+b+" ")==-1){a=a+" "+b
}}g.className=a.replace(/\s+$/,"").replace(/^\s+/,"");
return this
};
jindo.$Element.prototype.removeClass=function(h){var f=g_checkVarType(arguments,{"4str":["sClass:String+"]},"$Element#removeClass");
var g=this._element;
var a=g.className;
var d=(h+"").split(" ");
var b;
for(var c=d.length-1;
c>=0;
c--){a=(" "+a+" ").replace(new RegExp("\\b"+d[c]+"\\s+","g")," ")
}g.className=a.replace(/\s+$/,"").replace(/^\s+/,"");
return this
};
jindo.$Element.prototype.toggleClass=function(c,b){var a=g_checkVarType;
if(jindo._p_.canUseClassList()){jindo.$Element.prototype.toggleClass=function(g,d){var f=a(arguments,{"4str":["sClass:String+"],"4str2":["sClass:String+","sClass2:String+"]},"$Element#toggleClass");
switch(f+""){case"4str":this._element.classList.toggle(g+"");
break;
case"4str2":g=g+"";
d=d+"";
if(this.hasClass(g)){this.removeClass(g);
this.addClass(d)
}else{this.addClass(g);
this.removeClass(d)
}}return this
}
}else{jindo.$Element.prototype.toggleClass=function(g,d){var f=a(arguments,{"4str":["sClass:String+"],"4str2":["sClass:String+","sClass2:String+"]},"$Element#toggleClass");
d=d||"";
if(this.hasClass(g)){this.removeClass(g);
if(d){this.addClass(d)
}}else{this.addClass(g);
if(d){this.removeClass(d)
}}return this
}
}return this.toggleClass.apply(this,arguments)
};
jindo.$Element.prototype.cssClass=function(f,b){var d=g_checkVarType(arguments,{g:["sClass:String+"],s4bln:["sClass:String+","bCondition:Boolean"],s4obj:["oObj:Hash+"]},"$Element#cssClass");
switch(d+""){case"g":return this.hasClass(d.sClass);
case"s4bln":if(d.bCondition){this.addClass(d.sClass)
}else{this.removeClass(d.sClass)
}return this;
case"s4obj":var g=this._element;
f=d.oObj;
var a=g.className;
for(var c in f){if(f.hasOwnProperty(c)){if(f[c]){if((" "+a+" ").indexOf(" "+c+" ")==-1){a=(a+" "+c).replace(/^\s+/,"")
}}else{if((" "+a+" ").indexOf(" "+c+" ")>-1){a=(" "+a+" ").replace(" "+c+" "," ").replace(/\s+$/,"").replace(/^\s+/,"")
}}}}g.className=a;
return this
}};
jindo.$Element.prototype.text=function(c){var d=g_checkVarType(arguments,{g:[],s4str:["sText:String+"],s4num:[jindo.$Jindo._F("sText:Numeric")],s4bln:["sText:Boolean"]},"$Element#text"),f=this._element,a=this.tag,h,b;
switch(d+""){case"g":h=(f.textContent!==undefined)?"textContent":"innerText";
if(a=="textarea"||a=="input"){h="value"
}return f[h];
case"s4str":case"s4num":case"s4bln":try{if(a=="textarea"||a=="input"){f.value=c+""
}else{var b=f.ownerDocument||f.document||document;
this.empty();
f.appendChild(b.createTextNode(c))
}}catch(g){return f.innerHTML=(c+"").replace(/&/g,"&amp;").replace(/</g,"&lt;")
}return this
}};
jindo.$Element.prototype.html=function(c){var b=g_checkVarType(arguments,{g:[],s4str:[jindo.$Jindo._F("sText:String+")],s4num:["sText:Numeric"],s4bln:["sText:Boolean"]},"$Element#html");
switch(b+""){case"g":return this._element.innerHTML;
case"s4str":case"s4num":case"s4bln":c+="";
var a=this._element;
a.innerHTML=c;
return this
}};
jindo.$Element.prototype.outerHTML=function(){var d=this._element;
d=jindo.$Jindo.isDocument(d)?d.documentElement:d;
if(d.outerHTML!==undefined){return d.outerHTML
}var a=d.ownerDocument||d.document||document;
var f=a.createElement("div");
var c=d.parentNode;
if(!c){return d.innerHTML
}c.insertBefore(f,d);
f.style.display="none";
f.appendChild(d);
var b=f.innerHTML;
c.insertBefore(d,f);
c.removeChild(f);
return b
};
jindo.$Element.prototype.toString=function(){return this.outerHTML()||"[object $Element]"
};
jindo.$Element.prototype.attach=function(g,f){var c=g_checkVarType(arguments,{"4str":["sEvent:String+","fpCallback:Function+"],"4obj":["hListener:Hash+"]},"$Element#attach");
var d,b;
switch(c+""){case"4str":d=jindo._p_.splitEventSelector(c.sEvent);
this._add(d.type,d.event,d.selector,f);
break;
case"4obj":b=c.hListener;
for(var a in b){this.attach(a,b[a])
}break
}return this
};
jindo.$Element.prototype.detach=function(g,f){var c=g_checkVarType(arguments,{"4str":["sEvent:String+","fpCallback:Function+"],"4obj":["hListener:Hash+"]},"$Element#detach");
var d,b;
switch(c+""){case"4str":d=jindo._p_.splitEventSelector(c.sEvent);
this._del(d.type,d.event,d.selector,f);
break;
case"4obj":b=c.hListener;
for(var a in b){this.detach(a,b[a])
}break
}return this
};
jindo.$Element.prototype.delegate=function(d,b,c){var a=g_checkVarType(arguments,{"4str":["sEvent:String+","vFilter:String+","fpCallback:Function+"],"4fun":["sEvent:String+","vFilter:Function+","fpCallback:Function+"]},"$Element#delegate");
return this._add("delegate",d,b,c)
};
jindo.$Element.prototype.undelegate=function(d,b,c){var a=g_checkVarType(arguments,{"4str":["sEvent:String+","vFilter:String+","fpCallback:Function+"],"4fun":["sEvent:String+","vFilter:Function+","fpCallback:Function+"],group_for_string:["sEvent:String+","vFilter:String+"],group_for_function:["sEvent:String+","vFilter:Function+"]},"$Element#undelegate");
return this._del("delegate",d,b,c)
};
jindo._p_.customEventAttach=function(a,b,f,c,d,j,n){if(!jindo._p_.hasCustomEventListener(j.__jindo__id,b,f)){var m=jindo._p_.getCustomEvent(b);
var k=new m();
var o=k.events;
k.real_listener.push(c);
k.wrap_listener.push(d);
for(var h=0,g=o.length;
h<g;
h++){k["_fp"+o[h]]=jindo.$Fn(k[o[h]],k).bind();
n(a,o[h],f,k["_fp"+o[h]])
}jindo._p_.addCustomEventListener(j,j.__jindo__id,b,f,k)
}else{var k=jindo._p_.getCustomEventListener(j.__jindo__id,b,f).custom;
if(k.real_listener){k.real_listener.push(c);
k.wrap_listener.push(d)
}}};
jindo._p_.normalCustomEventAttach=function(d,g,a,c,f,b){if(!jindo._p_.normalCustomEvent[g][a]){jindo._p_.normalCustomEvent[g][a]={};
jindo._p_.normalCustomEvent[g][a].ele=d;
jindo._p_.normalCustomEvent[g][a][c]={};
jindo._p_.normalCustomEvent[g][a][c].real_listener=[];
jindo._p_.normalCustomEvent[g][a][c].wrap_listener=[]
}jindo._p_.normalCustomEvent[g][a][c].real_listener.push(f);
jindo._p_.normalCustomEvent[g][a][c].wrap_listener.push(b)
};
jindo.$Element.prototype._add=function(a,c,g,f){var b=jindo.$Element.eventManager;
var j=c;
c=c.toLowerCase();
var m=b.splitGroup(c);
c=m.event;
var n=m.group;
var o=this._element;
var h=o.__jindo__id;
var k=o.ownerDocument||o.document||document;
if(jindo._p_.hasCustomEvent(c)){g=g||"_NONE_";
var d=jindo.$Fn(f,this).bind();
jindo._p_.normalCustomEventAttach(o,c,h,g,f,d);
if(jindo._p_.getCustomEvent(c)){jindo._p_.customEventAttach(a,c,g,f,d,o,jindo.$Fn(this._add,this).bind())
}}else{if(c=="domready"&&jindo.$Jindo.isWindow(o)){jindo.$Element(k).attach(c,f);
return this
}if(c=="load"&&o===k){jindo.$Element(window).attach(c,f);
return this
}c=b.revisionEvent(a,c,j);
f=b.revisionCallback(a,c,j,f);
if(!b.isInit(this._key)){b.init(this._key,o)
}if(!b.hasEvent(this._key,c,j)){b.initEvent(this,c,j,n)
}if(!b.hasGroup(this._key,c,n)){b.initGroup(this._key,c,n)
}b.addEventListener(this._key,c,n,a,g,f)
}return this
};
jindo._p_.customEventDetach=function(a,b,f,d,j,m){var c=jindo._p_.getCustomEventListener(j.__jindo__id,b,f);
var k=c.custom;
var n=k.events;
for(var h=0,g=n.length;
h<g;
h++){m(a,n[h],f,k["_fp"+n[h]])
}};
jindo.$Element.prototype._del=function(g,b,s,f){var a=jindo.$Element.eventManager;
var o=b;
b=b.toLowerCase();
var k=a.splitGroup(b);
b=k.event;
var q=k.group;
var t=this._element.ownerDocument||this._element.document||document;
if(jindo._p_.hasCustomEvent(b)){var j=this._element.__jindo__id;
s=s||"_NONE_";
var c=jindo._p_.getNormalEventListener(j,b,s);
var h=c.wrap_listener;
var m=c.real_listener;
var w=[];
var y=[];
for(var r=0,n=m.length;
r<n;
r++){if(m[r]!=f){w.push(h[r]);
y.push(m[r])
}}if(y.length==0){var p=jindo._p_.normalCustomEvent[b][j];
var d=0;
for(var r in p){if(r!=="ele"){d++;
break
}}if(d===0){delete jindo._p_.normalCustomEvent[b][j]
}else{delete jindo._p_.normalCustomEvent[b][j][s]
}}if(jindo._p_.customEvent[b]){jindo._p_.setCustomEventListener(j,b,s,y,w);
if(y.length==0){jindo._p_.customEventDetach(g,b,s,f,this._element,jindo.$Fn(this._del,this).bind());
delete jindo._p_.customEventStore[j][b][s]
}}}else{if(b=="domready"&&jindo.$Jindo.isWindow(this._element)){jindo.$Element(t).detach(b,f);
return this
}if(b=="load"&&this._element===t){jindo.$Element(window).detach(b,f);
return this
}b=a.revisionEvent(g,b,o);
if(q===jindo._p_.NONE_GROUP&&!jindo.$Jindo.isFunction(f)&&!s){throw new jindo.$Error(jindo.$Except.HAS_FUNCTION_FOR_GROUP,"$Element#"+(g=="normal"?"detach":"delegate"))
}a.removeEventListener(this._key,b,q,g,s,f)
}return this
};
jindo._p_.mouseTouchPointerEvent=function(b){var a={};
if(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0){a={mousedown:"MSPointerDown",mouseup:"MSPointerUp",mousemove:"MSPointerMove",mouseover:"MSPointerOver",mouseout:"MSPointerOut",touchstart:"MSPointerDown",touchend:"MSPointerUp",touchmove:"MSPointerMove",pointerdown:"MSPointerDown",pointerup:"MSPointerUp",pointermove:"MSPointerMove",pointerover:"MSPointerOver",pointerout:"MSPointerOut",pointercancel:"MSPointerCancel"}
}else{if(jindo._p_._JINDO_IS_MO){a={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove",pointerdown:"touchstart",pointerup:"touchend",pointermove:"touchmove"}
}}jindo._p_.mouseTouchPointerEvent=function(c){return a[c]?a[c]:c
};
return jindo._p_.mouseTouchPointerEvent(b)
};
jindo.$Element.eventManager=(function(){var a={};
function c(g,d,f){return function(){var h=jindo._p_._toArray(arguments);
if(f.length){h=f.concat(h)
}return g.apply(d,h)
}
}var b={mousedown:"mousedown",mousemove:"mousemove",mouseup:"mouseup"};
return{revisionCallback:function(j,h,g,f){if(g=="mouseenter"||g=="mouseleave"){var d=jindo.$Element.eventManager._fireWhenElementBoundary(j,f);
d._origin_=f;
f=d
}return f
},_fireWhenElementBoundary:function(f,d){return function(g){var j=g.relatedElement?jindo.$Element(g.relatedElement):null;
var h=g.currentElement;
if(f=="delegate"){h=g.element
}if(j&&(j.isEqual(h)||j.isChildOf(h))){return
}d(g)
}
},revisionEvent:function(k,j,h){if(/^ms/i.test(h)){return h
}var d=jindo.$Event.hook(j);
if(d){if(jindo.$Jindo.isFunction(d)){return jindo._p_.customEvent()
}else{return d
}}j=j.toLowerCase();
if(j=="domready"||j=="domcontentloaded"){j="DOMContentLoaded"
}else{if(j=="mousewheel"&&!jindo._p_._JINDO_IS_WK&&!jindo._p_._JINDO_IS_OP){j="DOMMouseScroll"
}else{if(j=="mouseenter"){j="mouseover"
}else{if(j=="mouseleave"){j="mouseout"
}else{if(j=="transitionend"||j=="transitionstart"){var g=j.replace("transition","");
var f=jindo._p_.getStyleIncludeVendorPrefix();
if(f.transition!="transition"){g=g.substr(0,1).toUpperCase()+g.substr(1)
}j=f.transition+g
}else{if(j=="animationstart"||j=="animationend"||j=="animationiteration"){var g=j.replace("animation","");
var f=jindo._p_.getStyleIncludeVendorPrefix();
if(f.animation!="animation"){g=g.substr(0,1).toUpperCase()+g.substr(1)
}j=f.animation+g
}else{if(j==="focusin"||j==="focusout"){j=j==="focusin"?"focus":"blur"
}}}}}}}return jindo._p_.mouseTouchPointerEvent(j)
},test:function(){return a
},isInit:function(d){return !!a[d]
},init:function(d,f){a[d]={ele:f,event:{}}
},getEventConfig:function(d){return a[d]
},hasEvent:function(d,h,g){try{return !!a[d]["event"][h]
}catch(f){return false
}},hasGroup:function(f,g,d){return !!a[f]["event"][g]["type"][d]
},initEvent:function(g,m,k,d){var h=g._key;
var f=a[h]["event"];
var j=c(function(p,C,y){y=y||window.event;
if(y.currentTarget===undefined){y.currentTarget=this._element
}var q=jindo.$Event(y);
if(!q.currentElement){q.currentElement=this._element
}q.realType=C;
var t=q.element;
var n=jindo.$Element.eventManager;
var s=n.getEventConfig(q.currentElement.__jindo__id);
var H=s.event[p].type;
for(var F in H){if(H.hasOwnProperty(F)){var w=H[F].normal;
for(var D=0,A=w.length;
D<A;
D++){w[D].call(this,q)
}var E=H[F].delegate;
var o;
var G;
for(var B in E){if(E.hasOwnProperty(B)){o=E[B].checker(t);
if(o[0]){G=E[B].callback;
q.element=o[1];
for(var z=0,r=G.length;
z<r;
z++){G[z].call(this,q)
}}}}}}},g,[m,k]);
f[m]={listener:j,type:{}};
jindo.$Element._eventBind(g._element,m,j,(k==="focusin"||k==="focusout"))
},initGroup:function(f,h,d){var g=a[f]["event"][h]["type"];
g[d]={normal:[],delegate:{}}
},addEventListener:function(g,k,d,m,f,j){var h=a[g]["event"][k]["type"][d];
if(m==="normal"){h.normal.push(j)
}else{if(m==="delegate"){if(!this.hasDelegate(h,f)){this.initDelegate(a[g].ele,h,f)
}this.addDelegate(h,f,j)
}}},hasDelegate:function(f,d){return !!f.delegate[d]
},containsElement:function(d,k,j,g){if(d==k&&g){return jindo.$$.test(k,j)
}var m=jindo.$$(j,d);
for(var h=0,f=m.length;
h<f;
h++){if(m[h]==k){return true
}}return false
},initDelegate:function(d,g,f){var h;
if(jindo.$Jindo.isString(f)){h=c(function(k,q,j){var n=j;
var r=this.containsElement(k,j,q,true);
if(!r){var m=this._getParent(k,j);
for(var p=0,o=m.length;
p<o;
p++){n=m[p];
if(this.containsElement(k,n,q)){r=true;
break
}}}return[r,n]
},this,[d,f])
}else{h=c(function(k,q,j){var n=j;
var r=q(k,j);
if(!r){var m=this._getParent(k,j);
for(var p=0,o=m.length;
p<o;
p++){n=m[p];
if(q(k,n)){r=true;
break
}}}return[r,n]
},this,[d,f])
}g.delegate[f]={checker:h,callback:[]}
},addDelegate:function(g,d,f){g.delegate[d].callback.push(f)
},removeEventListener:function(q,f,r,d,j,g){var h;
try{h=a[q]["event"][f]["type"][r]
}catch(p){return
}var m=[];
var o;
if(d==="normal"){o=h.normal
}else{o=h.delegate[j].callback
}if(f==jindo._p_.NONE_GROUP||jindo.$Jindo.isFunction(g)){for(var n=0,k=o.length;
n<k;
n++){if((o[n]._origin_||o[n])!=g){m.push(o[n])
}}}if(d==="normal"){delete h.normal;
h.normal=m
}else{if(d==="delegate"){delete h.delegate[j].callback;
h.delegate[j].callback=m
}}this.cleanUp(q,f)
},cleanUpAll:function(){var d;
for(var f in a){if(a.hasOwnProperty(f)){this.cleanUpUsingKey(f,true)
}}},cleanUpUsingKey:function(g,f){var d;
if(!a[g]||!a[g].event){return
}d=a[g].event;
for(var h in d){if(d.hasOwnProperty(h)){this.cleanUp(g,h,f)
}}},cleanUp:function(t,d,w){var r;
try{r=a[t]["event"][d]["type"]
}catch(q){return
}var f;
var g=false;
if(!w){for(var n in r){if(r.hasOwnProperty(n)){f=r[n];
if(f.normal.length){g=true;
break
}var p=f.delegate;
for(var m in p){if(p.hasOwnProperty(m)){if(p[m].callback.length){g=true;
break
}}}if(g){break
}}}}if(!g){jindo.$Element._unEventBind(a[t].ele,d,a[t]["event"][d]["listener"]);
delete a[t]["event"][d];
var o=true;
var s=a[t]["event"];
for(var h in s){if(s.hasOwnProperty(h)){o=false;
break
}}if(o){delete a[t]
}}},splitGroup:function(f){var d=/\s*(.+?)\s*\(\s*(.*?)\s*\)/.exec(f);
if(d){return{event:d[1].toLowerCase(),group:d[2].toLowerCase()}
}else{return{event:f.toLowerCase(),group:jindo._p_.NONE_GROUP}
}},_getParent:function(h,d){var k=h;
var g=[],j=null;
var f=d.ownerDocument||d.document||document;
while(d.parentNode&&j!=k){j=d.parentNode;
if(j==f.documentElement){break
}g[g.length]=j;
d=j
}return g
}}
})();
jindo.$Element.prototype.appear=function(c,h){var f=g_checkVarType(arguments,{"4voi":[],"4num":["nDuration:Numeric"],"4fun":["nDuration:Numeric","fpCallback:Function+"]},"$Element#appear");
switch(f+""){case"4voi":c=0.3;
h=function(){};
break;
case"4num":c=f.nDuration;
h=function(){};
break;
case"4fun":c=f.nDuration;
h=f.fpCallback
}var j=this;
var k=this._element;
var g=jindo._p_.getStyleIncludeVendorPrefix();
var b=g.transition;
var d;
if(b=="transition"){d="end"
}else{d="End"
}var a=function(){j.show();
k.style[b+"Property"]="";
k.style[b+"Duration"]="";
k.style[b+"TimingFunction"]="";
k.style.opacity="";
h.call(j,j);
k.removeEventListener(b+d,arguments.callee,false)
};
if(!this.visible()){k.style.opacity=k.style.opacity||0;
j.show()
}k.addEventListener(b+d,a,false);
k.style[b+"Property"]="opacity";
k.style[b+"Duration"]=c+"s";
k.style[b+"TimingFunction"]="linear";
jindo._p_.setOpacity(k,"1");
return this
};
jindo.$Element.prototype.disappear=function(c,h){var f=g_checkVarType(arguments,{"4voi":[],"4num":["nDuration:Numeric"],"4fun":["nDuration:Numeric","fpCallback:Function+"]},"$Element#disappear");
switch(f+""){case"4voi":c=0.3;
h=function(){};
break;
case"4num":c=f.nDuration;
h=function(){};
break;
case"4fun":c=f.nDuration;
h=f.fpCallback
}var j=this;
var k=this._element;
var g=jindo._p_.getStyleIncludeVendorPrefix();
var b=g.transition;
var d;
if(b=="transition"){d="end"
}else{d="End"
}var a=function(){j.hide();
k.style[b+"Property"]="";
k.style[b+"Duration"]="";
k.style[b+"TimingFunction"]="";
k.style.opacity="";
h.call(j,j);
k.removeEventListener(b+d,arguments.callee,false)
};
k.addEventListener(b+d,a,false);
k.style[b+"Property"]="opacity";
k.style[b+"Duration"]=c+"s";
k.style[b+"TimingFunction"]="linear";
jindo._p_.setOpacity(k,"0");
return this
};
jindo.$Element.prototype.offset=function(a,b){var c=g_checkVarType(arguments,{g:[],s:["nTop:Numeric","nLeft:Numeric"]},"$Element#offset");
switch(c+""){case"g":return this.offset_get();
case"s":return this.offset_set(c.nTop,c.nLeft)
}};
jindo.$Element.prototype.offset_set=function(f,g){var c=this._element;
var d=null;
if(isNaN(parseFloat(this._getCss(c,"top")))){c.style.top="0px"
}if(isNaN(parseFloat(this._getCss(c,"left")))){c.style.left="0px"
}var b=this.offset_get();
var a={top:f-b.top,left:g-b.left};
c.style.top=parseFloat(this._getCss(c,"top"))+a.top+"px";
c.style.left=parseFloat(this._getCss(c,"left"))+a.left+"px";
return this
};
jindo.$Element.prototype.offset_get=function(c,f){var a=this._element;
var b=null;
var d=jindo._p_._JINDO_IS_SP&&!jindo._p_._JINDO_IS_CH;
var h=0;
var j=function(m){var k={left:0,top:0};
for(var o=m,n=o.offsetParent;
o=o.parentNode;
){if(o.offsetParent){k.left-=o.scrollLeft;
k.top-=o.scrollTop
}if(o==n){k.left+=m.offsetLeft+o.clientLeft;
k.top+=m.offsetTop+o.clientTop;
if(!o.offsetParent){k.left+=o.offsetLeft;
k.top+=o.offsetTop
}n=o.offsetParent;
m=o
}}return k
};
var g=function(q){var w={left:0,top:0};
var y=q.ownerDocument||q.document||document;
var n=y.documentElement;
var p=y.body;
if(q.getBoundingClientRect){if(!b){var t=(window==top);
if(!t){try{t=(window.frameElement&&window.frameElement.frameBorder==1)
}catch(s){}}b={left:0,top:0}
}var r=q.getBoundingClientRect();
if(q!==n&&q!==p){w.left=r.left-b.left;
w.top=r.top-b.top;
w.left+=n.scrollLeft||p.scrollLeft;
w.top+=n.scrollTop||p.scrollTop
}}else{if(y.getBoxObjectFor){var r=y.getBoxObjectFor(q);
var k=y.getBoxObjectFor(n||p);
w.left=r.screenX-k.screenX;
w.top=r.screenY-k.screenY
}else{for(var m=q;
m;
m=m.offsetParent){w.left+=m.offsetLeft;
w.top+=m.offsetTop
}for(var m=q.parentNode;
m;
m=m.parentNode){if(m.tagName=="BODY"){break
}if(m.tagName=="TR"){w.top+=2
}w.left-=m.scrollLeft;
w.top-=m.scrollTop
}}}return w
};
return(d?j:g)(a)
};
jindo.$Element.prototype.evalScripts=function(sHTML){var oArgs=g_checkVarType(arguments,{"4str":["sHTML:String+"]},"$Element#evalScripts");
var aJS=[];
var leftScript="<script(\\s[^>]+)*>(.*?)</";
var rightScript="script>";
sHTML=sHTML.replace(new RegExp(leftScript+rightScript,"gi"),function(_1,_2,sPart){aJS.push(sPart);
return""
});
eval(aJS.join("\n"));
return this
};
jindo.$Element.prototype.clone=function(a){var b=g_checkVarType(arguments,{"default":[],set:["bDeep:Boolean"]},"$Element#clone");
if(b+""=="default"){a=true
}return jindo.$Element(this._element.cloneNode(a))
};
jindo.$Element._common=function(b,a){try{return jindo.$Element(b)._element
}catch(c){throw TypeError(c.message.replace(/\$Element/g,"$Element#"+a).replace(/Element\.html/g,"Element.html#"+a))
}};
jindo.$Element._prepend=function(c,b){var a=c.childNodes;
if(a.length>0){c.insertBefore(b,a[0])
}else{c.appendChild(b)
}};
jindo.$Element.prototype.append=function(a){this._element.appendChild(jindo.$Element._common(a,"append"));
return this
};
jindo.$Element.prototype.prepend=function(a){jindo.$Element._prepend(this._element,jindo.$Element._common(a,"prepend"));
return this
};
jindo.$Element.prototype.replace=function(c){c=jindo.$Element._common(c,"replace");
if(jindo.cssquery){jindo.cssquery.release()
}var d=this._element;
var b=d.parentNode;
if(b&&b.replaceChild){b.replaceChild(c,d);
return this
}var a=c;
b.insertBefore(a,d);
b.removeChild(d);
return this
};
jindo.$Element.prototype.appendTo=function(a){jindo.$Element._common(a,"appendTo").appendChild(this._element);
return this
};
jindo.$Element.prototype.prependTo=function(a){jindo.$Element._prepend(jindo.$Element._common(a,"prependTo"),this._element);
return this
};
jindo.$Element.prototype.before=function(a){var b=jindo.$Element._common(a,"before");
this._element.parentNode.insertBefore(b,this._element);
return this
};
jindo.$Element.prototype.after=function(a){a=jindo.$Element._common(a,"after");
this.before(a);
jindo.$Element(a).before(this);
return this
};
jindo.$Element.prototype.parent=function(d,c){var f=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"],for_function_number:["fpFunc:Function+","nLimit:Numeric"],for_null_number:["fpFunc:Null","nLimit:Numeric"]},"$Element#parent");
var h=this._element;
switch(f+""){case"4voi":return h.parentNode?jindo.$Element(h.parentNode):null;
case"4fun":case"4nul":c=-1;
break;
case"for_function_number":case"for_null_number":if(f.nLimit==0){c=-1
}}var b=[],g=null;
while(h.parentNode&&c--!=0){try{g=jindo.$Element(h.parentNode)
}catch(h){g=null
}if(h.parentNode==document.documentElement){break
}if(!d||(d&&d.call(this,g))){b[b.length]=g
}h=h.parentNode
}return b
};
jindo.$Element.prototype.child=function(q,h){var g=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"],for_function_number:["fpFunc:Function+","nLimit:Numeric"],for_null_number:["fpFunc:Null","nLimit:Numeric"]},"$Element#child");
var n=this._element;
var p=[],o=null,k=null;
switch(g+""){case"4voi":var b=n.childNodes;
var m=[];
for(var j=0,d=b.length;
j<d;
j++){if(b[j].nodeType==1){try{m.push(jindo.$Element(b[j]))
}catch(n){m.push(null)
}}}return m;
case"4fun":case"4nul":h=-1;
break;
case"for_function_number":case"for_null_number":if(g.nLimit==0){h=-1
}}(k=function(r,w,c){var f=null,t=null;
for(var a=0;
a<r.childNodes.length;
a++){f=r.childNodes[a];
if(f.nodeType!=1){continue
}try{t=jindo.$Element(r.childNodes[a])
}catch(s){t=null
}if(!q||(q&&q.call(c,t))){p[p.length]=t
}if(w!=0){k(r.childNodes[a],w-1)
}}})(n,h-1,this);
return p
};
jindo.$Element.prototype.prev=function(c){var d=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"]},"$Element#prev");
var f=this._element;
var b=[];
switch(d+""){case"4voi":if(!f){return null
}do{f=f.previousSibling;
if(!f||f.nodeType!=1){continue
}try{if(f==null){return null
}return jindo.$Element(f)
}catch(f){return null
}}while(f);
try{if(f==null){return null
}return jindo.$Element(f)
}catch(f){return null
}case"4fun":case"4nul":if(!f){return b
}do{f=f.previousSibling;
if(!f||f.nodeType!=1){continue
}if(!c||c.call(this,f)){try{if(f==null){b[b.length]=null
}else{b[b.length]=jindo.$Element(f)
}}catch(f){b[b.length]=null
}}}while(f);
try{return b
}catch(f){return null
}}};
jindo.$Element.prototype.next=function(c){var d=g_checkVarType(arguments,{"4voi":[],"4fun":["fpFunc:Function+"],"4nul":["fpFunc:Null"]},"$Element#next");
var f=this._element;
var b=[];
switch(d+""){case"4voi":if(!f){return null
}do{f=f.nextSibling;
if(!f||f.nodeType!=1){continue
}try{if(f==null){return null
}return jindo.$Element(f)
}catch(f){return null
}}while(f);
try{if(f==null){return null
}return jindo.$Element(f)
}catch(f){return null
}case"4fun":case"4nul":if(!f){return b
}do{f=f.nextSibling;
if(!f||f.nodeType!=1){continue
}if(!c||c.call(this,f)){try{if(f==null){b[b.length]=null
}else{b[b.length]=jindo.$Element(f)
}}catch(f){b[b.length]=null
}}}while(f);
try{return b
}catch(f){return null
}}};
jindo.$Element.prototype.first=function(){var a=this._element.firstElementChild||this._element.firstChild;
if(!a){return null
}while(a&&a.nodeType!=1){a=a.nextSibling
}try{return a?jindo.$Element(a):null
}catch(b){return null
}};
jindo.$Element.prototype.last=function(){var a=this._element.lastElementChild||this._element.lastChild;
if(!a){return null
}while(a&&a.nodeType!=1){a=a.previousSibling
}try{return a?jindo.$Element(a):null
}catch(b){return null
}};
jindo.$Element._contain=function(a,c){if(document.compareDocumentPosition){return !!(a.compareDocumentPosition(c)&16)
}else{var d=a;
var b=c;
while(d&&d.parentNode){d=d.parentNode;
if(d==b){return true
}}return false
}};
jindo.$Element.prototype.isChildOf=function(a){try{return jindo.$Element._contain(jindo.$Element(a)._element,this._element)
}catch(b){return false
}};
jindo.$Element.prototype.isParentOf=function(a){try{return jindo.$Element._contain(this._element,jindo.$Element(a)._element)
}catch(b){return false
}};
jindo.$Element.prototype.isEqual=function(a){try{return(this._element===jindo.$Element(a)._element)
}catch(b){return false
}};
jindo._p_.fireCustomEvent=function(p,b,o,c){var n=jindo._p_.normalCustomEvent[b];
var d,m;
for(var h in n){m=n[h];
d=m.ele;
var j;
for(var a in m){if(a==="_NONE_"){if(d==p||o.isChildOf(d)){j=m[a].wrap_listener;
for(var g=0,f=j.length;
g<f;
g++){j[g]()
}}}else{if(jindo.$Element.eventManager.containsElement(d,p,a,false)){j=m[a].wrap_listener;
for(var g=0,f=j.length;
g<f;
g++){j[g]()
}}}}}};
jindo.$Element.prototype.fireEvent=function(b,g){var f=g_checkVarType(arguments,{"4str":[jindo.$Jindo._F("sEvent:String+")],"4obj":["sEvent:String+","oProps:Hash+"]},"$Element#fireEvent");
var k=this._element;
var d=b;
b=jindo.$Element.eventManager.revisionEvent("",b,b);
if(jindo._p_.normalCustomEvent[b]){jindo._p_.fireCustomEvent(k,b,this,!!jindo._p_.normalCustomEvent[b]);
return this
}var a="HTMLEvents";
b=(b+"").toLowerCase();
if(b=="click"||b.indexOf("mouse")==0){a="MouseEvent"
}else{if(d.indexOf("wheel")>0){b="DOMMouseScroll";
a=jindo._p_._JINDO_IS_FF?"MouseEvent":"MouseWheelEvent"
}else{if(b.indexOf("key")==0){a="KeyboardEvent"
}else{if(b.indexOf("pointer")>0){a="MouseEvent";
b=d
}}}}var j;
switch(f+""){case"4obj":g=f.oProps;
g.button=0+(g.middle?1:0)+(g.right?2:0);
g.ctrl=g.ctrl||false;
g.alt=g.alt||false;
g.shift=g.shift||false;
g.meta=g.meta||false;
switch(a){case"MouseEvent":j=document.createEvent(a);
j.initMouseEvent(b,true,true,null,g.detail||0,g.screenX||0,g.screenY||0,g.clientX||0,g.clientY||0,g.ctrl,g.alt,g.shift,g.meta,g.button,g.relatedElement||null);
break;
case"KeyboardEvent":if(window.KeyEvent){j=document.createEvent("KeyEvents");
j.initKeyEvent(b,true,true,window,g.ctrl,g.alt,g.shift,g.meta,g.keyCode,g.keyCode)
}else{try{j=document.createEvent("Events")
}catch(h){j=document.createEvent("UIEvents")
}finally{j.initEvent(b,true,true);
j.ctrlKey=g.ctrl;
j.altKey=g.alt;
j.shiftKey=g.shift;
j.metaKey=g.meta;
j.keyCode=g.keyCode;
j.which=g.keyCode
}}break;
default:j=document.createEvent(a);
j.initEvent(b,true,true)
}break;
case"4str":j=document.createEvent(a);
j.initEvent(b,true,true)
}var c=this._element;
if(jindo.$Jindo.isWindow(c)&&/(iPhone|iPad|iPod).*OS\s+([0-9\.]+)/.test(jindo._p_._j_ag)&&parseFloat(RegExp.$2)<4){c=c.document
}c.dispatchEvent(j);
return this
};
jindo.$Element.prototype.empty=function(){if(jindo.cssquery){jindo.cssquery.release()
}this.html("");
return this
};
jindo.$Element.prototype.remove=function(b){if(jindo.cssquery){jindo.cssquery.release()
}var a=jindo.$Element;
a(a._common(b,"remove")).leave();
return this
};
jindo.$Element.prototype.leave=function(){var a=this._element;
if(a.parentNode){if(jindo.cssquery){jindo.cssquery.release()
}a.parentNode.removeChild(a)
}if(this._element.__jindo__id){jindo.$Element.eventManager.cleanUpUsingKey(this._element.__jindo__id,true)
}return this
};
jindo.$Element.prototype.wrap=function(b){var a=this._element;
b=jindo.$Element._common(b,"wrap");
if(a.parentNode){a.parentNode.insertBefore(b,a)
}b.appendChild(a);
return this
};
jindo.$Element.prototype.ellipsis=function(k){var g=g_checkVarType(arguments,{"4voi":[],"4str":["stringTail:String+"]},"$Element#ellipsis");
k=k||"...";
var b=this.text();
var a=b.length;
var j=parseInt(this._getCss(this._element,"paddingTop"),10)+parseInt(this._getCss(this._element,"paddingBottom"),10);
var d=this._element.offsetHeight-j;
var c=0;
var f=this.text("A")._element.offsetHeight-j;
if(d<f*1.5){this.text(b);
return this
}d=f;
while(d<f*1.5){c+=Math.max(Math.ceil((a-c)/2),1);
d=this.text(b.substring(0,c)+k)._element.offsetHeight-j
}while(d>f*1.5){c--;
d=this.text(b.substring(0,c)+k)._element.offsetHeight-j
}return this
};
jindo.$Element.prototype.indexOf=function(d){try{var f=jindo.$Element(d)._element;
var h=this._element.childNodes;
var g=0;
var a=h.length;
for(var b=0;
b<a;
b++){if(h[b].nodeType!=1){continue
}if(h[b]===f){return g
}g++
}}catch(f){}return -1
};
jindo.$Element.prototype.queryAll=function(g){var c=g_checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#queryAll");
var f=jindo.cssquery(g,this._element);
var d=[];
for(var b=0,a=f.length;
b<a;
b++){d.push(jindo.$Element(f[b]))
}return d
};
jindo.$Element.prototype.query=function(c){var a=g_checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#query");
var b=jindo.cssquery.getSingle(c,this._element);
return b===null?b:jindo.$Element(b)
};
jindo.$Element.prototype.test=function(b){var a=g_checkVarType(arguments,{"4str":["sSelector:String+"]},"$Element#test");
return jindo.cssquery.test(this._element,b)
};
jindo.$Element.prototype.xpathAll=function(b){var d=g_checkVarType(arguments,{"4str":["sXPath:String+"]},"$Element#xpathAll");
var g=jindo.cssquery.xpath(b,this._element);
var f=[];
for(var c=0,a=g.length;
c<a;
c++){f.push(jindo.$Element(g[c]))
}return f
};
jindo.$Element.insertAdjacentHTML=function(c,o,t,f,h,j){var a=[o];
a.callee=arguments.callee;
var z=g_checkVarType(a,{"4str":["sHTML:String+"]},"$Element#"+j);
var p=c._element;
o=o+"";
if(p.insertAdjacentHTML&&!(/^<(option|tr|td|th|col)(?:.*?)>/.test(o.replace(/^(\s|　)+|(\s|　)+$/g,"").toLowerCase()))){p.insertAdjacentHTML(t,o)
}else{var y=p.ownerDocument||p.document||document;
var b=y.createDocumentFragment();
var w;
var k=o.replace(/^(\s|　)+|(\s|　)+$/g,"");
var g={option:"select",tr:"tbody",thead:"table",tbody:"table",col:"table",td:"tr",th:"tr",div:"div"};
var n=/^\<(option|tr|thead|tbody|td|th|col)(?:.*?)\>/i.exec(k);
var q=n===null?"div":n[1].toLowerCase();
var m=g[q];
w=jindo._p_._createEle(m,k,y,true);
var d=w.getElementsByTagName("script");
for(var s=0,r=d.length;
s<r;
s++){d[s].parentNode.removeChild(d[s])
}while(w[f]){b.appendChild(w[f])
}h(b.cloneNode(true))
}return c
};
jindo.$Element.prototype.appendHTML=function(a){return jindo.$Element.insertAdjacentHTML(this,a,"beforeEnd","firstChild",jindo.$Fn(function(b){var g=this._element;
if(g.tagName.toLowerCase()==="table"){var d=g.childNodes;
for(var f=0,c=d.length;
f<c;
f++){if(d[f].nodeType==1){g=d[f];
break
}}}g.appendChild(b)
},this).bind(),"appendHTML")
};
jindo.$Element.prototype.prependHTML=function(b){var a=jindo.$Element;
return a.insertAdjacentHTML(this,b,"afterBegin","firstChild",jindo.$Fn(function(c){var h=this._element;
if(h.tagName.toLowerCase()==="table"){var f=h.childNodes;
for(var g=0,d=f.length;
g<d;
g++){if(f[g].nodeType==1){h=f[g];
break
}}}a._prepend(h,c)
},this).bind(),"prependHTML")
};
jindo.$Element.prototype.beforeHTML=function(a){return jindo.$Element.insertAdjacentHTML(this,a,"beforeBegin","firstChild",jindo.$Fn(function(b){this._element.parentNode.insertBefore(b,this._element)
},this).bind(),"beforeHTML")
};
jindo.$Element.prototype.afterHTML=function(a){return jindo.$Element.insertAdjacentHTML(this,a,"afterEnd","firstChild",jindo.$Fn(function(b){this._element.parentNode.insertBefore(b,this._element.nextSibling)
},this).bind(),"afterHTML")
};
jindo.$Element.prototype.hasEventListener=function(g){var c=g_checkVarType(arguments,{"4str":["sEvent:String+"]},"$Element#hasEventListener"),a,b=false,f=c.sEvent.toLowerCase();
if(this._key){a=this._element.ownerDocument||this._element.document||document;
if(f=="load"&&this._element===a){b=jindo.$Element(window).hasEventListener(c.sEvent)
}else{if(f=="domready"&&jindo.$Jindo.isWindow(this._element)){b=jindo.$Element(a).hasEventListener(c.sEvent)
}else{var d=jindo.$Element.eventManager.revisionEvent("",g);
b=!!jindo.$Element.eventManager.hasEvent(this._key,d,c.sEvent)
}}return b
}return false
};
jindo.$Element.prototype.preventTapHighlight=function(c){if(jindo._p_._JINDO_IS_MO){var b="no_tap_highlight"+new Date().getTime();
var f=document.createElement("style");
var d=document.getElementsByTagName("html")[0];
f.type="text/css";
d.insertBefore(f,d.firstChild);
var a=f.sheet||f.styleSheet;
a.insertRule("."+b+" { -webkit-tap-highlight-color: rgba(0,0,0,0); }",0);
a.insertRule("."+b+" * { -webkit-tap-highlight-color: rgba(0,0,0,.25); }",0);
jindo.$Element.prototype.preventTapHighlight=function(g){return this[g?"addClass":"removeClass"](b)
}
}else{jindo.$Element.prototype.preventTapHighlight=function(g){return this
}
}return this.preventTapHighlight.apply(this,jindo._p_._toArray(arguments))
};
jindo.$Element.prototype.data=function(n,k){var m="_jindo";
var j,f=g_checkVarType(arguments,{g:["sKey:String+"],s4var:["sKey:String+","vValue:Variant"],s4obj:["oObj:Hash+"]},"$Element#data");
var a=jindo.$Jindo.isNull;
function h(p){return p.replace(/\-(.)/g,function(r,q){return q.toUpperCase()
})
}switch(f+""){case"g":n=h(n);
var o=this._element.dataset[n+m];
var d=this._element.dataset[n];
if(d){if(o){return window.JSON.parse(d)
}return d
}return null;
case"s4var":var b;
if(a(k)){n=h(n);
delete this._element.dataset[n];
delete this._element.dataset[n+m];
return this
}else{b={};
b[n]=k;
n=b
}case"s4obj":var c;
for(var g in n){c=h(g);
if(a(n[g])){delete this._element.dataset[c];
delete this._element.dataset[c+m]
}else{j=jindo.$Json._oldToString(n[g]);
if(j!=null){this._element.dataset[c]=j;
this._element.dataset[c+m]="jindo"
}}}return this
}};
jindo.$ElementList=function(d){var b=arguments.callee;
if(d instanceof b){return d
}if(!(this instanceof b)){try{return new b(d)
}catch(g){if(g instanceof TypeError){return null
}throw g
}}var f=g_checkVarType(arguments,{"4arr":["aEle:Array+"],"4str":["sCssQuery:String+"],"4nul":["oEle:Null"],"4und":["oEle:Undefined"]},"$ElementList");
switch(f+""){case"4arr":d=f.aEle;
break;
case"4str":d=jindo.cssquery(f.sCssQuery);
break;
case"4nul":case"4und":d=[]
}this._elements=[];
for(var c=0,a=d.length;
c<a;
c++){this._elements.push(jindo.$Element(d[c]))
}};
(function(g){var f=["show","hide","toggle","addClass","removeClass","toggleClass","fireEvent","leave","empty","className","width","height","text","html","css","attr"];
for(var d=0,a=f.length;
d<a;
d++){var c=f[d];
if(jindo.$Element.prototype[c]){g[f[d]]=(function(h){return function(){try{var r=[];
for(var q=0,o=arguments.length;
q<o;
q++){r.push(arguments[q])
}for(var p=0,t=this._elements.length;
p<t;
p++){this._elements[p][h].apply(this._elements[p],r)
}return this
}catch(s){throw TypeError(s.message.replace(/\$Element/g,"$Elementlist#"+h).replace(/Element\.html/g,"Elementlist.html#"+h))
}}
})(f[d])
}}var b=["appear","disappear"];
for(var d=0,a=b.length;
d<a;
d++){if(jindo.$Element.prototype[c]){g[b[d]]=(function(h){return function(q,r){try{var n=this;
for(var o=0,k=this._elements.length;
o<k;
o++){if(o==k-1){this._elements[o][h](q,function(){r&&r(n)
})
}else{this._elements[o][h](q)
}}return this
}catch(p){throw TypeError(p.message.replace(/\$Element/g,"$Elementlist#"+h).replace(/Element\.html/g,"Elementlist.html#"+h))
}}
})(b[d])
}}})(jindo.$ElementList.prototype);
jindo.$ElementList.prototype.get=function(a){var b=g_checkVarType(arguments,{"4num":["nIdx:Numeric"]},"$ElementList#get");
return this._elements[a]
};
jindo.$ElementList.prototype.getFirst=function(){return this._elements[0]
};
jindo.$ElementList.prototype.getLast=function(){return this._elements[Math.max(this._elements.length-1,0)]
};
jindo.$ElementList.prototype.length=function(c,a){var b=g_checkVarType(arguments,{"4voi":[],"4num":[jindo.$Jindo._F("nLen:Numeric")],"4var":["nLen:Numeric","oValue:Variant"]},"$ElementList#length");
var f=jindo.$A(this._elements);
try{return f.length.apply(f,jindo._p_._toArray(arguments))
}catch(d){throw TypeError(d.message.replace(/\$A/g,"$Elementlist#length").replace(/A\.html/g,"Elementlist.html#length"))
}};
jindo.$ElementList.prototype.$value=function(){return this._elements
};
jindo.$Form=function(b){var a=arguments.callee;
if(b instanceof a){return b
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$Form");
return new a(b)
}catch(d){if(d instanceof TypeError){return null
}throw d
}}var c=g_checkVarType(arguments,{"4str":["oForm:String+"],"4ele":["oForm:Element+"]},"$Form+");
switch(c+""){case"4str":b=jindo.$(b);
break
}if(!(b.tagName&&b.tagName.toUpperCase()=="FORM")){throw TypeError("only form")
}this._form=b
};
jindo.$Form.prototype.$value=function(){return this._form
};
jindo.$Form.prototype.serialize=function(){var b=this;
var f={};
var d=arguments.length;
var h=function(m,k){if(!m.disabled){var j=b.value(k);
if(j!==undefined){f[k]=j
}}};
if(d==0){var a=this._form.elements.length;
for(var c=0;
c<a;
c++){var g=this._form.elements[c];
if(g.name){h(g,g.name)
}}}else{for(var c=0;
c<d;
c++){h(this.element(arguments[c]),arguments[c])
}}return jindo.$H(f).toQueryString()
};
jindo.$Form.prototype.element=function(b){var a=g_checkVarType(arguments,{"4voi":[],"4str":[jindo.$Jindo._F("sKey:String+")]},"$Form#element");
switch(a+""){case"4voi":return jindo._p_._toArray(this._form.elements);
case"4str":return this._form.elements[b+""]
}};
jindo.$Form.prototype.enable=function(j){var g=g_checkVarType(arguments,{s4bln:["sName:String+","bEnable:Boolean"],s4obj:["oObj:Hash+"],g:[jindo.$Jindo._F("sName:String+")]},"$Form#enable");
switch(g+""){case"s4bln":var f=this._form[j];
if(!f){return this
}f=f.nodeType==1?[f]:f;
var d=g.bEnable;
for(var c=0;
c<f.length;
c++){f[c].disabled=!d
}return this;
case"s4obj":j=g.oObj;
var b=this;
for(var a in j){if(j.hasOwnProperty(a)){b.enable(a,j[a])
}}return this;
case"g":var f=this._form[j];
if(!f){return this
}f=f.nodeType==1?[f]:f;
var h=true;
for(var c=0;
c<f.length;
c++){if(f[c].disabled){h=false;
break
}}return h
}};
jindo.$Form.prototype.value=function(p){var g=g_checkVarType(arguments,{s4str:["sKey:String+","vValue:Variant"],s4obj:[jindo.$Jindo._F("oObj:Hash+")],g:["sKey:String+"]},"$Form#value");
if(g+""=="s4obj"){var r=this;
p=g.oObj;
for(var h in p){if(p.hasOwnProperty(h)){r.value(h,p[h])
}}return this
}var b=this._form[p];
if(!b){throw new jindo.$Error(p+jindo.$Except.NONE_ELEMENT,"$Form#value")
}b=b.nodeType==1?[b]:b;
switch(g+""){case"s4str":var d=g.vValue;
var q=b.length;
for(var j=0;
j<q;
j++){var c=b[j];
switch(c.type){case"radio":c.checked=(c.value==d);
break;
case"checkbox":if(d.constructor==Array){c.checked=jindo.$A(d).has(c.value)
}else{c.checked=(c.value==d)
}break;
case"select-one":var a=-1;
for(var j=0,m=c.options.length;
j<m;
j++){if(c.options[j].value==d){a=j
}}c.selectedIndex=a;
break;
case"select-multiple":var a=-1;
if(d.constructor==Array){var n=jindo.$A(d);
for(var j=0,m=c.options.length;
j<m;
j++){c.options[j].selected=n.has(c.options[j].value)
}}else{for(var j=0,m=c.options.length;
j<m;
j++){if(c.options[j].value==d){a=j
}}c.selectedIndex=a
}break;
default:c.value=d
}}return this;
case"g":var f=[];
var q=b.length;
for(var j=0;
j<q;
j++){var c=b[j];
switch(c.type){case"radio":case"checkbox":if(c.checked){f.push(c.value)
}break;
case"select-one":if(c.selectedIndex!=-1){f.push(c.options[c.selectedIndex].value)
}break;
case"select-multiple":if(c.selectedIndex!=-1){for(var j=0,m=c.options.length;
j<m;
j++){if(c.options[j].selected){f.push(c.options[j].value)
}}}break;
default:f.push(c.value)
}}return f.length>1?f:f[0]
}};
jindo.$Form.prototype.submit=function(c,b){var a=g_checkVarType(arguments,{voi:[],"4str":["sTargetName:String+"],"4fun":["fValidation:Function+"],"4fun2":["sTargetName:String+","fValidation:Function+"]},"$Form#submit");
var d=null;
switch(a+""){case"4str":d=this._form.target;
this._form.target=a.sTargetName;
break;
case"4fun":case"4fun2":if(!a.fValidation.call(this,this._form)){return this
}if(a+""=="4fun2"){d=this._form.target;
this._form.target=a.sTargetName
}}this._form.submit();
if(!jindo.$Jindo.isNull(d)){this._form.target=d
}return this
};
jindo.$Form.prototype.reset=function(b){var a=g_checkVarType(arguments,{"4voi":[],"4fun":["fValidation:Function+"]},"$Form#reset");
if(a+""=="4fun"){if(!b.call(this,this._form)){return this
}}this._form.reset();
return this
};
jindo.$Document=function(b){var a=arguments.callee;
if(b instanceof a){return b
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$Document");
return new a(b||document)
}catch(d){if(d instanceof TypeError){return null
}throw d
}}var c=g_checkVarType(arguments,{"4doc":["oDocument:Document+"]},"$Document");
if(c==null){this._doc=document
}else{this._doc=b
}this._docKey="documentElement"
};
(function(){var c=jindo.cssquery;
var b={query:c.getSingle,queryAll:c,xpathAll:c.xpath};
for(var a in b){jindo.$Document.prototype[a]=(function(f,d){return function(h){var g=g_checkVarType(arguments,{"4str":["sQuery:String+"]},"$Document#"+f);
return d(h,this._doc)
}
})(a,b[a])
}})();
jindo.$Document.prototype.$value=function(){return this._doc
};
jindo.$Document.prototype.scrollSize=function(){var a=this._doc[jindo._p_._JINDO_IS_WK?"body":this._docKey];
return{width:Math.max(a.scrollWidth,a.clientWidth),height:Math.max(a.scrollHeight,a.clientHeight)}
};
jindo.$Document.prototype.scrollPosition=function(){var a=this._doc[jindo._p_._JINDO_IS_WK?"body":this._docKey];
return{left:a.scrollLeft||window.pageXOffset||window.scrollX||0,top:a.scrollTop||window.pageYOffset||window.scrollY||0}
};
jindo.$Document.prototype.clientSize=function(){var a=this._doc[this._docKey];
var b=jindo._p_._JINDO_IS_SP&&!jindo._p_._JINDO_IS_CH;
return(b)?{width:window.innerWidth,height:window.innerHeight}:{width:a.clientWidth,height:a.clientHeight}
};
jindo.$S=function(d){var a=arguments.callee;
if(d instanceof a){return d
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$Json");
return new a(d||"")
}catch(c){if(c instanceof TypeError){return null
}throw c
}}var b=g_checkVarType(arguments,{"4str":["str:String+"]},"$S");
this._str=d+""
};
jindo.$S.prototype.$value=function(){return this._str
};
jindo.$S.prototype.toString=jindo.$S.prototype.$value;
jindo.$S.prototype.trim=function(){if("".trim){jindo.$S.prototype.trim=function(){return jindo.$S(this._str.trim())
}
}else{jindo.$S.prototype.trim=function(){return jindo._p_.trim(this._str)
}
}return jindo.$S(this.trim())
};
jindo.$S.prototype.escapeHTML=function(){var b={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};
var a=this._str.replace(/[<>&"']/g,function(c){return b[c]?"&"+b[c]+";":c
});
return jindo.$S(a)
};
jindo.$S.prototype.stripTags=function(){return jindo.$S(this._str.replace(/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/ig,""))
};
jindo.$S.prototype.times=function(b){var a=g_checkVarType(arguments,{"4str":["nTimes:Numeric"]},"$S#times");
if(!a){return this
}return jindo.$S(Array(a.nTimes+1).join(this._str))
};
jindo.$S.prototype.unescapeHTML=function(){var b={quot:'"',amp:"&",lt:"<",gt:">","#39":"'"};
var a=this._str.replace(/&([a-z]+|#[0-9]+);/g,function(d,c){return b[c]?b[c]:d
});
return jindo.$S(a)
};
jindo.$S.prototype.escape=function(){var a=this._str.replace(/([\u0080-\uFFFF]+)|[\n\r\t"'\\]/g,function(d,c,b){if(c){return escape(c).replace(/%/g,"\\")
}return(b={"\n":"\\n","\r":"\\r","\t":"\\t"})[d]?b[d]:"\\"+d
});
return jindo.$S(a)
};
jindo.$S.prototype.bytes=function(c){var d=g_checkVarType(arguments,{"4voi":[],"4num":["nConfig:Numeric"],"4obj":["nConfig:Hash+"]},"$S#bytes");
var a=0,k=0,f=0,h=this._str.length;
var b=((document.charset||document.characterSet||document.defaultCharset)+"");
var j,g;
switch(d+""){case"4voi":j=false;
break;
case"4num":j=true;
g=c;
break;
case"4obj":b=c.charset||b;
g=c.size||false;
j=!!g;
break
}if(b.toLowerCase()=="utf-8"){for(f=0;
f<h;
f++){a=this._str.charCodeAt(f);
if(a<128){k+=1
}else{if(a<2048){k+=2
}else{if(a<65536){k+=3
}else{k+=4
}}}if(j&&k>g){this._str=this._str.substr(0,f);
break
}}}else{for(f=0;
f<h;
f++){k+=(this._str.charCodeAt(f)>128)?2:1;
if(j&&k>g){this._str=this._str.substr(0,f);
break
}}}return j?this:k
};
jindo.$S.prototype.parseString=function(){if(this._str==""){return{}
}var h=this._str.split(/&/g),j,c,g,a={},d=false;
for(var b=0;
b<h.length;
b++){c=h[b].substring(0,j=h[b].indexOf("=")),d=false;
try{g=decodeURIComponent(h[b].substring(j+1))
}catch(f){d=true;
g=decodeURIComponent(unescape(h[b].substring(j+1)))
}if(c.substr(c.length-2,2)=="[]"){c=c.substring(0,c.length-2);
if(jindo.$Jindo.isUndefined(a[c])){a[c]=[]
}a[c][a[c].length]=d?escape(g):g
}else{a[c]=d?escape(g):g
}}return a
};
jindo.$S.prototype.escapeRegex=function(){var a=this._str;
var b=/([\?\.\*\+\-\/\(\)\{\}\[\]\:\!\^\$\\\|])/g;
return jindo.$S(a.replace(b,"\\$1"))
};
jindo.$S.prototype.format=function(){var b=arguments;
var a=0;
var c=this._str.replace(/%([ 0])?(-)?([1-9][0-9]*)?([bcdsoxX])/g,function(m,k,h,g,d){var f=b[a++];
var j="",n="";
g=g?+g:0;
if(d=="s"){j=f+""
}else{if(" bcdoxX".indexOf(d)>0){if(!jindo.$Jindo.isNumeric(f)){return""
}j=(d=="c")?String.fromCharCode(f):f.toString(({b:2,d:10,o:8,x:16,X:16})[d]);
if(" X".indexOf(d)>0){j=j.toUpperCase()
}}}if(j.length<g){n=jindo.$S(k||" ").times(g-j.length)._str
}(h=="-")?(j+=n):(j=n+j);
return j
});
return jindo.$S(c)
};
jindo.$Json=function(b){var a=arguments.callee;
if(b instanceof a){return b
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$Json");
return new a(arguments.length?b:{})
}catch(c){if(c instanceof TypeError){return null
}throw c
}}g_checkVarType(arguments,{"4var":["oObject:Variant"]},"$Json");
this._object=b
};
jindo.$Json._oldMakeJSON=function(sObject,sType){try{if(jindo.$Jindo.isString(sObject)&&/^(?:\s*)[\{\[]/.test(sObject)){sObject=eval("("+sObject+")")
}else{return sObject
}}catch(e){throw new jindo.$Error(jindo.$Except.PARSE_ERROR,sType)
}return sObject
};
jindo.$Json.fromXML=function(a){var b=jindo.$Jindo;
var j=b.checkVarType(arguments,{"4str":["sXML:String+"]},"<static> $Json#fromXML");
var f={};
var p=/\s*<(\/?[\w:\-]+)((?:\s+[\w:\-]+\s*=\s*(?:"(?:\\"|[^"])*"|'(?:\\'|[^'])*'))*)\s*((?:\/>)|(?:><\/\1>|\s*))|\s*<!\[CDATA\[([\w\W]*?)\]\]>\s*|\s*>?([^<]*)/ig;
var k=/^[0-9]+(?:\.[0-9]+)?$/;
var m={"&amp;":"&","&nbsp;":" ","&quot;":'"',"&lt;":"<","&gt;":">"};
var c={tags:["/"],stack:[f]};
var n=function(o){if(b.isUndefined(o)){return""
}return o.replace(/&[a-z]+;/g,function(q){return(b.isString(m[q]))?m[q]:q
})
};
var g=function(o,q){o.replace(/([\w\:\-]+)\s*=\s*(?:"((?:\\"|[^"])*)"|'((?:\\'|[^'])*)')/g,function(s,r,w,t){q[r]=n((w?w.replace(/\\"/g,'"'):undefined)||(t?t.replace(/\\'/g,"'"):undefined))
})
};
var d=function(r){for(var q in r){if(r.hasOwnProperty(q)){if(Object.prototype[q]){continue
}return false
}}return true
};
var h=function(A,z,w,t,s,r){var H,G="";
var F=c.stack.length-1;
if(b.isString(z)&&z){if(z.substr(0,1)!="/"){var E=(typeof w=="string"&&w);
var C=(typeof t=="string"&&t);
var y=(!E&&C)?"":{};
H=c.stack[F];
if(b.isUndefined(H[z])){H[z]=y;
H=c.stack[F+1]=H[z]
}else{if(H[z] instanceof Array){var B=H[z].length;
H[z][B]=y;
H=c.stack[F+1]=H[z][B]
}else{H[z]=[H[z],y];
H=c.stack[F+1]=H[z][1]
}}if(E){g(w,H)
}c.tags[F+1]=z;
if(C){c.tags.length--;
c.stack.length--
}}else{c.tags.length--;
c.stack.length--
}}else{if(b.isString(s)&&s){G=s
}else{if(b.isString(r)&&r){G=n(r)
}}}if(G.replace(/^\s+/g,"").length>0){var D=c.stack[F-1];
var I=c.tags[F];
if(k.test(G)){G=parseFloat(G)
}else{if(G=="true"){G=true
}else{if(G=="false"){G=false
}}}if(b.isUndefined(D)){return
}if(D[I] instanceof Array){var q=D[I];
if(b.isHash(q[q.length-1])&&!d(q[q.length-1])){q[q.length-1].$cdata=G;
q[q.length-1].toString=function(){return G
}
}else{q[q.length-1]=G
}}else{if(b.isHash(D[I])&&!d(D[I])){D[I].$cdata=G;
D[I].toString=function(){return G
}
}else{D[I]=G
}}}};
a=a.replace(/<(\?|\!-)[^>]*>/g,"");
a.replace(p,h);
return jindo.$Json(f)
};
jindo.$Json.prototype.get=function(h){var a=jindo.$Jindo;
var g=a.checkVarType(arguments,{"4str":["sPath:String+"]},"$Json#get");
var f=jindo.$Json._oldMakeJSON(this._object,"$Json#get");
if(!(a.isHash(f)||a.isArray(f))){throw new jindo.$Error(jindo.$Except.JSON_MUST_HAVE_ARRAY_HASH,"$Json#get")
}var b=h.split("/");
var w=/^([\w:\-]+)\[([0-9]+)\]$/;
var r=[[f]],t=r[0];
var n=b.length,d,s,c,k,q;
for(var m=0;
m<n;
m++){if(b[m]=="."||b[m]==""){continue
}if(b[m]==".."){r.length--
}else{c=[];
s=-1;
d=t.length;
if(d==0){return[]
}if(w.test(b[m])){s=+RegExp.$2
}for(k=0;
k<d;
k++){q=t[k][b[m]];
if(a.isUndefined(q)){continue
}if(a.isArray(q)){if(s>-1){if(s<q.length){c[c.length]=q[s]
}}else{c=c.concat(q)
}}else{if(s==-1){c[c.length]=q
}}}r[r.length]=c
}t=r[r.length-1]
}return t
};
jindo.$Json.prototype.toString=function(){return jindo.$Json._oldToString(this._object)
};
jindo.$Json._oldToString=function(a){var b=jindo.$Jindo;
var c={$:function(d){if(b.isNull(d)||!b.isString(d)&&d==Infinity){return"null"
}if(b.isFunction(d)){return undefined
}if(b.isUndefined(d)){return undefined
}if(b.isBoolean(d)){return d?"true":"false"
}if(b.isString(d)){return this.s(d)
}if(b.isNumeric(d)){return d
}if(b.isArray(d)){return this.a(d)
}if(b.isHash(d)){return this.o(d)
}if(b.isDate(d)){return d+""
}if(typeof d=="object"||b.isRegExp(d)){return"{}"
}if(isNaN(d)){return"null"
}},s:function(d){var f={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};
var g=function(h){return(f[h]!==undefined)?f[h]:h
};
return'"'+d.replace(/[\\"'\n\r\t]/g,g)+'"'
},a:function(d){var g="[",j="",h=d.length;
for(var f=0;
f<h;
f++){if(b.isFunction(d[f])){continue
}g+=j+this.$(d[f]);
if(!j){j=","
}}return g+"]"
},o:function(g){g=jindo.$H(g).ksort().$value();
var f="{",h="";
for(var d in g){if(g.hasOwnProperty(d)){if(b.isUndefined(g[d])||b.isFunction(g[d])){continue
}f+=h+this.s(d)+":"+this.$(g[d]);
if(!h){h=","
}}}return f+"}"
}};
return c.$(a)
};
jindo.$Json.prototype.toXML=function(){var a=function(k,f){var j=function(n,m){return"<"+f+(m||"")+">"+n+"</"+f+">"
};
switch(typeof k){case"undefined":case"null":return j("");
case"number":return j(k);
case"string":if(k.indexOf("<")<0){return j(k.replace(/&/g,"&amp;"))
}else{return j("<![CDATA["+k+"]]>")
}case"boolean":return j(String(k));
case"object":var g="";
if(k instanceof Array){var d=k.length;
for(var h=0;
h<d;
h++){g+=a(k[h],f)
}}else{var c="";
for(var b in k){if(k.hasOwnProperty(b)){if(b=="$cdata"||typeof k[b]=="function"){continue
}g+=a(k[b],b)
}}if(f){g=j(g,c)
}}return g
}};
return a(jindo.$Json._oldMakeJSON(this._object,"$Json#toXML"),"")
};
jindo.$Json.prototype.toObject=function(){return jindo.$Json._oldMakeJSON(this._object,"$Json#toObject")
};
jindo.$Json.prototype.compare=function(a){var b=jindo.$Jindo;
var c=b.checkVarType(arguments,{"4obj":["oData:Hash+"],"4arr":["oData:Array+"]},"$Json#compare");
function d(h,m){if(b.isArray(h)){if(h.length!==m.length){return false
}for(var j=0,n=h.length;
j<n;
j++){if(!arguments.callee(h[j],m[j])){return false
}}return true
}else{if(b.isRegExp(h)||b.isFunction(h)||b.isDate(h)){return String(h)===String(m)
}else{if(typeof h==="number"&&isNaN(h)){return isNaN(m)
}else{if(b.isHash(h)){var n=0;
for(var g in h){n++
}for(var g in m){n--
}if(n!==0){return false
}for(var g in h){if(g in m===false||!arguments.callee(h[g],m[g])){return false
}}return true
}}}}return h===m
}try{return d(jindo.$Json._oldMakeJSON(this._object,"$Json#compare"),a)
}catch(f){return false
}};
jindo.$Json.prototype.$value=jindo.$Json.prototype.toObject;
jindo.$Ajax=function(a,g){var m=arguments.callee;
if(!(this instanceof m)){try{jindo.$Jindo._maxWarn(arguments.length,2,"$Ajax");
return new m(a,g||{})
}catch(k){if(k instanceof TypeError){return null
}throw k
}}var b=jindo.$Ajax;
var d=g_checkVarType(arguments,{"4str":["sURL:String+"],"4obj":["sURL:String+","oOption:Hash+"]},"$Ajax");
if(d+""=="for_string"){d.oOption={}
}function j(){return new XMLHttpRequest()
}var h=location.toString();
var f="";
try{f=h.match(/^https?:\/\/([a-z0-9_\-\.]+)/i)[1]
}catch(k){}this._status=0;
this._url=d.sURL;
this._headers={};
this._options={type:"xhr",method:"post",proxy:"",timeout:0,onload:function(o){},onerror:null,ontimeout:function(o){},jsonp_charset:"utf-8",callbackid:"",callbackname:"",async:true,decode:true,postBody:false,withCredentials:false};
this._options=b._setProperties(d.oOption,this);
if(this._options.type=="xhr"){this._url=d.sURL.replace(new RegExp("^"+window.location.protocol+"//"+window.location.host),function(){return""
})
}b._validationOption(this._options,"$Ajax");
if(b.CONFIG){this.option(b.CONFIG)
}var c=this._options;
c.type=c.type.toLowerCase();
c.method=c.method.toLowerCase();
if(window["__"+jindo._p_.jindoName+"_callback"]===undefined){window["__"+jindo._p_.jindoName+"_callback"]=[];
window["__"+jindo._p_.jindoName+"2_callback"]=[]
}var n=this;
switch(c.type){case"put":case"delete":case"get":case"post":c.method=c.type;
case"xhr":this._request=j();
break;
case"jsonp":if(!b.JSONPRequest){throw new ___error(jindo._p_.jindoName+".$Ajax.JSONPRequest"+___except.REQUIRE_AJAX,"$Ajax")
}this._request=new b.JSONPRequest(function(o,p){return n.option.apply(n,arguments)
})
}this._checkCORS(this._url,c.type,"")
};
jindo.$Ajax.prototype._checkCORS=function(b,c,a){this._bCORS=false;
if(/^http/.test(b)&&c==="xhr"){if(!("withCredentials" in this._request)){throw new jindo.$Error(jindo.$Except.NOT_SUPPORT_CORS,"$Ajax"+a)
}this._bCORS=true
}};
jindo.$Ajax._setProperties=function(c,a){c=c||{};
var b;
b=c.type=c.type||"xhr";
c.onload=jindo.$Fn(c.onload||function(){},a).bind();
c.ontimeout=jindo.$Fn(c.ontimeout||function(){},a).bind();
c.onerror=jindo.$Fn(c.onerror||function(){},a).bind();
c.method=c.method||"post";
if(b=="xhr"){c.async=c.async===undefined?true:c.async;
c.postBody=c.postBody===undefined?false:c.postBody;
c.withCredentials=c.withCredentials===undefined?false:c.withCredentials
}else{if(b=="jsonp"){c.method="get";
c.jsonp_charset=c.jsonp_charset||"utf-8";
c.callbackid=c.callbackid||"";
c.callbackname=c.callbackname||""
}}return c
};
jindo.$Ajax._validationOption=function(k,j){var d=jindo.$Error;
var c=jindo.$Except;
var a=k.type;
if(a==="jsonp"){if(k.method!=="get"){jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n\t"+j+"-method="+k.method)
}}else{if(a==="flash"){if(!(k.method==="get"||k.method==="post")){jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n\t"+j+"-method="+k.method)
}}}if(k.postBody){if(!(a==="xhr"&&(k.method!=="get"))){jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n\t"+k.method+"-postBody="+k.postBody)
}}var b={xhr:"onload|timeout|ontimeout|onerror|async|method|postBody|type|withCredentials",jsonp:"onload|timeout|ontimeout|onerror|jsonp_charset|callbackid|callbackname|method|type"};
var m=[];
var h=0;
for(m[h++] in k){}var g=b[a];
for(var h=0,f=m.length;
h<f;
h++){if(g.indexOf(m[h])==-1){jindo.$Jindo._warn(c.CANNOT_USE_OPTION+"\n\t"+a+"-"+m[h])
}}};
jindo.$Ajax.prototype._onload=function(){var a=this._request.status;
var b=this._request.readyState==4&&(a==200||a==0);
var c;
if(this._request.readyState==4){try{if((!b)&&jindo.$Jindo.isFunction(this._options.onerror)){this._options.onerror(new jindo.$Ajax.Response(this._request))
}else{c=this._options.onload(new jindo.$Ajax.Response(this._request))
}}finally{this._status--;
if(jindo.$Jindo.isFunction(this._oncompleted)){this._oncompleted(b,c)
}}}};
jindo.$Ajax.prototype.request=function(d){var b=jindo.$Jindo;
var j=b.checkVarType(arguments,{"4voi":[],"4obj":[b._F("oData:Hash+")],"4str":["sData:String+"]},"$Ajax#request");
this._status++;
var y=this;
var q=this._request;
var f=this._options;
var o,w,s=[],o="";
var g=null;
var c=this._url;
this._is_abort=false;
var p=f.type.toUpperCase();
var n=f.method.toUpperCase();
if(f.postBody&&p=="XHR"&&n!="GET"){if(j+""=="4str"){o=j.sData
}else{if(j+""=="4obj"){o=jindo.$Json(j.oData).toString()
}else{o=null
}}}else{switch(j+""){case"4voi":o=null;
break;
case"4obj":var d=j.oData;
for(var h in d){if(d.hasOwnProperty(h)){w=d[h];
if(b.isFunction(w)){w=w()
}if(b.isArray(w)||(jindo.$A&&w instanceof jindo.$A)){if(w instanceof jindo.$A){w=w._array
}for(var m=0;
m<w.length;
m++){s[s.length]=h+"="+encodeURIComponent(w[m])
}}else{s[s.length]=h+"="+encodeURIComponent(w)
}}}o=s.join("&")
}}if(o&&p=="XHR"&&n=="GET"){if(c.indexOf("?")==-1){c+="?"
}else{c+="&"
}c+=o;
o=null
}if(p=="XHR"){q.open(n,c,!!f.async)
}else{q.open(n,c)
}if(f.withCredentials){q.withCredentials=true
}if(p=="XHR"&&n=="POST"){q.setRequestHeader("If-Modified-Since","Thu, 1 Jan 1970 00:00:00 GMT")
}if(p=="XHR"){if(!this._headers["Content-Type"]){q.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=utf-8")
}if(!this._bCORS&&!this._headers["X-Requested-With"]){q.setRequestHeader("X-Requested-With","XMLHttpRequest")
}for(var r in this._headers){if(this._headers.hasOwnProperty(r)){if(typeof this._headers[r]=="function"){continue
}q.setRequestHeader(r,String(this._headers[r]))
}}}if(q.addEventListener){if(this._loadFunc){q.removeEventListener("load",this._loadFunc,false)
}if(this._errorFun){q.removeEventListener("error",this._errorFun,false)
}this._loadFunc=function(a){clearTimeout(g);
g=undefined;
y._onload()
};
this._errorFun=function(a){clearTimeout(g);
g=undefined;
y._options.onerror(new jindo.$Ajax.Response(y._request))
};
q.addEventListener("load",this._loadFunc,false);
q.addEventListener("error",this._errorFun,false)
}else{if(q.onload!==undefined){q.onload=function(a){if(q.readyState==4&&!y._is_abort){clearTimeout(g);
g=undefined;
y._onload()
}}
}else{q.onreadystatechange=function(a){if(q.readyState==4){clearTimeout(g);
g=undefined;
y._onload()
}}
}}if(f.timeout>0){if(this._timer){clearTimeout(this._timer)
}g=setTimeout(function(){y._is_abort=true;
if(y._interval){clearInterval(y._interval);
y._interval=undefined
}try{q.abort()
}catch(a){}f.ontimeout(q);
if(b.isFunction(y._oncompleted)){y._oncompleted(false)
}},f.timeout*1000);
this._timer=g
}this._test_url=c;
q.send(o);
return this
};
jindo.$Ajax.prototype.isIdle=function(){return this._status==0
};
jindo.$Ajax.prototype.abort=function(){try{if(this._interval){clearInterval(this._interval)
}if(this._timer){clearTimeout(this._timer)
}this._interval=undefined;
this._timer=undefined;
this._is_abort=true;
this._request.abort()
}finally{this._status--
}return this
};
jindo.$Ajax.prototype.url=function(b){var a=g_checkVarType(arguments,{g:[],s:["sURL:String+"]},"$Ajax#url");
switch(a+""){case"g":return this._url;
case"s":this._checkCORS(a.sURL,this._options.type,"#url");
this._url=a.sURL;
return this
}};
jindo.$Ajax.prototype.option=function(b,d){var c=g_checkVarType(arguments,{s4var:["sKey:String+","vValue:Variant"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax#option");
switch(c+""){case"s4var":c.oOption={};
c.oOption[c.sKey]=c.vValue;
case"s4obj":var g=c.oOption;
try{for(var a in g){if(g.hasOwnProperty(a)){if(a==="onload"||a==="ontimeout"||a==="onerror"){this._options[a]=jindo.$Fn(g[a],this).bind()
}else{this._options[a]=g[a]
}}}}catch(f){}break;
case"g":return this._options[c.sKey]
}this._checkCORS(this._url,this._options.type,"#option");
jindo.$Ajax._validationOption(this._options,"$Ajax#option");
return this
};
jindo.$Ajax.prototype.header=function(b,d){if(this._options.type==="jsonp"){jindo.$Jindo._warn("")
}var c=g_checkVarType(arguments,{s4str:["sKey:String+","sValue:String+"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax#option");
switch(c+""){case"s4str":this._headers[c.sKey]=c.sValue;
break;
case"s4obj":var g=c.oOption;
try{for(var a in g){if(g.hasOwnProperty(a)){this._headers[a]=g[a]
}}}catch(f){}break;
case"g":return this._headers[c.sKey]
}return this
};
jindo.$Ajax.Response=function(a){this._response=a;
this._regSheild=/^for\(;;\);/
};
jindo.$Ajax.Response.prototype.xml=function(){return this._response.responseXML
};
jindo.$Ajax.Response.prototype.text=function(){return this._response.responseText.replace(this._regSheild,"")
};
jindo.$Ajax.Response.prototype.status=function(){var a=this._response.status;
return a==0?200:a
};
jindo.$Ajax.Response.prototype.readyState=function(){return this._response.readyState
};
jindo.$Ajax.Response.prototype.json=function(){if(this._response.responseJSON){return this._response.responseJSON
}else{if(this._response.responseText){try{return eval("("+this.text()+")")
}catch(e){throw new jindo.$Error(jindo.$Except.PARSE_ERROR,"$Ajax#json")
}}}return{}
};
jindo.$Ajax.Response.prototype.header=function(a){var b=g_checkVarType(arguments,{"4str":["name:String+"],"4voi":[]},"$Ajax.Response#header");
switch(b+""){case"4str":return this._response.getResponseHeader(a);
case"4voi":return this._response.getAllResponseHeaders()
}};
var klass=jindo.$Class;
jindo.$Ajax.RequestBase=klass({_respHeaderString:"",callbackid:"",callbackname:"",responseXML:null,responseJSON:null,responseText:"",status:404,readyState:0,$init:function(a){},onload:function(){},abort:function(){},open:function(){},send:function(){},setRequestHeader:function(a,b){g_checkVarType(arguments,{"4str":["sName:String+","sValue:String+"]},"$Ajax.RequestBase#setRequestHeader");
this._headers[a]=b
},getResponseHeader:function(a){g_checkVarType(arguments,{"4str":["sName:String+"]},"$Ajax.RequestBase#getResponseHeader");
return this._respHeaders[a]||""
},getAllResponseHeaders:function(){return this._respHeaderString
},_getCallbackInfo:function(){var b="";
if(this.option("callbackid")!=""){var a=0;
do{b="_"+this.option("callbackid")+"_"+a;
a++
}while(window["__"+jindo._p_.jindoName+"_callback"][b])
}else{do{b="_"+Math.floor(Math.random()*10000)
}while(window["__"+jindo._p_.jindoName+"_callback"][b])
}if(this.option("callbackname")==""){this.option("callbackname","_callback")
}return{callbackname:this.option("callbackname"),id:b,name:"window.__"+jindo._p_.jindoName+"_callback."+b}
}});
jindo.$Ajax.JSONPRequest=klass({_headers:{},_respHeaders:{},_script:null,_onerror:null,$init:function(a){this.option=a
},_callback:function(b){if(this._onerror){clearTimeout(this._onerror);
this._onerror=null
}var a=this;
this.responseJSON=b;
this.onload(this);
setTimeout(function(){a.abort()
},10)
},abort:function(){if(this._script){try{this._script.parentNode.removeChild(this._script)
}catch(a){}}},open:function(b,a){g_checkVarType(arguments,{"4str":["method:String+","url:String+"]},"$Ajax.JSONPRequest#open");
this.responseJSON=null;
this._url=a
},send:function(g){var f=g_checkVarType(arguments,{"4voi":[],"4nul":["data:Null"],"4str":["data:String+"]},"$Ajax.JSONPRequest#send");
var d=this;
var h=this._getCallbackInfo();
var c=document.getElementsByTagName("head")[0];
this._script=document.createElement("script");
this._script.type="text/javascript";
this._script.charset=this.option("jsonp_charset");
if(c){c.appendChild(this._script)
}else{if(document.body){document.body.appendChild(this._script)
}}window["__"+jindo._p_.jindoName+"_callback"][h.id]=function(j){try{d.readyState=4;
d.status=200;
d._callback(j)
}finally{delete window["__"+jindo._p_.jindoName+"_callback"][h.id];
delete window["__"+jindo._p_.jindoName+"2_callback"][h.id]
}};
window["__"+jindo._p_.jindoName+"2_callback"][h.id]=function(j){window["__"+jindo._p_.jindoName+"_callback"][h.id](j)
};
var b=function(){if(!d.responseJSON){d.readyState=4;
d.status=500;
d._onerror=setTimeout(function(){d._callback(null)
},200)
}};
this._script.onload=this._script.onerror=function(){b();
this.onerror=null;
this.onload=null
};
var a="&";
if(this._url.indexOf("?")==-1){a="?"
}switch(f+""){case"4voi":case"4nul":g="";
break;
case"4str":g="&"+g
}this._test_url=this._script.src=this._url+a+h.callbackname+"="+h.name+g
}}).extend(jindo.$Ajax.RequestBase);
jindo.$Ajax.Queue=function(b){var a=arguments.callee;
if(!(this instanceof a)){return new a(b||{})
}var c=g_checkVarType(arguments,{"4voi":[],"4obj":["option:Hash+"]},"$Ajax.Queue");
b=c.option;
this._options={async:false,useResultAsParam:false,stopOnFailure:false};
this.option(b);
this._queue=[]
};
jindo.$Ajax.Queue.prototype.option=function(b,d){var c=g_checkVarType(arguments,{s4str:["sKey:String+","sValue:Variant"],s4obj:["oOption:Hash+"],g:["sKey:String+"]},"$Ajax.Queue#option");
switch(c+""){case"s4str":this._options[c.sKey]=c.sValue;
break;
case"s4obj":var g=c.oOption;
try{for(var a in g){if(g.hasOwnProperty(a)){this._options[a]=g[a]
}}}catch(f){}break;
case"g":return this._options[c.sKey]
}return this
};
jindo.$Ajax.Queue.prototype.add=function(c,a){var b=g_checkVarType(arguments,{"4obj":["oAjax:Hash+"],"4obj2":["oAjax:Hash+","oPram:Hash+"]},"$Ajax.Queue");
switch(b+""){case"4obj2":a=b.oPram
}this._queue.push({obj:c,param:a});
return this
};
jindo.$Ajax.Queue.prototype.request=function(){this._requestAsync.apply(this,this.option("async")?[]:[0]);
return this
};
jindo.$Ajax.Queue.prototype._requestSync=function(f,d){var c=this;
var b=this._queue;
if(b.length>f+1){b[f].obj._oncompleted=function(j,k){if(!c.option("stopOnFailure")||j){c._requestSync(f+1,k)
}}
}var h=b[f].param||{};
if(this.option("useResultAsParam")&&d){try{for(var a in d){if(h[a]===undefined&&d.hasOwnProperty(a)){h[a]=d[a]
}}}catch(g){}}b[f].obj.request(h)
};
jindo.$Ajax.Queue.prototype._requestAsync=function(){for(var a=0;
a<this._queue.length;
a++){this._queue[a].obj.request(this._queue[a].param||{})
}};
jindo.$Date=function(b){var j=arguments,n="";
var k=arguments.callee;
if(b&&b instanceof k){return b
}if(!(this instanceof k)){var h="";
for(var f=0,c=j.length;
f<c;
f++){h+="a["+f+"],"
}var m=new Function("cl","a","return new cl("+h.replace(/,$/,"")+");");
try{jindo.$Jindo._maxWarn(arguments.length,7,"$Date");
return m(k,j)
}catch(g){if(g instanceof TypeError){return null
}throw g
}}var d=g_checkVarType(arguments,{"4voi":[],"4str":["src:String+"],"4num":["src:Numeric"],"4dat":["src:Date+"],"4num2":["src:Numeric","src:Numeric"],"4num3":["src:Numeric","src:Numeric","src:Numeric"],"4num4":["src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num5":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num6":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"],"4num7":["src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric","src:Numeric"]},"$Date");
switch(d+""){case"4voi":this._date=new Date;
break;
case"4num":this._date=new Date(b*1);
break;
case"4str":if(/(\d\d\d\d)(?:-?(\d\d)(?:-?(\d\d)))/.test(b)){this._date=jindo.$Date._makeISO(b)
}else{this._date=k.parse(b)
}break;
case"4dat":(this._date=new Date).setTime(b.getTime());
this._date.setMilliseconds(b.getMilliseconds());
break;
case"4num2":case"4num3":case"4num4":case"4num5":case"4num6":case"4num7":for(var f=0;
f<7;
f++){if(!jindo.$Jindo.isNumeric(j[f])){j[f]=1
}}this._date=new Date(j[0],j[1],j[2],j[3],j[4],j[5],j[6])
}this._names={};
for(var f in jindo.$Date.names){if(jindo.$Date.names.hasOwnProperty(f)){this._names[f]=jindo.$Date.names[f]
}}};
jindo.$Date._makeISO=function(d){var b=d.match(/(\d{4})(?:-?(\d\d)(?:-?(\d\d)(?:[T ](\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|(?:([-+])(\d\d)(?::?(\d\d))?)?)?)?)?)?/);
var a=parseInt(b[4]||0,10);
var c=parseInt(b[5]||0,10);
if(b[8]=="Z"){a+=jindo.$Date.utc
}else{if(b[9]=="+"||b[9]=="-"){a+=(jindo.$Date.utc-parseInt(b[9]+b[10],10));
c+=parseInt(b[9]+b[11],10)
}}return new Date(b[1]||0,parseInt(b[2]||0,10)-1,b[3]||0,a,c,b[6]||0,b[7]||0)
};
jindo.$Date._paramCheck=function(a,b){return g_checkVarType(a,{s:["nParm:Numeric"],g:[]},"$Date#"+b)
};
jindo.$Date.names={month:["January","Febrary","March","April","May","June","July","August","September","October","Novermber","December"],s_month:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s_day:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampm:["AM","PM"]};
jindo.$Date.utc=9;
jindo.$Date.now=function(){if(Date.now){this.now=function(){return Date.now()
}
}else{this.now=function(){return +new Date()
}
}return this.now()
};
jindo.$Date.prototype.name=function(b,d){var c=g_checkVarType(arguments,{s4str:["sKey:String+","aValue:Array+"],s4obj:["oObject:Hash+"],g:["sKey:String+"]},"$Date#name");
switch(c+""){case"s4str":this._names[b]=d;
break;
case"s4obj":b=c.oObject;
for(var a in b){if(b.hasOwnProperty(a)){this._names[a]=b[a]
}}break;
case"g":return this._names[b]
}return this
};
jindo.$Date.parse=function(b){var c=g_checkVarType(arguments,{"4str":["sKey:String+"]},"$Date#parse");
var a=new Date(Date.parse(b));
if(isNaN(a)||a=="Invalid Date"){throw new jindo.$Error(jindo.$Except.INVALID_DATE,"$Date#parse")
}return a
};
jindo.$Date.prototype.$value=function(){return this._date
};
jindo.$Date.prototype.format=function(f){var c=g_checkVarType(arguments,{"4str":["sFormat:String+"]},"$Date#format");
f=c.sFormat;
var h={};
var g=this._date;
var b=this._names;
var a=this;
return(f||"").replace(/[a-z]/ig,function j(d){if(h[d]!==undefined){return h[d]
}switch(d){case"d":case"j":h.j=g.getDate();
h.d=(h.j>9?"":"0")+h.j;
return h[d];
case"l":case"D":case"w":case"N":h.w=g.getDay();
h.N=h.w?h.w:7;
h.D=b.s_day[h.w];
h.l=b.day[h.w];
return h[d];
case"S":return(!!(h.S=["st","nd","rd"][g.getDate()]))?h.S:(h.S="th");
case"z":h.z=Math.floor((g.getTime()-(new Date(g.getFullYear(),0,1)).getTime())/(3600*24*1000));
return h.z;
case"m":case"n":h.n=g.getMonth()+1;
h.m=(h.n>9?"":"0")+h.n;
return h[d];
case"L":h.L=a.isLeapYear();
return h.L;
case"o":case"Y":case"y":h.o=h.Y=g.getFullYear();
h.y=(h.o+"").substr(2);
return h[d];
case"a":case"A":case"g":case"G":case"h":case"H":h.G=g.getHours();
h.g=(h.g=h.G%12)?h.g:12;
h.A=h.G<12?b.ampm[0]:b.ampm[1];
h.a=h.A.toLowerCase();
h.H=(h.G>9?"":"0")+h.G;
h.h=(h.g>9?"":"0")+h.g;
return h[d];
case"i":h.i=(((h.i=g.getMinutes())>9)?"":"0")+h.i;
return h.i;
case"s":h.s=(((h.s=g.getSeconds())>9)?"":"0")+h.s;
return h.s;
case"u":h.u=g.getMilliseconds();
return h.u;
case"U":h.U=a.time();
return h.U;
default:return d
}})
};
jindo.$Date.prototype.time=function(a){var b=jindo.$Date._paramCheck(arguments,"time");
a=b.nParm;
switch(b+""){case"s":this._date.setTime(a);
return this;
case"g":return this._date.getTime()
}};
jindo.$Date.prototype.year=function(a){var b=jindo.$Date._paramCheck(arguments,"year");
a=b.nParm;
switch(b+""){case"s":this._date.setFullYear(a);
return this;
case"g":return this._date.getFullYear()
}};
jindo.$Date.prototype.month=function(a){var b=jindo.$Date._paramCheck(arguments,"month");
a=b.nParm;
switch(b+""){case"s":this._date.setMonth(a);
return this;
case"g":return this._date.getMonth()
}};
jindo.$Date.prototype.date=function(a){var b=jindo.$Date._paramCheck(arguments,"date");
a=b.nParm;
switch(b+""){case"s":this._date.setDate(a);
return this;
case"g":return this._date.getDate()
}};
jindo.$Date.prototype.day=function(){return this._date.getDay()
};
jindo.$Date.prototype.hours=function(b){var a=jindo.$Date._paramCheck(arguments,"hours");
b=a.nParm;
switch(a+""){case"s":this._date.setHours(b);
return this;
case"g":return this._date.getHours()
}};
jindo.$Date.prototype.minutes=function(a){var b=jindo.$Date._paramCheck(arguments,"minutes");
a=b.nParm;
switch(b+""){case"s":this._date.setMinutes(a);
return this;
case"g":return this._date.getMinutes()
}};
jindo.$Date.prototype.seconds=function(a){var b=jindo.$Date._paramCheck(arguments,"seconds");
a=b.nParm;
switch(b+""){case"s":this._date.setSeconds(a);
return this;
case"g":return this._date.getSeconds()
}};
jindo.$Date.prototype.isLeapYear=function(){var a=this._date.getFullYear();
return !(a%4)&&!!(a%100)||!(a%400)
};
jindo.$Date.prototype.compare=function(b,c){var a=g_checkVarType(arguments,{"4dat":["oDate:Date+"],"4str":["oDate:Date+","sType:String+"]},"$Date#compare");
b=a.oDate;
c=a.sType;
if(!c){return b-this._date
}else{if(c==="s"){return Math.floor(b/1000)-Math.floor(this._date/1000)
}else{if(c==="i"){return Math.floor(Math.floor(b/1000)/60)-Math.floor(Math.floor(this._date/1000)/60)
}else{if(c==="h"){return Math.floor(Math.floor(Math.floor(b/1000)/60)/60)-Math.floor(Math.floor(Math.floor(this._date/1000)/60)/60)
}else{if(c==="d"){return Math.floor(Math.floor(Math.floor(Math.floor(b/1000)/60)/60)/24)-Math.floor(Math.floor(Math.floor(Math.floor(this._date/1000)/60)/60)/24)
}else{if(c==="m"){return b.getMonth()-this._date.getMonth()
}else{if(c==="y"){return b.getFullYear()-this._date.getFullYear()
}}}}}}}};
jindo.$Cookie=function(){var a=arguments.callee;
var b=a._cached;
if(a._cached){return a._cached
}if(!(this instanceof a)){try{jindo.$Jindo._maxWarn(arguments.length,1,"$Cookie");
return(arguments.length>0)?new a(arguments[0]):new a
}catch(d){if(d instanceof TypeError){return null
}throw d
}}if(!(this instanceof a)){return new a
}if(typeof jindo.$Jindo.isUndefined(a._cached)){a._cached=this
}var c=jindo.$Jindo.checkVarType(arguments,{"4voi":[],"4bln":["bURIComponent:Boolean"]},"$Cookie");
switch(c+""){case"4voi":this._bURIComponent=false;
break;
case"4bln":this._bURIComponent=c.bURIComponent;
break
}};
jindo.$Cookie.prototype.keys=function(){var c=document.cookie.split(";");
var f=/^\s+|\s+$/g;
var b=new Array;
for(var d=0;
d<c.length;
d++){b[b.length]=c[d].substr(0,c[d].indexOf("=")).replace(f,"")
}return b
};
jindo.$Cookie.prototype.get=function(h){var g=jindo.$Jindo.checkVarType(arguments,{"4str":["sName:String+"]},"$Cookie#get");
var b=document.cookie.split(/\s*;\s*/);
var d=new RegExp("^(\\s*"+h+"\\s*=)");
var f;
var a;
for(var c=0;
c<b.length;
c++){if(d.test(b[c])){f=b[c].substr(RegExp.$1.length);
if(this._bURIComponent&&jindo.$Jindo.isNull(f.match(/%u\w{4}/))){a=decodeURIComponent(f)
}else{a=unescape(f)
}return a
}}return null
};
jindo.$Cookie.prototype.set=function(f,j,h,k,d){var a=jindo.$Jindo;
var c=a.checkVarType(arguments,{"4str":["sName:String+","sValue:String+"],day_for_string:["sName:String+","sValue:String+","nDays:Numeric"],domain_for_string:["sName:String+","sValue:String+","nDays:Numeric","sDomain:String+"],path_for_string:["sName:String+","sValue:String+","nDays:Numeric","sDomain:String+","sPath:String+"]},"$Cookie#set");
var g="";
var b;
if(c+""!=="4str"&&h!==0){g=";expires="+(new Date((new Date()).getTime()+h*1000*60*60*24)).toGMTString()
}if(a.isUndefined(k)){k=""
}if(a.isUndefined(d)){d="/"
}if(this._bURIComponent){b=encodeURIComponent(j)
}else{b=escape(j)
}document.cookie=f+"="+b+g+"; path="+d+(k?"; domain="+k:"");
return this
};
jindo.$Cookie.prototype.remove=function(f,j,d){var a=jindo.$Jindo;
var c=a.checkVarType(arguments,{"4str":["sName:String+"],domain_for_string:["sName:String+","sDomain:String+"],path_for_string:["sName:String+","sDomain:String+","sPath:String+"]},"$Cookie#remove");
var h=jindo._p_._toArray(arguments);
var k=[];
for(var g=0,b=h.length;
g<b;
g++){k.push(h[g]);
if(g==0){k.push("");
k.push(-1)
}}if(!a.isNull(this.get(f))){this.set.apply(this,k)
}return this
};
jindo.$Template=function(j,h){var g=null,a="",b=arguments.callee,c;
if(j instanceof b){return j
}if(!(this instanceof b)){try{jindo.$Jindo._maxWarn(arguments.length,2,"$Template");
return new b(j||"",h||"default")
}catch(f){if(f instanceof TypeError){return null
}throw f
}}var d=g_checkVarType(arguments,{"4str":["str:String+"],"4ele":["ele:Element+"],"4str3":["str:String+","sEngineName:String+"],"4ele3":["ele:Element+","sEngineName:String+"]},"$Template");
if((g=document.getElementById(j)||j)&&g.tagName&&(a=g.tagName.toUpperCase())&&(a=="TEXTAREA"||(a=="SCRIPT"&&g.getAttribute("type")=="text/template"))){j=(g.value||g.innerHTML).replace(/^\s+|\s+$/g,"")
}this._str=j+"";
c="default";
switch(d+""){case"4str3":case"4ele3":c=d.sEngineName;
break
}this._compiler=jindo.$Template.getEngine(c)
};
jindo.$Template._aEngines={};
jindo.$Template._cache={};
jindo.$Template.splitter=/(?!\\)[\{\}]/g;
jindo.$Template.pattern=/^(?:if (.+)|elseif (.+)|for (?:(.+)\:)?(.+) in (.+)|(else)|\/(if|for)|=(.+)|js (.+)|set (.+)|gset (.+))$/;
jindo.$Template.addEngine=function(c,b){var a=g_checkVarType(arguments,{"4fun":["sEngineName:String+","fEngine:Function+"]},"$Template#addEngine");
jindo.$Template._aEngines[a.sEngineName]=a.fEngine
};
jindo.$Template.getEngine=function(b){var a=g_checkVarType(arguments,{"4str":["sEngineName:String+"]},"$Template#getEngine");
return jindo.$Template._aEngines[a.sEngineName]
};
jindo.$Template.prototype.process=function(c){var b=g_checkVarType(arguments,{"4obj":["data:Hash+"],"4voi":[]},"$Template#process"),a;
if(jindo.$Template._cache&&jindo.$Template._cache[this._str]){a=jindo.$Template._cache[this._str];
return a(b+""=="for_void"?"":b.data)
}jindo.$Template._cache[this._str]=a=this._compiler(this._str);
return a(b+""=="for_void"?"":b.data)
};
jindo.$Template.addEngine("default",function(h){var o="\x01",f="\x02",m="\x03",k=(" "+h+" ").replace(/\\{/g,f).replace(/\\}/g,m).replace(/(?!\\)\}\{/g,"}"+o+"{").split(jindo.$Template.splitter),j=k.length,a={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t","\f":"\\f"},c=[/(["'](?:(?:\\.)+|[^\\["']+)*["']|[a-zA-Z_](?:[\w\.]|\[(?:.*?)\])*)/g,/[\n\r\t\f"\\]/g,/^\s+/,/\s+$/,/#/g],g=[function(q){return(q.substring(0,1)=='"'||q.substring(0,1)=="'"||q=="null"||q=="false"||q=="true")?q:"d."+q
},function(q){return a[q]||q
},"",""],p=[],d=0,n;
k[0]=k[0].substr(1);
k[j-1]=k[j-1].substr(0,k[j-1].length-1);
if(j<2){return(function(q){return function(){return q
}
})(k[0])
}k=k.reverse();
while(j--){if(j%2){k[j]=k[j].replace(jindo.$Template.pattern,function(){var q=arguments;
if(q[11]){return q[11].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var t=arguments;
var s="var "+t[1]+"=";
if(t[2]){s+=t[2]
}else{s+=t[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(w){return(w.substring(0,1)=="=")?"d."+w.replace("=",""):w
})
}return s
})+";"
}if(q[10]){return q[10].replace(/(\w+)(?:\s*)=(?:\s*)(?:([a-zA-Z0-9_]+)|(.+))$/g,function(){var t=arguments;
var s="d."+t[1]+"=";
if(t[2]){s+="d."+t[2]
}else{s+=t[3].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(w){return(w.substring(0,1)=="=")?"d."+w.replace("=",""):w
})
}return s
})+";"
}if(q[9]){return"s[i++] = "+q[9].replace(/(=(?:[a-zA-Z_][\w\.]*)+)/g,function(s){return(s.substring(0,1)=="=")?"d."+s.replace("=",""):s
})+";"
}if(q[8]){return"s[i++] = d."+q[8]+";"
}if(q[1]){return"if("+q[1].replace(c[0],g[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"
}if(q[2]){return"}else if("+q[2].replace(c[0],g[0]).replace(/d\.(typeof) /,"$1 ").replace(/ d\.(instanceof) d\./," $1 ")+"){"
}if(q[5]){n=q[4];
var r=[];
r.push("var t# = d."+q[5]+" || {},");
r.push("p# = "+jindo._p_.jindoName+".$Jindo.isArray(t#),");
r.push("i# = 0,");
r.push("j#,");
r.push("leng#,");
r.push("aProp# = [],");
r.push("sProp#;");
r.push("if(p#){");
r.push("	leng# = t#.length;");
r.push("	for(j# = 0; j# < leng#; j#++){aProp#.push(j#);}");
r.push("}else{");
r.push("	for(j# in t#){aProp#.push(j#);}");
r.push("}");
r.push("leng# = aProp#.length;");
r.push("for(var x# = 0; x# < leng#; x#++){");
r.push("	sProp# = aProp#[x#];");
r.push("	if(!p# && !t#.hasOwnProperty(sProp#)){");
r.push("		continue;");
r.push("	}");
r.push("	if((p# && isNaN(i# = parseInt(sProp#, 10))) || (!p# && !t#.propertyIsEnumerable(sProp#))){");
r.push("		continue;");
r.push("	}");
r.push("	d."+q[4]+" = t#[sProp#];");
r.push(q[3]?"d."+q[3]+" = sProp#;":"");
return r.join("").replace(c[4],d++)
}if(q[6]){return"}else{"
}if(q[7]){if(q[7]=="for"){return"delete d."+n+"; };"
}else{return"};"
}}return q[0]
})
}else{if(k[j]==o){k[j]=""
}else{if(k[j]){k[j]='s[i++] = "'+k[j].replace(c[1],g[1])+'";'
}}}}k=k.reverse().join("").replace(new RegExp(f,"g"),"{").replace(new RegExp(m,"g"),"}");
var b=[];
b.push("d = d || {};");
b.push("var s = [], i = 0;");
b.push(k);
b.push('return s.join("");');
k=new Function("d",""+b.join(""));
return k
});
jindo.$Template.addEngine("micro",function(a){return new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');")
});
jindo.$Template.addEngine("handlebars",function(a){if(typeof Handlebars=="undefined"){throw new jindo.$Error(jindo.$Except.NOT_FOUND_HANDLEBARS,"$Template#process")
}return Handlebars.compile(a)
});
jindo.$Template.addEngine("simple",function(a){return function(b){return a.replace(/\{\{([^{}]*)\}\}/g,function(d,c){return(typeof b[c]=="undefined")?"":b[c]
})
}
});
var aClass=["$Agent","$Ajax","$A","$Cookie","$Date","$Document","$Element","$ElementList","$Event","$Form","$Fn","$H","$Json","$S","$Template"];
var sClass,oClass;
for(var i=0,l=aClass.length;
i<l;
i++){sClass=aClass[i];
oClass=jindo[sClass];
if(oClass){oClass.addExtension=(function(a){return function(c,b){jindo._p_.addExtension(a,c,b);
return this
}
})(sClass)
}}var hooks=["$Element","$Event"];
for(var i=0,l=hooks.length;
i<l;
i++){var _className=hooks[i];
if(jindo[_className]){jindo[_className].hook=(function(b){var a={};
return function(h,f){var g=jindo.$Jindo.checkVarType(arguments,{g:["sName:String+"],s4var:["sName:String+","vRevisionKey:Variant"],s4obj:["oObj:Hash+"]},"jindo."+b+".hook");
switch(g+""){case"g":return a[g.sName.toLowerCase()];
case"s4var":if(f==null){delete a[g.sName.toLowerCase()]
}else{a[g.sName.toLowerCase()]=f
}return this;
case"s4obj":var c=g.oObj;
for(var d in c){a[d.toLowerCase()]=c[d]
}return this
}}
})(_className)
}}if(!jindo.$Jindo.isUndefined(window)&&!(jindo._p_._j_ag.indexOf("IEMobile")==-1&&jindo._p_._j_ag.indexOf("Mobile")>-1&&jindo._p_._JINDO_IS_SP)){(new jindo.$Element(window)).attach("unload",function(a){jindo.$Element.eventManager.cleanUpAll()
})
}if(typeof define==="function"&&define.amd&&define.amd.jindo){define("jindo",[],function(){return jindo
})
}if(typeof window!="undefined"){for(prop in jindo){if(jindo.hasOwnProperty(prop)){window[prop]=jindo[prop]
}}}if(typeof jindo.m=="undefined"&&typeof Node!="undefined"){var ___Old__addEventListener___=Node.prototype.addEventListener;
Node.prototype.addEventListener=function(c,d,a){var b=arguments.callee;
if(b&&c==="click"&&this.tagName==="A"){(this.___listeners___||(this.___listeners___=[])).push({listener:d,useCapture:a})
}return ___Old__addEventListener___.apply(this,arguments)
};
var ___Old__removeEventListener___=Node.prototype.removeEventListener;
Node.prototype.removeEventListener=function(c,d,a){var b=arguments.callee;
if(b&&c==="click"&&this.tagName==="A"){if(this.___listeners___){this.___listeners___.pop()
}}return ___Old__removeEventListener___.apply(this,arguments)
}
}var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;
var caf=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;
if(raf&&!caf){var keyInfo={};
var oldraf=raf;
raf=function(c){function b(){if(keyInfo[a]){c()
}}var a=oldraf(b);
keyInfo[a]=true;
return a
};
caf=function(a){delete keyInfo[a]
}
}else{if(!(raf&&caf)){raf=function(a){return window.setTimeout(a,16)
};
caf=window.clearTimeout
}}window.requestAnimationFrame=raf;
window.cancelAnimationFrame=caf;
jindo.m=(function(){var _isVertical=null,_nPreWidth=-1,_nRotateTimer=null,_htHandler={},_htDeviceInfo={},_htAddPatch={},_htOsInfo={},_htBrowserInfo={},_htTouchEventName={start:"mousedown",move:"mousemove",end:"mouseup",cancel:null},_htDeviceList={galaxyTab:["SHW-M180"],galaxyTab2:["SHW-M380"],galaxyS:["SHW-M110"],galaxyS2:["SHW-M250","GT-I9100"],galaxyS2LTE:["SHV-E110"],galaxyS3:["SHV-E210","SHW-M440","GT-I9300"],galaxyNote:["SHV-E160"],galaxyNote2:["SHV-E250"],galaxyNexus:["Galaxy Nexus"],optimusLte2:["LG-F160"],optimusVu:["LG-F100"],optimusLte:["LG-LU6200","LG-SU640","LG-F120K"]},_htClientSize={galaxyTab:{"4":{portrait:400},"default":{portrait:300,landscape:100}},galaxyTab2:{"default":{portrait:500,landscape:100}},galaxyNexus:{"default":{portrait:800,address:30,landscape:100}}};
function _initTouchEventName(){if("ontouchstart" in window){_htTouchEventName.start="touchstart";
_htTouchEventName.move="touchmove";
_htTouchEventName.end="touchend";
_htTouchEventName.cancel="touchcancel"
}else{if(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0){_htTouchEventName.start="MSPointerDown";
_htTouchEventName.move="MSPointerMove";
_htTouchEventName.end="MSPointerUp";
_htTouchEventName.cancel="MSPointerCancel"
}}}function _getOrientationChangeEvt(){var bEvtName="onorientationchange" in window?"orientationchange":"resize";
if((_htOsInfo.android&&_htOsInfo.version==="2.1")){bEvtName="resize"
}return bEvtName
}function _getVertical(){var bVertical=null,sEventType=_getOrientationChangeEvt();
if(sEventType==="resize"){var screenWidth=document.documentElement.clientWidth;
if(screenWidth<_nPreWidth){bVertical=true
}else{if(screenWidth==_nPreWidth){bVertical=_isVertical
}else{bVertical=false
}}_nPreWidth=screenWidth
}else{var windowOrientation=window.orientation;
if(windowOrientation===0||windowOrientation==180){bVertical=true
}else{if(windowOrientation==90||windowOrientation==-90){bVertical=false
}}}return bVertical
}function _attachEvent(){var fnOrientation=jindo.$Fn(_onOrientationChange,this).attach(window,_getOrientationChangeEvt()).attach(window,"load");
var fnPageShow=jindo.$Fn(_onPageshow,this).attach(window,"pageshow")
}function _initDeviceInfo(){var sName=navigator.userAgent;
var ar=null;
function f(s,h){return((h||"").indexOf(s)>-1)
}_htDeviceInfo={iphone:f("iPhone",sName),ipad:f("iPad",sName),android:f("Android",sName),win:f("Windows Phone",sName),galaxyTab:f("SHW-M180",sName),galaxyTab2:f("SHW-M380",sName),galaxyS:f("SHW-M110",sName),galaxyS2:f("SHW-M250",sName)||f("GT-I9100",sName),galaxyS2LTE:f("SHV-E110",sName),galaxyS3:f("SHV-E210",sName)||f("SHW-M440",sName)||f("GT-I9300",sName),galaxyNote:f("SHV-E160",sName),galaxyNote2:f("SHV-E250",sName),galaxyNexus:f("Galaxy Nexus",sName),optimusLte2:f("LG-F160",sName),optimusVu:f("LG-F100",sName),optimusLte:f("LG-LU6200",sName)||f("LG-SU640",sName)||f("LG-F120K",sName),galaxyS4:f("SHV-E300",sName)||f("GT-I9500",sName)||f("GT-I9505",sName)||f("SGH-M919",sName)||f("SPH-L720",sName)||f("SGH-I337",sName)||f("SCH-I545",sName),bChrome:(f("CrMo",sName)||f("Chrome",sName)),bSBrowser:f("SAMSUNG",sName)&&f("Chrome",sName),bInapp:false,version:"",browserVersion:""};
if(_htDeviceInfo.iphone||_htDeviceInfo.ipad){ar=sName.match(/OS\s([\d|\_]+\s)/i);
if(ar!==null&&ar.length>1){_htDeviceInfo.version=ar[1]
}}else{if(_htDeviceInfo.android){ar=sName.match(/Android\s([^\;]*)/i);
if(ar!==null&&ar.length>1){_htDeviceInfo.version=ar[1]
}}else{if(_htDeviceInfo.win){ar=sName.match(/Windows Phone\s([^\;]*)/i);
if(ar!==null&&ar.length>1){_htDeviceInfo.version=ar[1]
}}}}_htDeviceInfo.version=_htDeviceInfo.version.replace(/\_/g,".").replace(/\s/g,"");
if(_htDeviceInfo.bChrome){ar=sName.match(/Chrome\/([^\s]*)/i);
if(ar!==null&&ar.length>1){_htDeviceInfo.browserVersion=ar[1].replace(/\_/g,".").replace(/\s/g,"")
}}else{_htDeviceInfo.browserVersion=_htDeviceInfo.version
}for(var x in _htDeviceInfo){if(typeof _htDeviceInfo[x]=="boolean"&&_htDeviceInfo[x]&&_htDeviceInfo.hasOwnProperty(x)){if(x[0]!=="b"){_htDeviceInfo.name=x
}}}if(_htDeviceInfo.iphone||_htDeviceInfo.ipad){if(!f("Safari",sName)){_htDeviceInfo.bInapp=true
}}else{if(_htDeviceInfo.android){sName=sName.toLowerCase();
if(f("inapp",sName)||f("app",sName.replace("applewebkit",""))){_htDeviceInfo.bInapp=true
}}}_setOsInfo();
_setBrowserInfo()
}function _setOsInfo(){_htOsInfo=jindo.$Agent().os();
_isInapp();
_htOsInfo.version=_htOsInfo.version||_getOsVersion()
}function _setBrowserInfo(){_htBrowserInfo=jindo.$Agent().navigator();
_isSBrowser()
}function _isInapp(){var sName=navigator.userAgent;
if(_htOsInfo.iphone||_htOsInfo.ipad){if(sName.indexOf("Safari")==-1){_htOsInfo.bInapp=true
}}else{if(_htOsInfo.android){sName=sName.toLowerCase();
if(sName.indexOf("inapp")!=-1||sName.replace("applewebkit","").indexOf("app")!=-1){_htOsInfo.bInapp=true
}}}}function _isSBrowser(){_htBrowserInfo.bSBrowser=false;
var sUserAgent=navigator.userAgent;
var aMatchReturn=sUserAgent.match(/(SAMSUNG|Chrome)/gi)||"";
if(aMatchReturn.length>1){_htBrowserInfo.bSBrowser=true
}}function _getOsVersion(){if(!_htOsInfo.version){var sName=navigator.userAgent,sVersion="",ar;
if(_htOsInfo.iphone||_htOsInfo.ipad){ar=sName.match(/OS\s([\d|\_]+\s)/i);
if(ar!==null&&ar.length>1){sVersion=ar[1]
}}else{if(_htOsInfo.android){ar=sName.match(/Android\s([^\;]*)/i);
if(ar!==null&&ar.length>1){sVersion=ar[1]
}}else{if(_htOsInfo.mwin){ar=sName.match(/Windows Phone\s([^\;]*)/i);
if(ar!==null&&ar.length>1){sVersion=ar[1]
}}}}return sVersion.replace(/\_/g,".").replace(/\s/g,"")
}}function _onOrientationChange(we){var self=this;
if(we.type==="load"){_nPreWidth=document.documentElement.clientWidth;
if(!_htOsInfo.bInapp&&(_htOsInfo.iphone||_htOsInfo.ipad||_getOrientationChangeEvt()!=="resize")){_isVertical=_getVertical()
}else{if(_nPreWidth>document.documentElement.clientHeight){_isVertical=false
}else{_isVertical=true
}}return
}if(_getOrientationChangeEvt()==="resize"){setTimeout(function(){_orientationChange(we)
},0)
}else{var screenWidth=jindo.$Document().clientSize().width;
var nTime=200;
if(_htDeviceInfo.android){if(we.type=="orientationchange"&&screenWidth==_nPreWidth){setTimeout(function(){_onOrientationChange(we)
},500);
return false
}_nPreWidth=screenWidth
}clearTimeout(_nRotateTimer);
_nRotateTimer=setTimeout(function(){_orientationChange(we)
},nTime)
}}function _orientationChange(we){var nPreVertical=_isVertical;
_isVertical=_getVertical();
if(jindo.$Agent().navigator().mobile||jindo.$Agent().os().ipad){if(nPreVertical!==_isVertical){we.sType="rotate";
we.isVertical=_isVertical;
_fireEvent("mobilerotate",we)
}}}function _onPageshow(we){_isVertical=_getVertical();
we.sType="pageShow";
setTimeout(function(){_fireEvent("mobilePageshow",we)
},300)
}function _getTranslateOffsetFromCSSMatrix(element){var curTransform=new WebKitCSSMatrix(window.getComputedStyle(element).webkitTransform);
return{top:curTransform.m42,left:curTransform.m41}
}function _fireEvent(sType,ht){if(_htHandler[sType]){for(var i=0,len=_htHandler[sType].length;
i<len;
i++){_htHandler[sType][i].call(this,ht)
}}}function _getTranslateOffsetFromStyle(element){var nTop=0,nLeft=0,aTemp=null,s=element.style[jindo.m.getCssPrefix()+"Transform"];
if(!!s&&s.length>0){aTemp=s.match(/translate.{0,2}\((.*)\)/);
if(!!aTemp&&aTemp.length>1){var a=aTemp[1].split(",");
if(!!a&&a.length>1){nTop=parseInt(a[1],10);
nLeft=parseInt(a[0],10)
}}}return{top:nTop,left:nLeft}
}var __M__={MOVETYPE:{0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap",6:"pinch",7:"rotate",8:"pinch-rotate"},sVersion:"unknown",$init:function(){_initDeviceInfo();
_initTouchEventName();
_attachEvent()
},bindRotate:function(fHandlerToBind){var aHandler=_htHandler.mobilerotate;
if(typeof aHandler=="undefined"){aHandler=_htHandler.mobilerotate=[]
}aHandler.push(fHandlerToBind)
},unbindRotate:function(fHandlerToUnbind){var aHandler=_htHandler.mobilerotate;
if(aHandler){for(var i=0,fHandler;
(fHandler=aHandler[i]);
i++){if(fHandler===fHandlerToUnbind){aHandler.splice(i,1);
break
}}}},bindPageshow:function(fHandlerToBind){var aHandler=_htHandler.mobilePageshow;
if(typeof aHandler=="undefined"){aHandler=_htHandler.mobilePageshow=[]
}aHandler.push(fHandlerToBind)
},unbindPageshow:function(fHandlerToUnbind){var aHandler=_htHandler.mobilePageshow;
if(aHandler){for(var i=0,fHandler;
(fHandler=aHandler[i]);
i++){if(fHandler===fHandlerToUnbind){aHandler.splice(i,1);
break
}}}},getDeviceInfo:function(){return _htDeviceInfo
},getOsInfo:function(){return _htOsInfo
},getBrowserInfo:function(){return _htBrowserInfo
},isVertical:function(){if(_isVertical===null){return _getVertical()
}else{return _isVertical
}},getNodeElement:function(el){while(el.nodeType!=1){el=el.parentNode
}return el
},getTranslateOffset:function(wel){wel=jindo.$Element(wel);
var element=wel.$value(),htOffset;
if(_htOsInfo.android&&parseInt(_htOsInfo.version,10)===3){htOffset=_getTranslateOffsetFromStyle(element)
}else{if("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix()){htOffset=_getTranslateOffsetFromCSSMatrix(element)
}else{htOffset=_getTranslateOffsetFromStyle(element)
}}return htOffset
},getStyleOffset:function(wel){var nLeft=parseInt(wel.css("left"),10),nTop=parseInt(wel.css("top"),10);
nLeft=isNaN(nLeft)?0:nLeft;
nTop=isNaN(nTop)?0:nTop;
return{left:nLeft,top:nTop}
},attachTransitionEnd:function(element,fHandlerToBind){var nVersion=+jindo.$Jindo().version.replace(/[a-z.]/gi,"");
if(nVersion>230){element._jindo_fn_=jindo.$Fn(fHandlerToBind,this).attach(element,"transitionend")
}else{var sEvent=((this.getCssPrefix()==="ms")?"MS":this.getCssPrefix())+"TransitionEnd";
element.addEventListener(sEvent,fHandlerToBind,false)
}},detachTransitionEnd:function(element,fHandlerToUnbind){var nVersion=+jindo.$Jindo().version.replace(/[a-z.]/gi,"");
if(nVersion>230){if(element._jindo_fn_){element._jindo_fn_.detach(element,"transitionend");
delete element._jindo_fn_
}}else{var sEvent=((this.getCssPrefix()==="ms")?"MS":this.getCssPrefix())+"TransitionEnd";
element.removeEventListener(sEvent,fHandlerToUnbind,false)
}},_attachFakeJindo:function(element,fn,sEvent){var nVersion=+jindo.$Jindo().version.replace(/[a-z.]/gi,"");
var wfn=null;
if(nVersion<230&&(typeof _notSupport!=="undefined")){wfn=_notSupport.$Fn(fn).attach(element,sEvent)
}else{wfn=jindo.$Fn(fn).attach(element,sEvent)
}return wfn
},_getTouchEventName:function(){return _htTouchEventName
},getCssPrefix:function(){var sCssPrefix="";
if(typeof document.body.style.MozTransition!=="undefined"){sCssPrefix="Moz"
}else{if(typeof document.body.style.OTransition!=="undefined"){sCssPrefix="O"
}else{if(typeof document.body.style.msTransition!=="undefined"){sCssPrefix="ms"
}else{sCssPrefix="webkit"
}}}return sCssPrefix
},getClosest:function(sSelector,elBaseElement){var elClosest;
var welBaseElement=jindo.$Element(elBaseElement);
var reg=/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/ig;
if(reg.test(sSelector)){if("<"+elBaseElement.tagName.toUpperCase()+">"==sSelector.toUpperCase()){elClosest=elBaseElement
}else{elClosest=welBaseElement.parent(function(v){if("<"+v.$value().tagName.toUpperCase()+">"==sSelector.toUpperCase()){return v
}});
elClosest=elClosest.length?elClosest[0].$value():false
}}else{if(sSelector.indexOf(".")==0){sSelector=sSelector.substring(1,sSelector.length)
}if(welBaseElement.hasClass(sSelector)){elClosest=elBaseElement
}else{elClosest=welBaseElement.parent(function(v){if(v.hasClass(sSelector)){return v
}});
elClosest=elClosest.length?elClosest[0].$value():false
}}return elClosest
},useCss3d:function(isFlicking){if(isFlicking===undefined){isFlicking=false
}if(_htAddPatch.useCss3d&&typeof _htAddPatch.useCss3d=="function"){switch(_htAddPatch.useCss3d()){case -1:return false;
case 1:return true
}}var bRet=false;
if(_htBrowserInfo.chrome&&_htBrowserInfo.version<"25"&&!_htBrowserInfo.bSBrowser){return bRet
}if(_htOsInfo.iphone||_htOsInfo.ipad){bRet=true
}else{if(_htOsInfo.android){if(_htOsInfo.version>="4.1.0"){bRet=true
}else{var s=navigator.userAgent.match(/\(.*\)/)[0];
if(_htOsInfo.version>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(s)&&!/SHW-M420|SHW-M200|GT-S7562/.test(s)){bRet=true
}}}}return bRet
},patch:function(ver){_htAddPatch.ver=ver;
return this
},_checkPatchVersion:function(){if(_htAddPatch.ver>=jindo.m.Component.VERSION){return true
}return false
},add:function(htOption){if(this._checkPatchVersion()){for(var i in htOption){_htAddPatch[i]=htOption[i]
}}return this
},getDeviceName:function(){if(_htAddPatch.getDeviceName&&typeof _htAddPatch.getDeviceName=="function"){if(_htAddPatch.getDeviceName()){return _htAddPatch.getDeviceName()
}}var sUserAgent=navigator.userAgent;
for(var i in _htDeviceList){if(eval("/"+_htDeviceList[i].join("|")+"/").test(sUserAgent)){return i;
break
}}var htInfo=jindo.$Agent().os();
for(var x in htInfo){if(htInfo[x]===true&&htInfo.hasOwnProperty(x)){return x;
break
}}},useFixed:function(){if(_htAddPatch.useFixed&&typeof _htAddPatch.useFixed=="function"){switch(_htAddPatch.useFixed()){case -1:return false;
case 1:return true
}}var isFixed=false;
if(_htBrowserInfo.chrome||(_htOsInfo.android&&parseInt(_htOsInfo.version,10)>=3)||((_htOsInfo.iphone||_htOsInfo.ipad)&&(parseInt(_htOsInfo.version,10)>=5))||(_htOsInfo.mwin&&parseInt(_htOsInfo.version,10)>=8)){isFixed=true
}return isFixed
},useTimingFunction:function(bUseFilcking){if(_htAddPatch.useTimingFunction&&typeof _htAddPatch.useTimingFunction=="function"&&_htAddPatch.useTimingFunction()){switch(_htAddPatch.useTimingFunction()){case -1:return false;
case 1:return true
}}if(typeof bUseFilcking==="undefined"){bUseFilcking=false
}var bUse=this.useCss3d();
if(_htDeviceInfo.android||((_htDeviceInfo.iphone||_htDeviceInfo.ipad)&&/^6.0/.test(_htDeviceInfo.version))){bUse=false
}return bUse
},_clientSize:function(isMinSize){if(typeof isMinSize==="undefined"){isMinSize=false
}var oSize={};
var oRet=jindo.$Document().clientSize();
var nVersion=parseInt(_htOsInfo.version,10);
if((_htOsInfo.ipad||_htOsInfo.iphone)||_htBrowserInfo.chrome){if(isMinSize&&_htOsInfo.iphone){oRet.height=this.isVertical()?356:268
}return oRet
}switch(_htDeviceInfo.name){case"galaxyTab":oSize={portrait:400,landscape:683};
oSize.landscape-=92;
oSize.portrait-=66;
break;
case"galaxyTab2":oSize={portrait:1280,landscape:800};
oSize.landscape-=152;
oSize.portrait-=152;
break;
case"galaxyS":oSize={portrait:320,landscape:533};
oSize.landscape-=81;
oSize.portrait-=81;
break;
case"galaxyS2LTE":case"galaxyS2":oSize={portrait:320,landscape:533};
if(nVersion==4){oSize.landscape-=77;
oSize.portrait-=77
}else{oSize.landscape-=83;
oSize.portrait-=83
}break;
case"galaxyS3":oSize={portrait:360,landscape:640};
oSize.landscape-=73;
oSize.portrait-=73;
break;
case"galaxyNote":case"galaxyNote2":oSize={portrait:400,landscape:640};
if(nVersion==4){oSize.landscape-=77;
oSize.portrait-=77
}else{oSize.landscape-=103;
oSize.portrait-=103
}break;
case"galaxyNexus":oSize={portrait:360,landscape:598};
oSize.landscape-=83;
oSize.portrait-=83;
break;
case"optimusLte":oSize={portrait:360,landscape:640};
oSize.landscape-=73;
oSize.portrait-=73;
break;
case"optimusLte2":oSize={portrait:360,landscape:640};
oSize.landscape-=73;
oSize.portrait-=73;
break;
case"optimusVu":oSize={portrait:439,landscape:585};
oSize.landscape-=73;
oSize.portrait-=73;
break
}if(this.isVertical()){if(isMinSize||(oSize.landscape&&oSize.landscape>oRet.height)){oRet.height=oSize.landscape
}}else{if(isMinSize||(oSize.portrait&&oSize.portrait>oRet.height)){oRet.height=oSize.portrait
}}return oRet
},_getAdressSize:function(){var nSize=0;
if(_htOsInfo.bInapp){return nSize
}var nVersion=parseInt(_htOsInfo.version,10);
if(_htOsInfo.iphone){nSize=60
}else{if(_htOsInfo.android){switch(_htOsInfo.name){case"galaxyTab":nSize=66;
break;
case"galaxyTab2":nSize=48;
break;
case"galaxyS":nSize=56;
break;
case"galaxyS2LTE":case"galaxyS2":if(nVersion==4){nSize=52
}else{nSize=58
}break;
case"galaxyS3":nSize=48;
break;
case"galaxyNote":case"galaxyNote2":if(nVersion==4){nSize=52
}else{nSize=78
}break;
case"galaxyNexus":nSize=52;
break;
case"optimusVu":case"optimusLte":case"optimusLte2":nSize=48;
break
}}}return nSize
},hasOffsetBug:function(){return _htOsInfo.android&&!_htBrowserInfo.chrome&&_htOsInfo.version<"4"
},hasClickBug:function(){if(_htAddPatch.hasClickBug&&typeof _htAddPatch.hasClickBug=="function"){switch(_htAddPatch.hasClickBug()){case -1:return false;
case 1:return true
}}return(_htOsInfo.iphone||_htOsInfo.ipad||(window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0)||false)
}};
__M__._isUseFixed=__M__.useFixed;
__M__._isUseTimingFunction=__M__.useTimingFunction;
__M__._isUseCss3d=__M__.useCss3d;
__M__.getCssOffset=__M__.getTranslateOffset;
__M__.$init();
return __M__
})();
function fMakeJEagleEyeClientMessage(b){var a=b.stack?b.stack:(b.name+":"+b.message);
return"JMC-"+a
}jindo.m.Effect=function(f){if(this instanceof arguments.callee){throw new Error("You can't create a instance of this")
}var c=/^(\-?[0-9\.]+)(%|\w+)?$/,d=/^rgb\(([0-9]+)\s?,\s?([0-9]+)\s?,\s?([0-9]+)\)$/i,g=/^#([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,b=/^#([0-9A-F])([0-9A-F])([0-9A-F])$/i;
var a=function(j){var k=j,h;
if(c.test(j)){k=parseFloat(j);
h=RegExp.$2||""
}else{if(d.test(j)){k=[parseInt(RegExp.$1,10),parseInt(RegExp.$2,10),parseInt(RegExp.$3,10)];
h="color"
}else{if(g.test(j=j.replace(b,"#$1$1$2$2$3$3"))){k=[parseInt(RegExp.$1,16),parseInt(RegExp.$2,16),parseInt(RegExp.$3,16)];
h="color"
}else{throw new Error("unit error")
}}}return{nValue:k,sUnit:h}
};
return function(k,m){var h;
if(arguments.length>1){k=a(k);
m=a(m);
h=m.sUnit
}else{m=a(k);
k=null;
h=m.sUnit
}if(k&&k.nValue===0&&!k.sUnit){h=k.sUnit=m.sUnit
}else{if(k&&m.nValue===0&&!m.sUnit){h=m.sUnit=k.sUnit
}}if(k&&m&&k.sUnit!=m.sUnit){throw new Error("unit error")
}k=k&&k.nValue;
m=m&&m.nValue;
var j=function(s){var o=f(s),t=function(p,r){return(r-p)*o+p+h
};
if(h=="color"){var q=Math.max(0,Math.min(255,parseInt(t(k[0],m[0]),10)))<<16;
q|=Math.max(0,Math.min(255,parseInt(t(k[1],m[1]),10)))<<8;
q|=Math.max(0,Math.min(255,parseInt(t(k[2],m[2]),10)));
q=q.toString(16).toUpperCase();
for(var n=0;
6-q.length;
n++){q="0"+q
}return"#"+q
}return t(k,m)
};
if(k===null){j.setStart=function(n){n=a(n);
if(n.nValue!==0&&n.sUnit!=h){throw new Error("unit error")
}k=n.nValue
}
}return j
}
};
jindo.m.Effect.linear=jindo.m.Effect(function(a){return a
});
jindo.m.Effect.easeInSine=jindo.m.Effect(function(a){return(a==1)?1:-Math.cos(a*(Math.PI/2))+1
});
jindo.m.Effect.easeOutSine=jindo.m.Effect(function(a){return Math.sin(a*(Math.PI/2))
});
jindo.m.Effect.easeInOutSine=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInSine(0,1)(2*a)*0.5:jindo.m.Effect.easeOutSine(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeOutInSine=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeOutSine(0,1)(2*a)*0.5:jindo.m.Effect.easeInSine(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInQuad=jindo.m.Effect(function(a){return a*a
});
jindo.m.Effect.easeOutQuad=jindo.m.Effect(function(a){return -(a*(a-2))
});
jindo.m.Effect.easeInOutQuad=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInQuad(0,1)(2*a)*0.5:jindo.m.Effect.easeOutQuad(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeOutInQuad=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeOutQuad(0,1)(2*a)*0.5:jindo.m.Effect.easeInQuad(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInCubic=jindo.m.Effect(function(a){return Math.pow(a,3)
});
jindo.m.Effect.easeOutCubic=jindo.m.Effect(function(a){return Math.pow((a-1),3)+1
});
jindo.m.Effect.easeInOutCubic=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeIn(0,1)(2*a)*0.5:jindo.m.Effect.easeOut(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeOutInCubic=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeOut(0,1)(2*a)*0.5:jindo.m.Effect.easeIn(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInQuart=jindo.m.Effect(function(a){return Math.pow(a,4)
});
jindo.m.Effect.easeOutQuart=jindo.m.Effect(function(a){return -(Math.pow(a-1,4)-1)
});
jindo.m.Effect.easeInOutQuart=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInQuart(0,1)(2*a)*0.5:jindo.m.Effect.easeOutQuart(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeOutInQuart=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeOutQuart(0,1)(2*a)*0.5:jindo.m.Effect.easeInQuart(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInQuint=jindo.m.Effect(function(a){return Math.pow(a,5)
});
jindo.m.Effect.easeOutQuint=jindo.m.Effect(function(a){return Math.pow(a-1,5)+1
});
jindo.m.Effect.easeInOutQuint=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInQuint(0,1)(2*a)*0.5:jindo.m.Effect.easeOutQuint(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeOutInQuint=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeOutQuint(0,1)(2*a)*0.5:jindo.m.Effect.easeInQuint(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInCircle=jindo.m.Effect(function(a){return -(Math.sqrt(1-(a*a))-1)
});
jindo.m.Effect.easeOutCircle=jindo.m.Effect(function(a){return Math.sqrt(1-(a-1)*(a-1))
});
jindo.m.Effect.easeInOutCircle=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInCircle(0,1)(2*a)*0.5:jindo.m.Effect.easeOutCircle(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeOutInCircle=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeOutCircle(0,1)(2*a)*0.5:jindo.m.Effect.easeInCircle(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInBack=jindo.m.Effect(function(a){var b=1.70158;
return(a==1)?1:(a/1)*(a/1)*((1+b)*a-b)
});
jindo.m.Effect.easeOutBack=jindo.m.Effect(function(a){var b=1.70158;
return(a===0)?0:(a=a/1-1)*a*((b+1)*a+b)+1
});
jindo.m.Effect.easeInOutBack=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInBack(0,1)(2*a)*0.5:jindo.m.Effect.easeOutBack(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInElastic=jindo.m.Effect(function(c){var d=0,b=0,f;
if(c===0){return 0
}if((c/=1)==1){return 1
}if(!d){d=0.3
}if(!b||b<1){b=1;
f=d/4
}else{f=d/(2*Math.PI)*Math.asin(1/b)
}return -(b*Math.pow(2,10*(c-=1))*Math.sin((c-1)*(2*Math.PI)/d))
});
jindo.m.Effect.easeOutElastic=jindo.m.Effect(function(c){var d=0,b=0,f;
if(c===0){return 0
}if((c/=1)==1){return 1
}if(!d){d=0.3
}if(!b||b<1){b=1;
f=d/4
}else{f=d/(2*Math.PI)*Math.asin(1/b)
}return(b*Math.pow(2,-10*c)*Math.sin((c-f)*(2*Math.PI)/d)+1)
});
jindo.m.Effect.easeInOutElastic=jindo.m.Effect(function(c){var d=0,b=0,f;
if(c===0){return 0
}if((c=c/(1/2))==2){return 1
}if(!d){d=(0.3*1.5)
}if(!b||b<1){b=1;
f=d/4
}else{f=d/(2*Math.PI)*Math.asin(1/b)
}if(c<1){return -0.5*(b*Math.pow(2,10*(c-=1))*Math.sin((c-f)*(2*Math.PI)/d))
}return b*Math.pow(2,-10*(c-=1))*Math.sin((c-f)*(2*Math.PI)/d)*0.5+1
});
jindo.m.Effect.easeOutBounce=jindo.m.Effect(function(a){if(a<(1/2.75)){return(7.5625*a*a)
}else{if(a<(2/2.75)){return(7.5625*(a-=(1.5/2.75))*a+0.75)
}else{if(a<(2.5/2.75)){return(7.5625*(a-=(2.25/2.75))*a+0.9375)
}else{return(7.5625*(a-=(2.625/2.75))*a+0.984375)
}}}});
jindo.m.Effect.easeInBounce=jindo.m.Effect(function(a){return 1-jindo.m.Effect.easeOutBounce(0,1)(1-a)
});
jindo.m.Effect.easeInOutBounce=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInBounce(0,1)(2*a)*0.5:jindo.m.Effect.easeOutBounce(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeInExpo=jindo.m.Effect(function(a){return(a===0)?0:Math.pow(2,10*(a-1))
});
jindo.m.Effect.easeOutExpo=jindo.m.Effect(function(a){return(a==1)?1:-Math.pow(2,-10*a/1)+1
});
jindo.m.Effect.easeInOutExpo=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeInExpo(0,1)(2*a)*0.5:jindo.m.Effect.easeOutExpo(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect.easeOutInExpo=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.easeOutExpo(0,1)(2*a)*0.5:jindo.m.Effect.easeInExpo(0,1)((2*a)-1)*0.5+0.5
});
jindo.m.Effect._cubicBezier=function(b,d,a,c){return function(q){var n=3*b,p=3*(a-b)-n,f=1-n-p,m=3*d,o=3*(c-d)-m,r=1-m-o;
function k(s){return((f*s+p)*s+n)*s
}function j(s){return((r*s+o)*s+m)*s
}function g(s){return(3*f*s+2*p)*s+n
}function h(s,C){var B,A,y,t,z,w;
for(y=s,w=0;
w<8;
w++){t=k(y)-s;
if(Math.abs(t)<C){return y
}z=g(y);
if(Math.abs(z)<0.000001){break
}y=y-t/z
}B=0;
A=1;
y=s;
if(y<B){return B
}if(y>A){return A
}while(B<A){t=k(y);
if(Math.abs(t-s)<C){return y
}if(s>t){B=y
}else{A=y
}y=(A-B)*0.5+B
}return y
}return j(h(q,1/200))
}
};
jindo.m.Effect.cubicBezier=function(b,d,a,c){var g=jindo.m.Effect(jindo.m.Effect._cubicBezier(b,d,a,c));
g.cubicBezier=[b,d,a,c];
return g
};
jindo.m.Effect.cubicEase=jindo.m.Effect.cubicBezier(0.25,0.1,0.25,1);
jindo.m.Effect.cubicEaseIn=jindo.m.Effect.cubicBezier(0.42,0,1,1);
jindo.m.Effect.cubicEaseOut=jindo.m.Effect.cubicBezier(0,0,0.58,1);
jindo.m.Effect.cubicEaseInOut=jindo.m.Effect.cubicBezier(0.42,0,0.58,1);
jindo.m.Effect.cubicEaseOutIn=jindo.m.Effect.cubicBezier(0,0.42,1,0.58);
jindo.m.Effect.overphase=jindo.m.Effect(function(a){a/=0.652785;
return(Math.sqrt((2-a)*a)+(0.1*a)).toFixed(5)
});
jindo.m.Effect.sinusoidal=jindo.m.Effect(function(a){return(-Math.cos(a*Math.PI)/2)+0.5
});
jindo.m.Effect.mirror=jindo.m.Effect(function(a){return(a<0.5)?jindo.m.Effect.sinusoidal(0,1)(a*2):jindo.m.Effect.sinusoidal(0,1)(1-(a-0.5)*2)
});
jindo.m.Effect.pulse=function(a){return jindo.m.Effect(function(b){return(-Math.cos((b*(a-0.5)*2)*Math.PI)/2)+0.5
})
};
jindo.m.Effect.wave=function(b,a){return jindo.m.Effect(function(c){return(a||1)*(Math.sin(b*(c*360)*Math.PI/180)).toFixed(5)
})
};
jindo.m.Effect.easeIn=jindo.m.Effect.easeInCubic;
jindo.m.Effect.easeOut=jindo.m.Effect.easeOutCubic;
jindo.m.Effect.easeInOut=jindo.m.Effect.easeInOutCubic;
jindo.m.Effect.easeOutIn=jindo.m.Effect.easeOutInCubic;
jindo.m.Effect.bounce=jindo.m.Effect.easeOutBounce;
jindo.m.Effect.elastic=jindo.m.Effect.easeInElastic;
jindo.m.Component=jindo.$Class({_htEventHandler:null,_htOption:null,$static:{VERSION:"1.9.0.MAIN"},$init:function(){var a=this.constructor.getInstance();
a.push(this);
this._htEventHandler={};
this._htOption={};
this._htOption._htSetter={}
},option:function(f,c){switch(typeof f){case"undefined":var d={};
for(var a in this._htOption){if(!(a=="htCustomEventHandler"||a=="_htSetter")){d[a]=this._htOption[a]
}}return d;
case"string":if(typeof c!="undefined"){if(f=="htCustomEventHandler"){if(typeof this._htOption[f]=="undefined"){this.attach(c)
}else{return this
}}this._htOption[f]=c;
if(typeof this._htOption._htSetter[f]=="function"){this._htOption._htSetter[f](c)
}}else{return this._htOption[f]
}break;
case"object":for(var b in f){if(b=="htCustomEventHandler"){if(typeof this._htOption[b]=="undefined"){this.attach(f[b])
}else{continue
}}if(b!=="_htSetter"){this._htOption[b]=f[b]
}if(typeof this._htOption._htSetter[b]=="function"){this._htOption._htSetter[b](f[b])
}}break
}return this
},optionSetter:function(c,a){switch(typeof c){case"undefined":return this._htOption._htSetter;
case"string":if(typeof a!="undefined"){this._htOption._htSetter[c]=jindo.$Fn(a,this).bind()
}else{return this._htOption._htSetter[c]
}break;
case"object":for(var b in c){this._htOption._htSetter[b]=jindo.$Fn(c[b],this).bind()
}break
}return this
},fireEvent:function(b,m){m=m||{};
var d=this["on"+b],c=this._htEventHandler[b]||[],j=typeof d=="function",h=c.length>0;
if(!j&&!h){return true
}c=c.concat();
m.sType=b;
if(typeof m._aExtend=="undefined"){m._aExtend=[];
m.stop=function(){if(m._aExtend.length>0){m._aExtend[m._aExtend.length-1].bCanceled=true
}}
}m._aExtend.push({sType:b,bCanceled:false});
var g=[m],f,k;
for(f=2,k=arguments.length;
f<k;
f++){g.push(arguments[f])
}if(j){d.apply(this,g)
}if(h){var a;
for(f=0,a;
(a=c[f]);
f++){a.apply(this,g)
}}return !m._aExtend.pop().bCanceled
},attach:function(c,a){if(arguments.length==1){jindo.$H(arguments[0]).forEach(jindo.$Fn(function(d,f){this.attach(f,d)
},this).bind());
return this
}var b=this._htEventHandler[c];
if(typeof b=="undefined"){b=this._htEventHandler[c]=[]
}b.push(a);
return this
},detach:function(f,b){if(arguments.length==1){jindo.$H(arguments[0]).forEach(jindo.$Fn(function(g,h){this.detach(h,g)
},this).bind());
return this
}var d=this._htEventHandler[f];
if(d){for(var a=0,c;
(c=d[a]);
a++){if(c===b){d=d.splice(a,1);
break
}}}return this
},detachAll:function(c){var b=this._htEventHandler;
if(arguments.length){if(typeof b[c]=="undefined"){return this
}delete b[c];
return this
}for(var a in b){delete b[a]
}return this
}});
jindo.m.Component.factory=function(b,g){var c=[],a;
if(typeof g=="undefined"){g={}
}for(var d=0,f;
(f=b[d]);
d++){a=new this(f,g);
c[c.length]=a
}return c
};
jindo.m.Component.getInstance=function(){if(typeof this._aInstance=="undefined"){this._aInstance=[]
}return this._aInstance
};
jindo.m.Morph=jindo.$Class({$init:function(b){this.option({fEffect:jindo.m.Effect.linear,bUseTransition:true}).option(b);
var a=document.body.style;
this._bTransitionSupport=("transition" in a||"webkitTransition" in a||"MozTransition" in a||"OTransition" in a||"msTransition" in a);
this._aQueue=[];
this._aIngItem=null;
this._oTimer=null;
this._bPlaying=null;
this._bReservePause=false;
this._nPtr=0;
this._nPausePassed=0;
this._aRepeat=[];
this._sTransitionEnd=(("webkitTransition" in a&&"webkitTransitionEnd")||("transition" in a&&"transitionend")||("MozTransition" in a&&"transitionend")||("OTransition" in a&&"oTransitionEnd")||("msTransition" in a&&"MSTransitionEnd"))
},pushAnimate:function(b,a){if(a&&!(a instanceof Array)){throw Error("aLists should be a instance of Array")
}a=[].concat(a);
a.duration=b;
this._aQueue.push(a);
return this
},pushWait:function(f){var a;
for(var b=0,d=arguments.length;
b<d;
b++){var c=arguments[b];
if(c instanceof this.constructor){this._aQueue.push(c)
}else{this.pushAnimate(c,[])
}}return this
},pushCall:function(a){this._aQueue.push(a);
return this
},pushRepeatStart:function(b){if(typeof b==="undefined"){b=1
}var a="L"+Math.round(new Date().getTime()*Math.random());
this._aRepeat.push(a);
this._pushLabel(a,b);
return this
},_pushLabel:function(b,a){if(typeof a==="undefined"){a=Infinity
}this._aQueue.push({action:"label",args:{label:b,times:a}});
return this
},pushRepeatEnd:function(){var a=this;
var b=this._aRepeat.pop();
var c=function(){var d=a._getLabelIndex(b);
if(d===-1){throw"Repeat calls don't matched."
}var f=this._aQueue[d];
f.args.count=f.args.count||0;
if(++f.args.count<f.args.times){a._goto(d+1)
}};
c.__repeat_end=b;
this.pushCall(c);
return this
},_waitMorph:function(b){var a=this;
if(!b.isPlaying()){return true
}var c=function(){b.detach("end",c).detach("pause",c);
a._flushQueue()
};
b.attach("end",c).attach("pause",c);
return false
},_getLabelIndex:function(c){var a=null;
for(var b=0,d=this._aQueue.length;
b<d;
b++){a=this._aQueue[b];
if(a.action==="label"&&a.args.label===c){return b
}}return -1
},_getRepeatEndIndex:function(c,f){var a=null;
for(var b=f||0,d=this._aQueue.length;
b<d;
b++){a=this._aQueue[b];
if(a instanceof Function&&a.__repeat_end===c){return b
}}return -1
},_flushQueue:function(){var j,f;
var d=this;
do{j=false;
f=this._aIngItem=this._aQueue[this._nPtr];
if(this._bReservePause||!f){this._bPlaying=false;
this._bReservePause=false;
if(!f){this.fireEvent("end")
}return
}this._nPtr++;
if(f instanceof Function){f.call(this);
j=true;
continue
}else{if(f instanceof this.constructor){j=this._waitMorph(f);
continue
}else{if(typeof f==="number"){setTimeout(function(){d._flushQueue()
},f);
continue
}else{if(f.action==="label"){delete f.args.count;
if(f.args.times<1){var b=this._getRepeatEndIndex(f.args.label,this._nPtr);
if(b>-1){this._goto(b+1)
}}j=true;
continue
}else{if(f.action==="goto"){this._goto(f.args.label);
j=true;
continue
}}}}}var a=this._aCompiledItem;
var c=this._nPausePassed;
if(!c){a=this._aCompiledItem=this._compileItem(f)
}else{for(var g=0,h=a.length;
g<h;
g++){a[g].oEffectCSS={}
}}j=a.duration<0;
if(j){this._processItem(1,true);
continue
}this._playItem(c);
this._nPausePassed=0
}while(j)
},_playItem:function(a){var b=this;
this._nStart=new Date().getTime()-a;
this._nIng=2;
if(!a){this._processItem(0,true,2)
}this._animationLoop(true);
setTimeout(function(){var d=this._aCompiledItem;
var g=b._processItem(1,true,1);
if(!g){if(--b._nIng===0){b._flushQueue()
}return
}var f=g[0];
var c=f.$value();
var h=function(){var j;
while(j=g.pop()){j.css(b._getCSSKey("transitionProperty"),"none");
j.css(b._getCSSKey("transitionDuration"),"0s")
}c.removeEventListener(b._sTransitionEnd,b._fpOnTransitionEnd,true);
g=null;
b._fpOnTransitionEnd=null;
if(--b._nIng===0){b._flushQueue()
}};
b._fpOnTransitionEnd=h;
c.addEventListener(b._sTransitionEnd,b._fpOnTransitionEnd,true)
},0)
},_animationLoop:function(b){var a=this;
this._oTimer=this._requestAnimationFrame(function(){var c=a._nStart;
var f=a._aCompiledItem.duration;
if(a._oTimer===null){return
}a._oTimer=null;
var d=Math.min(1,Math.max(0,(new Date().getTime()-c)/f));
a._processItem(d,b,2);
if(d<1){a._animationLoop()
}else{if(--a._nIng===0){a._flushQueue()
}}})
},_processItem:function(d,p,k){var m=this._aCompiledItem;
var r=m.duration;
var o,y,b,h;
var j,n;
var c=true;
var g=null;
var t;
k=k||(1|2);
if(!this.fireEvent("beforeProgress",{nRate:d})){return
}var a=[],f;
for(var w=0,s;
s=m[w];
w++){o=s.oObj;
y=s.welObj;
b=s.oProps;
h=s.oEffectCSS;
c=true;
f={};
a.push(o);
a.push(f);
y&&y.$value().clientHeight;
for(var q in b){if(b.hasOwnProperty(q)){j=b[q];
n=h[q]?1:2;
if(!(k&n)){continue
}if(k&1&&n&1&&c){g=g||[];
g.push(y);
if(!("@transition" in b)){if(!("@transitionProperty" in b)){y.css(this._getCSSKey("transitionProperty"),"all")
}if(!("@transitionDuration" in b)){y.css(this._getCSSKey("transitionDuration"),(r/1000).toFixed(3)+"s")
}if(!("@transitionTimingFunction" in b)){y.css(this._getCSSKey("transitionTimingFunction"),h[q])
}}c=false
}if(typeof j==="function"){j=j(d)
}else{if(!p){continue
}}if(/^@(.*)$/.test(q)){t=RegExp.$1;
if(/transition/.test(q)){j=this._getCSSVal(j)
}y.css(this._getCSSKey(t),j)
}else{o[q]=j
}f[q]=j
}}}this.fireEvent("progress",{aLists:a,nRate:d});
return g
},_compileItem:function(p){var b=[];
b.duration=p.duration;
var g,t,h;
var n,s;
var f,m;
var o=false,d,a;
var j=this.option("fEffect");
for(var c=0,r=p.length;
c<r;
c+=2){g=p[c];
t=jindo.$Element(g);
h=p[c+1];
f={},m={};
for(var q in h){if(h.hasOwnProperty(q)){s=h[q];
d=/^@(.*)$/.test(q);
a=RegExp.$1;
if(s instanceof Array){n=s[0];
s=s[1]
}else{if(d){n=t.css(this._getCSSKey(a))
}else{n=g[q]
}}if(!d){m[q]=null
}if(/^@transform$/.test(q)){f[q]=this._getTransformFunction(n,s,j)
}else{try{if(typeof s==="function"){if("setStart" in s){s.setStart(n||"")
}f[q]=s;
if(d){o=true
}}else{f[q]=j(n||"",s)
}}catch(k){if(!/^unit error/.test(k.message)){throw k
}f[q]=s;
m[q]=null
}}if(!(q in m)){m[q]=this._getEffectCSS(j)
}}}if(o){m={}
}b.push({oObj:g,welObj:t,oProps:f,oEffectCSS:m})
}return b
},play:function(){if(!this._bPlaying){this._bPlaying=true;
this.fireEvent("play");
this._flushQueue()
}return this
},reset:function(){return this._goto(0)
},pause:function(b){if(!this._bPlaying){return this
}this._cancelAnimationFrame(this._oTimer);
this._oTimer=null;
if(this._fpOnTransitionEnd){this._fpOnTransitionEnd.bind()()
}if(typeof b==="undefined"){var c=this._nStart;
var f=this._aCompiledItem.duration;
var a=new Date().getTime()-c;
var d=Math.min(1,Math.max(0,a/f));
this._processItem(d,true);
this._nPtr--;
this._nPausePassed=a
}else{this._processItem(Math.max(0,Math.min(1,b)))
}this._bPlaying=false;
this._bReservePause=false;
this.fireEvent("pause");
return this
},_goto:function(a){var b=a;
if(typeof a==="number"){a=a||0
}else{a=this._getLabelIndex(b);
if(a===-1){throw"Label not found"
}a++
}this._nPtr=a;
this._nPausePassed=0;
return this
},isPlaying:function(){return this._bPlaying||false
},clear:function(){this._aQueue.length=0;
this._aRepeat.length=0;
this._nPtr=0;
return this
},_getPointer:function(){return this._nPtr
},_oProperPrefix:{},_getProperPrefix:function(j){var b=this._oProperPrefix;
if(j in b){return b[j]
}var c=document.body.style;
var f=["webkit","","Moz","O","ms"];
var a,h;
for(var d=0,g=f.length;
d<g;
d++){a=f[d];
h=a+(a?j.replace(/^[a-z]/,function(k){return k.toUpperCase()
}):j);
if(h in c){return(b[j]=a)
}}return(b[j]="")
},_getCSSKey:function(d){var c=this;
var b="";
var a=d.replace(/^(\-(webkit|o|moz|ms)\-)?([a-z]+)/,function(h,g,f,j){b=f||c._getProperPrefix(j);
if(b){j=j.replace(/^[a-z]/,function(k){return k.toUpperCase()
})
}return j
}).replace(/\-(\w)/g,function(f,g){return g.toUpperCase()
});
return(({o:"O",moz:"Moz",webkit:"Webkit"})[b]||b)+a
},_getCSSVal:function(c){var b=this;
var a=c.replace(/(^|\s)(\-(webkit|moz|o|ms)\-)?([a-z]+)/g,function(h,g,f,d,j){d=d||b._getProperPrefix(j);
return g+(d&&"-"+d+"-")+j
});
return a
},_parseTransformText:function(a){a=a||"";
var b={};
a.replace(/([\w\-]+)\(([^\)]*)\)/g,function(f,g,d){var c=d.split(/\s*,\s*/);
switch(g){case"translate3d":case"scale3d":case"skew3d":g=g.replace(/3d$/,"");
b[g+"Z"]=c[2];
case"translate":case"scale":case"skew":b[g+"X"]=c[0];
if(typeof c[1]==="undefined"){if(g==="scale"){b[g+"Y"]=c[0]
}}else{b[g+"Y"]=c[1]
}break;
default:b[g]=c.join(",");
break
}});
return b
},_getTransformFunction:function(f,j,d){var k=this;
var h;
var b=this._parseTransformText(f);
var c=this._parseTransformText(j);
var g={};
for(h in b){if(b.hasOwnProperty(h)){g[h]=d(b[h],c[h]||(/^scale/.test(h)?1:0))
}}for(h in c){if(c.hasOwnProperty(h)&&!(h in b)){g[h]=d(b[h]||(/^scale/.test(h)?1:0),c[h])
}}var a=function(m){var n=[];
for(var o in g){if(g.hasOwnProperty(o)){n.push(o+"("+g[o](m)+")")
}}return n.join(" ")
};
return a
},_getEffectCSS:function(a){var b=this.option("bUseTransition")&&this._bTransitionSupport;
if(!b){return null
}if((this._htEventHandler.progress&&this._htEventHandler.progress.length)||(this._htEventHandler.beforeProgress&&this._htEventHandler.beforeProgress.length)){return null
}switch(a){case jindo.m.Effect.linear:return"linear";
break;
case jindo.m.Effect.cubicEase:return"ease";
break;
case jindo.m.Effect.cubicEaseIn:return"ease-in";
break;
case jindo.m.Effect.cubicEaseOut:return"ease-out";
break;
case jindo.m.Effect.cubicEaseInOut:return"ease-in-out";
break;
default:if(a.cubicBezier&&Math.max.apply(Math,a.cubicBezier)<=1&&Math.min.apply(Math,a.cubicBezier)>=0){return"cubic-bezier("+a.cubicBezier.join(",")+")"
}break
}return null
},_requestAnimationFrame:function(d){var b;
var a=this;
var c=function(){if(b===a._oLastRAF){a._oLastRAF=null;
d()
}};
if(window.requestAnimationFrame){b=requestAnimationFrame(c)
}else{b=setTimeout(c,1000/60)
}return(this._oLastRAF=b)
},_cancelAnimationFrame:function(b){var a;
if(window.cancelAnimationFrame){a=cancelAnimationFrame(b)
}else{a=clearTimeout(b)
}this._oLastRAF=null;
return a
}}).extend(jindo.m.Component);
jindo.m.Transition=jindo.$Class({_aTaskQueue:null,$init:function(b){this.option({sTransitionTimingFunction:"ease-in-out",bUseTimingFunction:jindo.m._isUseTimingFunction()});
this.option(b||{});
var a=this;
this._oMorph=new jindo.m.Morph({bUseTransition:this._htOption.bUseTimingFunction,fEffect:this._getEffect(this.option("sTransitionTimingFunction"))}).attach({end:function(){a._onTransitionEnd()
}});
this._aTaskQueue=[];
this._bIsPlaying=false;
this._initVar()
},_initVar:function(){this._aTaskQueue=[];
this._bIsPlaying=false;
this._sCssPrefix=jindo.m.getCssPrefix();
this._aBeforeStatus=[];
if(this._sCssPrefix.length>0){this._sCssPrefix="-"+this._sCssPrefix.toLowerCase()+"-"
}this._htCurrentTask=null
},_getEffect:function(b){var a=jindo.m.Effect.cubicEaseInOut;
switch(b){case"linear":a=jindo.m.Effect.linear;
break;
case"ease":a=jindo.m.Effect.cubicEase;
break;
case"ease-in":a=jindo.m.Effect.cubicEaseIn;
break;
case"ease-out":a=jindo.m.Effect.cubicEaseOut;
break;
case"ease-in-out":a=jindo.m.Effect.cubicEaseInOut;
break
}return a
},start:function(){if(!this._oMorph.isPlaying()&&!this.isPlaying()&&this.isExistTask()){this._prepareTask()
}},isPlaying:function(){return this._bIsPlaying
},isExistTask:function(){if(!this._aTaskQueue){return false
}var b=this._aTaskQueue.length;
var a=(b>0)?true:false;
return a
},queue:function(c,f,a){var d={sType:"style",sTaskName:"",elTarget:c,nDuration:f};
d.htDefault={};
d.htStyle=a.htStyle||{};
d.htTransform=a.htTransform||{};
d.sTaskName=a.sTaskName||null;
d.fCallback=a.fCallback;
var b={};
b=this._getTranslateStyle(a.htStyle||{},b);
b=this._getTranslateStyle(a.htTransform||{},b);
this._pushTask(f,c,b,d);
return this
},_getTranslateStyle:function(c,d){var b=d||{};
for(var a in c){b["@"+a]=c[a]
}return b
},stop:function(a){if(!this.isPlaying()){return
}if(typeof a==="undefined"){a=true
}if(!this._fireCustomEvent("stop",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})){return
}this._stopTransition(a)
},clear:function(a){this.stop(a);
this._aTaskQueue=[]
},_resume:function(){if(this._htCurrentTask){this._doTask()
}},_stopTransition:function(c){var b=0;
if(!c){var a=this._getBeforeStatusElement(this._elCurrent);
if(a>-1){jindo.$Element(this._elCurrent).attr("style",this._aBeforeStatus[a].style)
}}else{b=1
}this._htCurrentTask=null;
this._bIsPlaying=false;
this._oMorph.pause(b)
},_prepareTask:function(){var a=this._popTask();
if(a===null||!a){this._oMorph.clear();
this._bIsPlaying=false;
return
}this._htCurrentTask=a;
this._resume()
},_pushTask:function(d,b,a,c){this._aTaskQueue.push({nDuration:d,elTarget:b,htTask:a,sTaskName:c.sTaskName,fCallback:c.fCallback})
},_popTask:function(){if(!this.isExistTask()){return null
}var a=this._aTaskQueue.shift();
if(a){return a
}else{return null
}},_doTask:function(){if(this._htCurrentTask){this._bIsPlaying=true;
if(!this._fireCustomEvent("start",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration})){return
}this._oMorph.pushAnimate(this._htCurrentTask.nDuration,[this._htCurrentTask.elTarget,this._htCurrentTask.htTask]);
this._oMorph.play();
var b=this._htCurrentTask.elTarget;
var a=jindo.$Element(b);
this._elCurrent=b;
this._setBeforeStatus(a)
}},_setBeforeStatus:function(b){var a=this._getBeforeStatusElement(b.$value());
if(a>-1){this._aBeforeStatus[a].style=b.attr("style")
}else{this._aBeforeStatus.push({el:b.$value(),style:b.attr("style")})
}},_getBeforeStatusElement:function(c){var a=-1;
for(var b=0,d=this._aBeforeStatus.length;
b<d;
b++){if(this._aBeforeStatus[b].el===c){a=b;
break
}}return a
},_fireCustomEvent:function(b,a){return this.fireEvent(b,a)
},_onTransitionEnd:function(){var c=this;
if(this._htCurrentTask){var f=typeof this._htCurrentTask.fCallback;
if(f=="function"){c._htCurrentTask.fCallback()
}else{if(f=="object"){var b=jindo.$Element(this._htCurrentTask.elTarget),g;
for(g in this._htCurrentTask.fCallback.htTransform){var h=this._htCurrentTask.fCallback.htTransform[g];
if(g=="transform"){var a=this._sCssPrefix+g;
var d=b.$value().style[a];
if(d.length>0){h=h
}}b.$value().style[this._sCssPrefix+g]=h
}for(g in this._htCurrentTask.fCallback.htStyle){b.css(g,this._htCurrentTask.fCallback.htStyle[g])
}}}this._fireCustomEvent("end",{element:this._htCurrentTask.elTarget,sTaskName:this._htCurrentTask.sTaskName,nDuration:this._htCurrentTask.nDuration});
setTimeout(function(){c._prepareTask()
},10)
}},destroy:function(){for(var a in this._htWElement){this._htWElement[a]=null
}this._htWElement=null;
this._aTaskQueue=null;
this._bIsPlaying=null;
this._sCssPrefix=null;
this._aBeforeStatus=null;
this._htCurrentTask=null
}}).extend(jindo.m.Component);
jindo.m.UIComponent=jindo.$Class({$init:function(){this._bIsActivating=false
},isActivating:function(){return this._bIsActivating
},activate:function(){if(this.isActivating()){return this
}this._bIsActivating=true;
if(arguments.length>0){this._onActivate.apply(this,arguments)
}else{this._onActivate()
}return this
},deactivate:function(){if(!this.isActivating()){return this
}this._bIsActivating=false;
if(arguments.length>0){this._onDeactivate.apply(this,arguments)
}else{this._onDeactivate()
}return this
}}).extend(jindo.m.Component);
jindo.m.LayerEffect=jindo.$Class({$init:function(b,a){this.option({nDuration:250,bActivateOnload:true});
this.option(a||{});
this._initVar();
this.setLayer(b);
this._initTransition();
if(this.option("bActivateOnload")){this.activate()
}},_htEffect:{expand:"jindo.m.ExpandEffect",contract:"jindo.m.ContractEffect",fade:"jindo.m.FadeEffect",pop:"jindo.m.PopEffect",slide:"jindo.m.SlideEffect",flip:"jindo.m.FlipEffect"},_initVar:function(){this._htEffectInstance={};
this._htLayerInfo={};
this._htWElement={};
this.bAndroid=jindo.m.getDeviceInfo().android;
this.sClassHighligting="_effct_hide_highlighting_tmp"
},_initTransition:function(){this._oTransition=new jindo.m.Transition()
},_createEffect:function(sType){if(this._htEffect[sType]&&!this._htEffectInstance[sType]){try{this._htEffectInstance[sType]=eval("new "+this._htEffect[sType]+"()")
}catch(e){}this._htEffectInstance[sType].setLayerInfo(this._htLayerInfo)
}},expand:function(a){var b="expand";
this._run(b,a)
},contract:function(a){var b="contract";
this._run(b,a)
},fade:function(a){var b="fade";
this._run(b,a)
},pop:function(a){var b="pop";
this._run(b,a)
},slide:function(a){var b="slide";
this._run(b,a)
},flip:function(a){var b="flip";
this._run(b,a)
},isPlaying:function(){return this._oTransition.isPlaying()
},_fireCustomEvent:function(b,a){return this.fireEvent(b,a)
},_run:function(h,c){if(!this._isAvailableEffect()){return
}this._createEffect(h);
if(typeof c==="undefined"){c={}
}var f=this._htEffectInstance[h];
var b=this.getLayer();
var g=(typeof c.nDuration==="undefined")?this.option("nDuration"):parseInt(c.nDuration,10);
var d=f.getBeforeCommand(b,c);
var a=f.getCommand(b,c);
if(!this._fireCustomEvent("beforeEffect",{elLayer:b,sEffect:a.sTaskName,nDuration:g})){return
}if(d){this._oTransition.queue(this.getLayer(),0,d)
}this._oTransition.queue(this.getLayer(),g,a);
this._oTransition.start()
},setLayer:function(b){this._htWElement.el=jindo.$(b);
this._htWElement.wel=jindo.$Element(this._htWElement.el);
var a;
if(!!this.bAndroid){a=jindo.$$.getSingle("."+this.sClassHighligting,this._htWElement.el);
if(!a){var c='<a href="javascript:void(0)" style="position:absolute" class="'+this.sClassHighligting+'"></a>';
a=jindo.$(c);
this._htWElement.wel.append(a);
a.style.opacity="0";
a.style.width=0;
a.style.height=0;
a.style.left="-1000px";
a.style.top="-1000px"
}}this.setSize()
},stop:function(a){if(typeof a==="undefined"){a=true
}if(this._oTransition){this._oTransition.stop(a)
}},clearEffect:function(a){if(this._oTransition){this._oTransition.clear(a)
}},getLayer:function(){return this._htWElement.el
},setSize:function(){var c=this._htWElement.el.cloneNode(true);
var a=jindo.$Element(c);
a.opacity(0);
this._htWElement.wel.after(a);
a.show();
this._htLayerInfo.nWidth=this._htWElement.wel.width();
this._htLayerInfo.nHeight=this._htWElement.wel.height();
a.css({position:"absolute",top:"0px",left:"0px"});
this._htLayerInfo.nMarginLeft=parseInt(a.css("marginLeft"),10);
this._htLayerInfo.nMarginTop=parseInt(a.css("marginTop"),10);
this._htLayerInfo.nMarginLeft=isNaN(this._htLayerInfo.nMarginLeft)?0:this._htLayerInfo.nMarginLeft;
this._htLayerInfo.nMarginTop=isNaN(this._htLayerInfo.nMarginTop)?0:this._htLayerInfo.nMarginTop;
this._htLayerInfo.nOpacity=this._htWElement.wel.opacity();
this._htLayerInfo.sPosition=this._htWElement.wel.css("position");
var b=this._htWElement.wel.css("display");
b=((b==="none")||(b.length===0))?"block":b;
this._htLayerInfo.sDisplay=b;
this._htLayerInfo.sClassHighligting=this.sClassHighligting;
a.leave();
this._setEffectLayerInfo()
},_setEffectLayerInfo:function(){for(var a in this._htEffectInstance){this._htEffectInstance[a].setLayerInfo(this._htLayerInfo)
}},_onTransitionEnd:function(a){if(a.sTaskName){this._fireCustomEvent("afterEffect",{elLayer:a.element,sEffect:a.sTaskName,nDuration:a.nDuration})
}},_onTransitionStop:function(a){if(a.sTaskName){this._fireCustomEvent("stop",{elLayer:a.element,sEffect:a.sTaskName,nDuration:a.nDuration})
}},_isAvailableEffect:function(){return this.isActivating()
},_onActivate:function(){this._attachEvent()
},_onDeactivate:function(){this._detachEvent()
},_attachEvent:function(){this._htEvent={};
this._htEvent.end=jindo.$Fn(this._onTransitionEnd,this).bind();
this._htEvent.stop=jindo.$Fn(this._onTransitionStop,this).bind();
if(this._oTransition){this._oTransition.attach({end:this._htEvent.end,stop:this._htEvent.stop})
}},_detachEvent:function(){this._htEvent=null;
if(this._oTransition){this._oTransition.detachAll()
}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null
}this._htWElement=null
}}).extend(jindo.m.UIComponent);
jindo.m._Effect_=jindo.$Class({$init:function(){this._sCssPrefix=jindo.m.getCssPrefix();
var a=jindo.m.getDeviceInfo();
this.bIos=(a.iphone||a.ipad);
this.bIos3=a.iphone&&(a.version.length>0)&&(a.version.substring(0,1)=="3");
this.bAndroid=a.android;
this.bAndroid3Up=a.android&&(a.version.length>0)&&(a.version.substring(0,1)>="3");
this.bAndroid2_1=a.android&&(a.version.length>0)&&(a.version==="2.1");
this.sTranOpen=(this.bIos)?"translate3d(":"translate(";
this.sTranEnd=(this.bIos)?",0px)":")";
this._initVar()
},_initVar:function(){this._htLayerInfo={}
},setLayerInfo:function(a){this._htLayerInfo={};
for(var b in a){this._htLayerInfo[b]=a[b]
}},getTransitionTask:function(){return null
},getBeforeCommand:function(){return null
},getCommand:function(){return null
}});
jindo.m.FadeEffect=jindo.$Class({sEffectName:"fade",getCommand:function(d,g){var a=g.sDirection?g.sDirection:"in";
var c=g.htTo||{};
var b=(a=="in")?1:0;
c.opacity=(typeof c.opacity!=="undefined")?c.opacity:b;
var f={};
if(a=="out"){f.htStyle={};
f.htStyle.display="none";
f.htStyle.opacity=this._htLayerInfo.nOpacity
}return{sTaskName:this.sEffectName+"-"+a,htStyle:c,htTransform:{},fCallback:f}
},getBeforeCommand:function(c,d){var a=d.sDirection?d.sDirection:"in";
var f=d.htFrom||{};
var b=(a=="in")?0:1;
f.display=this._htLayerInfo.sDisplay;
f.opacity=(typeof f.opacity=="undefined")?b:f.opacity;
return{htStyle:f,htTransform:{}}
}}).extend(jindo.m._Effect_);
jindo.m.SlideEffect=jindo.$Class({sEffectName:"slide",getCommand:function(g,q){var c=q.sDirection?q.sDirection:"left";
var p=jindo.m.getCssOffset(g);
var n=p.left;
var m=p.top;
var r,j,a;
r=(typeof q.nSize!="undefined")?q.nSize:this._htLayerInfo.nWidth;
j=(typeof q.nSize!="undefined")?q.nSize:this._htLayerInfo.nHeight;
if(c=="up"||c=="down"){m+=((c=="up")?j*-1:j)
}if(c=="left"||c=="right"){n+=((c=="left")?r*-1:r)
}var k={};
if(typeof q.elBaseLayer!="undefined"){n=0;
m=0;
var s=jindo.$Element(q.elBaseLayer);
a=jindo.$Element(g);
j=(typeof q.nSize!="undefined")?q.nSize:s.height();
r=(typeof q.nSize!="undefined")?q.nSize:s.width();
if(c=="up"||c=="down"){m=(c=="down")?j*-1:j
}if(c=="left"||c=="right"){n=(c=="left")?r:r*-1
}n=n*-1;
m=m*-1
}k.transform=this.sTranOpen+n+"px, "+m+"px"+this.sTranEnd;
var o=this._htLayerInfo.sPosition;
var f=this.bAndroid;
var b=this.bAndroid3Up;
var h=this._htLayerInfo.sClassHighligting;
var d=this.bAndroid2_1;
a=jindo.$Element(g);
return{sTaskName:this.sEffectName+"-"+c,htStyle:q.htTo||{},htTransform:k,fCallback:function(){var A=jindo.m.getCssOffset(g);
var z=a.css("top").replace("px","")*1;
var y=a.css("left").replace("px","")*1;
z=isNaN(z)?0:z;
y=isNaN(y)?0:y;
if(o=="relative"){a.css("position","relative")
}else{a.css("position","absolute")
}var w=jindo.m.getCssPrefix();
a.css(w+"Transform","");
if(b){a.offset()
}a.$value().style.top=parseInt((z+A.top),10)+"px";
a.$value().style.left=parseInt((A.left+y),10)+"px";
if(f&&!b){var t=jindo.$$.getSingle("."+h,a.$value());
if(t){if(d){setTimeout(function(){t.focus()
},5)
}else{t.focus()
}}}}}
},getBeforeCommand:function(c,k){var b=k.sDirection?k.sDirection:"left";
var n=k.htFrom||{};
var g={};
var a=jindo.$Element(c);
if(typeof k.elBaseLayer!="undefined"){var o=jindo.$Element(k.elBaseLayer);
if(!o.isParentOf(a)){o.append(a);
var j=a.css("position");
if(!(j=="relative"||j=="absolute")){a.css("position","absolute")
}a.css("opacity",0)
}var h=0,f=0;
var d=o.height();
var m=o.width();
if(b=="up"||b=="down"){f=(b=="down")?d*-1:d
}if(b=="left"||b=="right"){h=(b=="left")?m:m*-1
}o.css("overflow","hidden");
n.left=h+"px";
n.top=f+"px";
n.opacity=this._htLayerInfo.nOpacity
}return{htStyle:n,htTransform:g}
}}).extend(jindo.m._Effect_);
jindo.m.Touch=jindo.$Class({$init:function(b,a){this._el=jindo.$(b);
var c={nMomentumDuration:350,nMoveThreshold:7,nSlopeThreshold:25,nLongTapDuration:1000,nDoubleTapDuration:400,nTapThreshold:6,nPinchThreshold:0.1,nRotateThreshold:5,nEndEventThreshold:0,bActivateOnload:true,bVertical:true,bHorizental:false};
this.option(c);
this.option(a||{});
this._initVariable();
this._setSlope();
if(this.option("bActivateOnload")){this.activate()
}},_initVariable:function(){this._hasTouchEvent=false;
this._htEventName=jindo.m._getTouchEventName();
if(this._htEventName.start.indexOf("touch")>-1){this._hasTouchEvent=true
}else{if(this._htEventName.start.indexOf("MSPointer")>-1&&typeof this._el.style.msTouchAction!="undefined"){var a="none";
if(this.option("bHorizental")&&!this.option("bVertical")){a="pan-y"
}if(this.option("bVertical")&&!this.option("bHorizental")){a="pan-x"
}this._el.style.msTouchAction=a
}}this._radianToDegree=180/Math.PI;
this._htMoveInfo={nStartX:0,nStartY:0,nBeforeX:0,nBeforeY:0,nStartTime:0,nBeforeTime:0,nStartDistance:0,nBeforeDistance:0,nStartAngle:0,nLastAngle:0};
this.bStart=false;
this.bMove=false;
this.nMoveType=-1;
this.htEndInfo={};
this._nVSlope=0;
this._nHSlope=0;
this.bSetSlope=false
},_attachEvents:function(){this._htEvent={};
var b=this._hasTouchEvent;
this._htEvent[this._htEventName.start]={fn:jindo.$Fn(this._onStart,this).bind(),el:this._el};
this._htEvent[this._htEventName.move]={fn:jindo.$Fn(this._onMove,this).bind(),el:this._el};
this._htEvent[this._htEventName.end]={fn:jindo.$Fn(this._onEnd,this).bind(),el:this._el};
this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind();
jindo.m.bindRotate(this._htEvent.rotate);
if(this._htEventName.cancel){this._htEvent[this._htEventName.cancel]={fn:jindo.$Fn(this._onCancel,this).bind(),el:this._el}
}for(var a in this._htEvent){if(this._htEvent[a].fn){this._htEvent[a].ref=jindo.m._attachFakeJindo(this._htEvent[a].el,this._htEvent[a].fn,a)
}}},_detachEvents:function(){for(var b in this._htEvent){var a=this._htEvent[b];
if(a.ref){a.ref.detach(a.el,b)
}}jindo.m.unbindRotate(this._htEvent.rotate);
this._htEvent=null
},_onCancel:function(a){this._onEnd(a)
},_onStart:function(a){this._resetTouchInfo();
var b=this._getTouchInfo(a);
var c={element:b[0].el,nX:b[0].nX,nY:b[0].nY,oEvent:a};
if(!this._fireCustomEvent("touchStart",c)){return
}this.bStart=true;
this._htMoveInfo.nStartX=b[0].nX;
this._htMoveInfo.nBeforeX=b[0].nX;
this._htMoveInfo.nStartY=b[0].nY;
this._htMoveInfo.nBeforeY=b[0].nY;
this._htMoveInfo.nStartTime=b[0].nTime;
this._htMoveInfo.aStartInfo=b;
this._startLongTapTimer(b,a)
},_onMove:function(a){if(!this.bStart){return
}this.bMove=true;
var b=this._getTouchInfo(a);
var c=this._getCustomEventParam(b,false);
if(b.length===1){if(this.nMoveType<0||this.nMoveType==3||this.nMoveType==4){var f=this._getMoveType(b);
if(!((this.nMoveType==4)&&(f==3))){this.nMoveType=f
}}}else{if(this.nMoveType!==8){this.nMoveType=this._getMoveType(b)
}}c=this._getCustomEventParam(b,false);
if((typeof this._nLongTapTimer!="undefined")&&this.nMoveType!=3){this._deleteLongTapTimer()
}c.oEvent=a;
var d=0;
if(this.nMoveType==0){d=Math.abs(c.nVectorX)
}else{if(this.nMoveType==1){d=Math.abs(c.nVectorY)
}else{d=Math.abs(c.nVectorX)+Math.abs(c.nVectorY)
}}if(d<this.option("nMoveThreshold")){return
}if(!this.fireEvent("touchMove",c)){this.bStart=false;
return
}this._htMoveInfo.nBeforeX=b[0].nX;
this._htMoveInfo.nBeforeY=b[0].nY;
this._htMoveInfo.nBeforeTime=b[0].nTime
},_onEnd:function(b){if(!this.bStart){return
}var a=this;
this._deleteLongTapTimer();
this._deleteEndEventTimer();
if(!this.bMove&&(this.nMoveType!=4)){this.nMoveType=3
}if(this.nMoveType<0){return
}var c=this._getTouchInfo(b);
if(this._isDblTap(c[0].nX,c[0].nY,c[0].nTime)){clearTimeout(this._nTapTimer);
delete this._nTapTimer;
this.nMoveType=5
}var f=this._getCustomEventParam(c,true);
f.oEvent=b;
var d=f.sMoveType;
if((typeof this._htEventHandler[jindo.m.MOVETYPE[5]]!="undefined"&&(this._htEventHandler[jindo.m.MOVETYPE[5]].length>0))&&(this.nMoveType==3)){this._nTapTimer=setTimeout(function(){a.fireEvent("touchEnd",f);
a._fireCustomEvent(d,f);
delete a._nTapTimer
},this.option("nDoubleTapDuration"))
}else{this.fireEvent("touchEnd",f);
if(this.nMoveType!=4){if(this.nMoveType===8){f.sMoveType=jindo.m.MOVETYPE[6];
this._fireCustomEvent(jindo.m.MOVETYPE[6],f);
f.sMoveType=jindo.m.MOVETYPE[7];
this._fireCustomEvent(jindo.m.MOVETYPE[7],f)
}else{setTimeout(function(){a._fireCustomEvent(d,f)
},0)
}}}this._updateTouchEndInfo(c);
this._resetTouchInfo()
},_startEndEventTimer:function(b){var a=this;
this._nEndEventTimer=setTimeout(function(){a._onEnd(b);
delete a._nEndEventTimer
},a.option("nEndEventThreshold"))
},_deleteEndEventTimer:function(){if(typeof this._nEndEventTimer!="undefined"){clearTimeout(this._nEndEventTimer);
delete this._nEndEventTimer
}},_fireCustomEvent:function(b,a){return this.fireEvent(b,a)
},_getCustomEventParam:function(j,d){var q=jindo.m.MOVETYPE[this.nMoveType];
var h=j[0].nTime-this._htMoveInfo.nStartTime;
var w=0,s=0,t=0,r=0,o=0,n=0,f=0,c=0;
f=(this.nMoveType===1)?0:j[0].nX-this._htMoveInfo.nStartX;
c=(this.nMoveType===0)?0:j[0].nY-this._htMoveInfo.nStartY;
w=j[0].nX-this._htMoveInfo.nBeforeX;
s=j[0].nY-this._htMoveInfo.nBeforeY;
if(d&&(this.nMoveType==0||this.nMoveType==1||this.nMoveType==2)){if(h<=this.option("nMomentumDuration")){o=Math.abs(f)/h;
t=(o*o)/2;
n=Math.abs(c)/h;
r=(n*n)/2
}}var k={element:j[0].el,nX:j[0].nX,nY:j[0].nY,nVectorX:w,nVectorY:s,nDistanceX:f,nDistanceY:c,sMoveType:q,nStartX:this._htMoveInfo.nStartX,nStartY:this._htMoveInfo.nStartY,nStartTimeStamp:this._htMoveInfo.nStartTime};
if((j.length)>1||(this.nMoveType>=6)){k.nScale=this._getScale(j);
k.nRotation=this._getRotation(j);
if(k.nScale===null){k.nScale=this._htMoveInfo.nBeforeScale
}if(k.nRotation===null){k.nRotation=this._htMoveInfo.nBeforeRotation
}}if(j.length>=1){var b=[];
var a=[];
var m=[];
for(var p=0,g=j.length;
p<g;
p++){b.push(j[p].nX);
a.push(j[p].nY);
m.push(j[p].el)
}k.aX=b;
k.aY=a;
k.aElement=m
}if(d){k.nMomentumX=t;
k.nMomentumY=r;
k.nSpeedX=o;
k.nSpeedY=n;
k.nDuration=h
}return k
},_updateTouchEndInfo:function(a){this.htEndInfo={element:a[0].el,time:a[0].nTime,movetype:this.nMoveType,nX:a[0].nX,nY:a[0].nY}
},_deleteLongTapTimer:function(){if(typeof this._nLongTapTimer!="undefined"){clearTimeout(this._nLongTapTimer);
delete this._nLongTapTimer
}},_startLongTapTimer:function(c,b){var a=this;
if((typeof this._htEventHandler[jindo.m.MOVETYPE[4]]!="undefined")&&(this._htEventHandler[jindo.m.MOVETYPE[4]].length>0)){a._nLongTapTimer=setTimeout(function(){a.fireEvent("longTap",{element:c[0].el,oEvent:b,nX:c[0].nX,nY:c[0].nY});
delete a._nLongTapTimer;
a.nMoveType=4
},a.option("nLongTapDuration"))
}},_onResize:function(){this._setSlope()
},_isDblTap:function(d,c,a){if((typeof this._nTapTimer!="undefined")&&this.nMoveType==3){var b=this.option("nTapThreshold");
if((Math.abs(this.htEndInfo.nX-d)<=b)&&(Math.abs(this.htEndInfo.nY-c)<=b)){return true
}}return false
},_setSlope:function(){if(!this.bSetSlope){this._nHSlope=((window.innerHeight/2)/window.innerWidth).toFixed(2)*1;
this._nVSlope=(window.innerHeight/(window.innerWidth/2)).toFixed(2)*1
}},setSlope:function(a,b){this._nHSlope=b;
this._nVSlope=a;
this.bSetSlope=true
},getSlope:function(){return{nVSlope:this._nVSlope,nHSlope:this._nHSlope}
},_resetTouchInfo:function(){for(var a in this._htMoveInfo){this._htMoveInfo[a]=0
}this._deleteLongTapTimer();
this.bStart=false;
this.bMove=false;
this.nMoveType=-1
},_getMoveTypeBySingle:function(a,j){var b=this.nMoveType;
var h=Math.abs(this._htMoveInfo.nStartX-a);
var g=Math.abs(this._htMoveInfo.nStartY-j);
var f=h+g;
var c=this.option("nTapThreshold");
if((h<=c)&&(g<=c)){b=3
}else{b=-1
}if(this.option("nSlopeThreshold")<=f){var d=parseFloat((g/h).toFixed(2),10);
if((this._nHSlope===-1)&&(this._nVSlope===-1)){b=2
}else{if(d<=this._nHSlope){b=0
}else{if(d>=this._nVSlope){b=1
}else{b=2
}}}}return b
},_getMoveTypeByMulti:function(a){var b=-1;
if((this.nMoveType===6)||Math.abs(1-this._htMoveInfo.nBeforeScale)>=this.option("nPinchThreshold")){b=6
}if((this.nMoveType===7)||Math.abs(0-this._htMoveInfo.nBeforeRotation)>=this.option("nRotateThreshold")){if(b===6){b=8
}else{b=7
}}if(b===-1){return this.nMoveType
}return b
},_getScale:function(b){var c=-1;
var a=this._getDistance(b);
if(a<=0){return null
}if(this._htMoveInfo.nStartDistance===0){c=1;
this._htMoveInfo.nStartDistance=a
}else{c=a/this._htMoveInfo.nStartDistance
}this._htMoveInfo.nBeforeScale=c;
return c
},_getRotation:function(a){var c=-1;
var b=this._getAngle(a);
if(b===null){return null
}if(this._htMoveInfo.nStartAngle===0){this._htMoveInfo.nStartAngle=b;
c=0
}else{c=b-this._htMoveInfo.nStartAngle
}this._htMoveInfo.nLastAngle=b;
this._htMoveInfo.nBeforeRotation=c;
return c
},_getMoveType:function(a){var b=this.nMoveType;
if(a.length===1){b=this._getMoveTypeBySingle(a[0].nX,a[0].nY)
}else{if(a.length===2){b=this._getMoveTypeByMulti(a)
}}return b
},_getDistance:function(a){if(a.length===1){return -1
}return Math.sqrt(Math.pow(Math.abs(a[0].nX-a[1].nX),2)+Math.pow(Math.abs(a[0].nY-a[1].nY),2))
},_getAngle:function(c){if(c.length===1){return null
}var b=c[0].nX-c[1].nX,a=c[0].nY-c[1].nY;
var h=Math.atan2(a,b)*this._radianToDegree;
if(this._htMoveInfo.nLastAngle!==null){var g=Math.abs(this._htMoveInfo.nLastAngle-h);
var d=h+360;
var f=h-360;
if(Math.abs(d-this._htMoveInfo.nLastAngle)<g){h=d
}else{if(Math.abs(f-this._htMoveInfo.nLastAngle)<g){h=f
}}}return h
},_getTouchInfo:function(b){var a=[];
var d=b.$value().timeStamp;
if(this._hasTouchEvent){var f=b.$value().changedTouches;
for(var c=0,g=f.length;
c<g;
c++){a.push({el:jindo.m.getNodeElement(f[c].target),nX:f[c].pageX,nY:f[c].pageY,nTime:d})
}}else{a.push({el:b.element,nX:b.pos().pageX,nY:b.pos().pageY,nTime:d})
}return a
},getBaseElement:function(a){return this._el
},_onDeactivate:function(){this._detachEvents()
},_onActivate:function(){this._attachEvents()
},destroy:function(){var a;
this.deactivate();
this._el=null;
for(a in this._htMoveInfo){this._htMoveInfo[a]=null
}this._htMoveInfo=null;
for(a in this.htEndInfo){this.htEndInfo[a]=null
}this.htEndInfo=null;
this.bStart=null;
this.bMove=null;
this.nMoveType=null;
this._nVSlope=null;
this._nHSlope=null;
this.bSetSlope=null
}}).extend(jindo.m.UIComponent);
jindo.m.Flicking=jindo.$Class({$init:function(b,a){this.option({bHorizontal:true,nDefaultIndex:0,sClassPrefix:"flick-",sContentClass:"ct",nDuration:100,nFlickThreshold:40,bUseCircular:false,sAnimation:"slide",nFlickDistanceOffset:null,bAutoResize:true,nBounceDuration:100,bSetNextPanelPos:false,bUseCss3d:jindo.m._isUseCss3d(true),bUseTimingFunction:jindo.m._isUseTimingFunction(true),bUseTranslate:true,bActivateOnload:true,bUseDiagonalTouch:false,nDefaultScale:0.94,nZIndex:2000});
this._el=jindo.$(b);
var c=jindo.m.getDeviceInfo();
if((typeof a!=="undefined")&&(typeof a.sAnimation!=="undefined")&&(a.sAnimation==="cover")){if((c.android&&!c.bChrome)&&(parseInt(c.version,10)>=4)&&(c.galaxyS2||c.galaxyNote)){this.option("bUseCss3d",true)
}}this.option(a||{});
this._initVar();
if(this.option("bActivateOnload")){this.activate()
}},$static:{_htAnimation:{"circular-slide":"_SlideFlicking_",slide:"_SlideFlicking_",cover:"_CoverFlicking_","circular-cover":"_CoverFlicking_",flip:"_FlipFlicking_","circular-flip":"_FlipFlicking_",alignFlip:"_AlignFlipFlicking_","circular-alignFlip":"_AlignFlipFlicking_"}},_initVar:function(){this._oFlickingAnimation=null
},setFlickingAnimation:function(a){if(typeof a==="undefined"){a=this.option("sAnimation");
if(this.option("bUseCircular")){a="circular-"+a
}}if(!jindo.m.Flicking._htAnimation[a]){return false
}if(!this._oFlickingAnimation||(this.option("sAnimation")!==a)){this._createAnimation(a)
}},_createAnimation:function(b){if(jindo.m.Flicking._htAnimation[b]){if(this._oFlickingAnimation){this._oFlickingAnimation.detachAll();
this._oFlickingAnimation=null
}try{this._oFlickingAnimation=new jindo.m[jindo.m.Flicking._htAnimation[b]](this._el,this.option())
}catch(a){}}},refresh:function(c,a,b){if(this._oFlickingAnimation){this._oFlickingAnimation.refresh(c,a,b)
}},getIndexByElement:function(a){if(this._oFlickingAnimation){return this._oFlickingAnimation.getIndexByElement(a)
}else{return -1
}},getElement:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getElement()
}else{return null
}},getContentElement:function(){return this.getElement()
},getContentIndex:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getContentIndex()
}else{return null
}},getNextElement:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getNextElement()
}else{return null
}},getPrevElement:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getPrevElement()
}else{return null
}},getTotalContents:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getTotalContents()
}else{return null
}},getTotalPanels:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getTotalPanels()
}else{return null
}},getPanels:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation._htWElement.aPanel
}else{return null
}},getPrevIndex:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getPrevIndex()
}else{return null
}},getNextIndex:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation.getNextIndex()
}else{return null
}},moveNext:function(a){if(!this.isActivating()){return
}if(this._oFlickingAnimation){this._oFlickingAnimation.moveNext(a)
}},movePrev:function(a){if(!this.isActivating()){return
}if(typeof a==="undefined"){a=this.option("nDuration")
}if(this._oFlickingAnimation){this._oFlickingAnimation.movePrev(a)
}},moveTo:function(a,c,b){if((typeof a==="undefined")||(a==this.getContentIndex())){return
}if(a<0||a>=this.getTotalContents()){return
}if(this._oFlickingAnimation){this._oFlickingAnimation.moveTo(a,c,b)
}},isAnimating:function(){if(this._oFlickingAnimation){return this._oFlickingAnimation._doFlicking
}},_onResize:function(a){if(this.option("bAutoResize")){this.refresh(this.getContentIndex(),true,false)
}this.fireEvent("rotate",{isVertical:a.isVertical})
},_onActivate:function(){if(this._oFlickingAnimation){}else{this.setFlickingAnimation()
}this._oFlickingAnimation.activate();
this._attachEvent();
this.refresh(this.getContentIndex(),true,false)
},_onDeactivate:function(){this._detachEvent()
},_attachEvent:function(){this._htEvent={};
this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind();
jindo.m.bindRotate(this._htEvent.rotate);
this._htEvent.pageshow=jindo.$Fn(this._onResize,this).bind();
this._attachFlicking()
},_attachFlicking:function(){if(this._oFlickingAnimation){this._oFlickingAnimation.detachAll();
var a=this;
this._oFlickingAnimation.attach({touchStart:function(b){if(!a.fireEvent("touchStart",b)){b.stop()
}},touchMove:function(b){a.fireEvent("touchMove",b)
},touchEnd:function(b){a.fireEvent("touchEnd",b)
},beforeFlicking:function(b){if(!a.fireEvent("beforeFlicking",b)){b.stop()
}},afterFlicking:function(b){a.fireEvent("afterFlicking",b)
},beforeMove:function(b){if(!a.fireEvent("beforeMove",b)){b.stop()
}},move:function(b){a.fireEvent("move",b)
},scroll:function(b){a.fireEvent("scroll")
},beforeRestore:function(b){if(!a.fireEvent("beforeRestore",b)){b.stop()
}},restore:function(b){a.fireEvent("restore",b)
}})
}},_detachEvent:function(){jindo.m.unbindRotate(this._htEvent.rotate);
for(var b in this._htEvent){var a=this._htEvent[b];
if(typeof a.ref!=="undefined"){a.ref.detach(a.el,b)
}}if(this._oFlickingAnimation){this._oFlickingAnimation.detachAll()
}this._htEvent=null
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null
}this._htWElement=null;
this._oFlickingAnimation=null;
for(var b in this._htIndexInfo){this._htIndexInfo[a]=null
}this._isIos=null;
this._bAndroid=null;
this._nVersion=null;
this._fnDummyFnc=null;
this._doFlicking=null;
this._bClickBug=null;
this._b3dExecption=null;
this._bDummyTagException=null
}}).extend(jindo.m.UIComponent);
jindo.m._FlickingAnimation_=jindo.$Class({$init:function(b,a){this.option(a||{});
this._setWrapperElement(b);
this._initVar();
this._initTouch();
this._createDummyTag();
if(this.option("bActivateOnload")){this.activate()
}},_initVar:function(){this._oTouch=null;
this._doFlicking=false;
this._bTouchStart=false;
this._bMove=false;
var a=this.option("nDefaultIndex")||0;
if(!this._checkIndex(a)){a=0
}if(this.option("bUseCircular")){a=a%3
}this._htIndexInfo={nContentIndex:a,nNextContentIndex:a,welElement:this._htWElement.aPanel[a],welNextElement:this._htWElement.aPanel[a],sDirection:null};
var b=jindo.m.getDeviceInfo();
this._isIos=(b.iphone||b.ipad);
this._bAndroid=b.android&&(!b.bChrome);
this._nVersion=b.version;
this._fnDummyFnc=function(){return false
};
this._bClickBug=jindo.m.hasClickBug();
this._sCssPrefix=jindo.m.getCssPrefix();
this._elTransition=null;
this._wfTransitionEnd=jindo.$Fn(this._onTransitionEnd,this).bind();
this._bDummyTagException=(this._bAndroid&&(this._nVersion<"3"));
this._aEleForHighlight=null;
this._isChrome=jindo.m.getBrowserInfo().chrome
},_setWrapperElement:function(a){this._htWElement={};
var b=jindo.$(a);
var d="."+this.option("sClassPrefix");
this._htWElement.base=jindo.$Element(b).css("zIndex",this.option("nZIndex"));
this._htWElement.container=jindo.$Element(jindo.$$.getSingle(d+"container",b));
var c=jindo.$$(d+this.option("sContentClass"),b);
this._htWElement.aPanel=jindo.$A(c).forEach(function(g,f,h){h[f]=jindo.$Element(g)
}).$value()
},_initFlicking:function(){this._setElementStyle();
this._setElementSize()
},_setElementStyle:function(){},_setElementSize:function(){},_initTouch:function(){this._oTouch=new jindo.m.Touch(this._htWElement.base.$value(),{nSlopeThreshold:4,nMoveThreshold:0,nEndEventThreshold:(jindo.m.getDeviceInfo().win)?400:0,bActivateOnload:false,bHorizental:this.option("bHorizontal"),bVertical:false})
},_createDummyTag:function(){if(this._bDummyTagException){this._htWElement.aDummyTag=[];
for(var b=0,c=this._htWElement.aPanel.length;
b<c;
b++){var a=this._htWElement.aPanel[b];
var d=jindo.$$.getSingle("._cflick_dummy_atag_",a.$value());
if(!d){d=jindo.$("<a href='javascript:void(0);' class='_cflick_dummy_atag_'></a>");
d.style.position="absolute";
d.style.left="-1000px";
d.style.top="-1000px";
d.style.width=0;
d.style.height=0;
a.append(d)
}this._htWElement.aDummyTag.push(d)
}}},_focusFixedBug:function(){if(!this._htWElement||typeof this._htWElement.aDummyTag==="undefined"){return
}for(var a=0,b=this._htWElement.aDummyTag.length;
a<b;
a++){this._htWElement.aDummyTag[a].focus()
}},_onStart:function(a){if(this._doFlicking){return
}if(!this.fireEvent("touchStart",a)){a.stop();
return
}this._bTouchStart=true;
this._clearAnchor();
this._onAfterStart()
},_onAfterStart:function(){},_onMove:function(d){var c=this.option("bHorizontal");
var b=d.oEvent;
if(d.sMoveType===jindo.m.MOVETYPE[0]){if(c){b.stop(jindo.$Event.CANCEL_ALL)
}else{this.fireEvent("scroll");
this._bTouchStart=false;
return
}}else{if(d.sMoveType===jindo.m.MOVETYPE[1]){if(!c){b.stop(jindo.$Event.CANCEL_ALL)
}else{this.fireEvent("scroll");
this._bTouchStart=false;
return
}}else{if(d.sMoveType===jindo.m.MOVETYPE[2]){if(this.option("bUseDiagonalTouch")){b.stop(jindo.$Event.CANCEL_ALL)
}else{this.fireEvent("scroll");
this._bTouchStart=false;
return
}}}}if(this._doFlicking){return
}if(!this._bTouchStart){return
}this.fireEvent("touchMove",d);
var g=c?d.nDistanceX:d.nDistanceY;
var a=c?d.nVectorX:d.nVectorY;
var f=c?d.nX:d.nY;
this._onAfterMove(g,a,f);
this._bMove=true
},_onAfterMove:function(c,a,b){},_onEnd:function(f,h){if(this._doFlicking){return
}if(!this._bTouchStart){return
}this._doFlicking=true;
var k=this.option("bHorizontal");
if(!(this._bAndroid&&(this._nVersion>="4.1"))){if(f.sMoveType===jindo.m.MOVETYPE[0]||f.sMoveType===jindo.m.MOVETYPE[1]||f.sMoveType===jindo.m.MOVETYPE[2]){f.oEvent.stop(jindo.$Event.CANCEL_DEFAULT)
}}if(f.sMoveType===jindo.m.MOVETYPE[3]||f.sMoveType===jindo.m.MOVETYPE[4]){this._restoreAnchor()
}var b=this.option("nDuration");
var g=this._getSnap(f.nDistanceX,f.nDistanceY,b,f.sMoveType);
var j=k?f.nDistanceX:f.nDistanceY;
var c=k?f.nVectorX:f.nVectorY;
var d=k?f.nX:f.nY;
if(g.sDirection===null){b=this.option("nBounceDuration");
if(j===0||((f.sMoveType===jindo.m.MOVETYPE[2])&&!this.option("bUseDiagonalTouch"))){this._endAnimation(false)
}}var a={nContentsIndex:this.getContentIndex(),nContentsNextIndex:g.nContentIndex};
if(this._bFlickLeft!==null){if(this.option("bHorizontal")){a.bLeft=this._bFlickLeft
}else{a.bTop=this._bFlickLeft
}}if(g.sDirection!==null){this._preventHightlightForChrome("before");
if(!this.fireEvent("beforeFlicking",a)){this.restorePosition();
return
}}else{this._preventHightlightForChrome("before");
if(!this.fireEvent("beforeRestore",{nContentsIndex:this.getContentIndex()})){return
}}this._htIndexInfo.nNextContentIndex=g.nContentIndex;
this._htIndexInfo.welNextElement=g.welElement;
this._htIndexInfo.sDirection=g.sDirection;
j=k?f.nDistanceX:f.nDistanceY;
c=k?f.nVectorX:f.nVectorY;
d=k?f.nX:f.nY;
this._onAfterEnd(j,c,d,h);
this.fireEvent("touchEnd",f)
},_onAfterEnd:function(){},_endAnimation:function(b){var a=this;
if(typeof b==="undefined"){b=true
}this._doFlicking=false;
this._bTouchStart=false;
this._bMove=false;
var c=this._htIndexInfo.sDirection==null&&this._htIndexInfo.nContentIndex===this._htIndexInfo.nNextContentIndex?true:false;
this._resetIndexInfo(this._htIndexInfo.nNextContentIndex,this._htIndexInfo.welNextElement);
if(b){this._preventHightlightForChrome("after");
this._fireCustomEvent("afterFlicking")
}if(c){this._preventHightlightForChrome("after");
this.fireEvent("restore",{nContentsIndex:this._htIndexInfo.nContentIndex})
}this._restoreAnchor();
this._setAnchorElement();
setTimeout(function(){a._createDummyTag();
a._focusFixedBug()
},5);
this._bFlickLeft=null
},_resetIndexInfo:function(b,a){this._htIndexInfo.nContentIndex=b;
this._htIndexInfo.nNextContentIndex=b;
if(typeof a==="undefined"){if(this.option("bUseCircular")){b=b%3
}a=this._htWElement.aPanel[b]
}this._htIndexInfo.welElement=a;
this._htIndexInfo.welNextElement=a;
this._htIndexInfo.sDirection=null
},_checkIndex:function(c){var a=true;
if(isNaN((c*1))||c<0){a=false
}var b=this.getTotalContents()-1;
if(c>b){a=false
}return a
},refresh:function(d,b,c){var a=this;
if(typeof d==="undefined"){d=this.getContentIndex()
}if(!this._checkIndex(d)){return
}if(typeof b==="undefined"){b=true
}if(typeof c==="undefined"){c=true
}if(c){if(!this._fireCustomEvent("beforeMove",{nContentsIndex:this.getContentIndex(),nContentsNextIndex:d})){return
}}this._refresh(d,b);
this._resetIndexInfo(d);
if(c){this._fireCustomEvent("move")
}this._restoreAnchor();
this._setAnchorElement();
this._createDummyTag();
setTimeout(function(){a._focusFixedBug()
},100)
},_refresh:function(b,a){},moveTo:function(a,c,b){if((typeof a==="undefined")||(a==this.getContentIndex())){return
}if(a<0||a>=this.getTotalContents()){return
}if(typeof c==="undefined"){c=this.option("nDuration")
}if(typeof b==="undefined"){b=true
}this._moveTo(a,c,b)
},_getSnap:function(f,d,j,h){var c=this.option("bHorizontal")?f:d;
var g=this._htIndexInfo.welElement;
var b=this.getContentIndex();
var a=null;
if(!((h===jindo.m.MOVETYPE[2])&&!this.option("bUseDiagonalTouch"))&&this._bMove){if(Math.abs(c)>=this.option("nFlickThreshold")){if(c<0){g=this.getNextElement();
b=this.getNextIndex();
this._bFlickLeft=true;
a="next"
}else{g=this.getPrevElement();
b=this.getPrevIndex();
this._bFlickLeft=false;
a="prev"
}}}if(this._htIndexInfo.welElement.$value()===g.$value()){a=null
}return{elElement:g.$value(),welElement:g,nContentIndex:b,sDirection:a}
},_onResize:function(){},_fireCustomEvent:function(a,b){if(typeof b==="undefined"){b={nContentsIndex:this._htIndexInfo.nContentIndex};
if(this._bFlickLeft){if(this.option("bHorizontal")){b.bLeft=this._bFlickLeft
}else{b.bTop=this._bFlickLeft
}}}return this.fireEvent(a,b)
},restorePosition:function(){this._onAfterEnd()
},movePrev:function(b){if(this._doFlicking){return
}var a=this.getPrevElement();
if(a.$value()===this.getElement().$value()){return
}if(typeof b==="undefined"){b=this.option("nDuration")
}this._bTouchStart=true;
this._bMove=true;
this._movePrev(b)
},_movePrev:function(b){var a=this.option("nFlickThreshold");
this._onEnd({nDistanceX:a+10,nDistanceY:a+10,nX:10,nY:10},b)
},moveNext:function(b){if(this._doFlicking){return
}var a=this.getNextElement();
if(a.$value()===this.getElement().$value()){return
}if(typeof b==="undefined"){b=this.option("nDuration")
}this._bTouchStart=true;
this._bMove=true;
this._moveNext(b)
},_moveNext:function(c){var b=this.option("nFlickThreshold")*-1;
var a=this.option("bHorizontal")?this._htWElement.base.width():this._htWElement.base.height();
this._onEnd({nDistanceX:b-10,nDistanceY:b-10,nX:10,nY:10},c)
},_attachTransitionEnd:function(c,b){if(c!==this._elTransition){this._elTransition=c;
var a=this;
if(b===0){setTimeout(function(){a._onTransitionEnd()
},10)
}else{jindo.m.attachTransitionEnd(c,this._wfTransitionEnd)
}}},_detachTarnsitonEnd:function(){if(this._elTransition){jindo.m.detachTransitionEnd(this._elTransition,this._wfTransitionEnd);
this._elTransition=null
}},getIndexByElement:function(c){var b=-1;
for(var a=0,d=this._htWElement.aPanel.length;
a<d;
a++){if(this._htWElement.aPanel[a].$value()===c){b=a;
break
}}return b
},getElement:function(){var a=null;
return this._htIndexInfo.welElement
},getContentElement:function(){return this.getElement()
},getContentIndex:function(){return this._htIndexInfo.nContentIndex
},getNextElement:function(){var a=this.getNextIndex();
if(this.option("bUseCircular")){a=this.getIndexByElement(this.getElement().$value());
a=((a+1)>2)?0:(a+1)
}return this._htWElement.aPanel[a]
},getPrevElement:function(){var a=this.getPrevIndex();
if(this.option("bUseCircular")){a=this.getIndexByElement(this.getElement().$value());
a=((a-1)<0)?2:(a-1)
}return this._htWElement.aPanel[a]
},getTotalContents:function(){var a=this._htWElement.aPanel.length;
if(this.option("bUseCircular")){if(typeof this.option("nTotalContents")==="undefined"){a=3
}else{a=this.option("nTotalContents")
}}return a
},getTotalPanels:function(){if(this.option("bUseCircular")){return 3
}else{return this.getTotalContents()
}},getPanels:function(){return this._htWElement.aPanel
},getPrevIndex:function(){var a=this.getContentIndex()-1;
if(this.option("bUseCircular")&&(a<0)){a=this.getTotalContents()-1
}a=Math.max(0,a);
return a
},getNextIndex:function(){var b=this.getContentIndex()+1;
var a=this.getTotalContents()-1;
if(this.option("bUseCircular")&&(b>a)){b=0
}b=Math.min(a,b);
return b
},_onTransitionEnd:function(){},_setAnchorElement:function(a){if(this._bClickBug){this._aAnchor=jindo.$$("A",this._htWElement.container.$value())
}this._refreshHightlightForChrome()
},_clearAnchor:function(){if(this._aAnchor&&!this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d].onclick){this._aAnchor[d]._onclick=this._aAnchor[d].onclick
}this._aAnchor[d].onclick=this._fnDummyFnc;
b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__removeEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture)
}}this._bBlocked=true
}},_restoreAnchor:function(){if(this._aAnchor&&this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._fnDummyFnc!==this._aAnchor[d]._onclick){this._aAnchor[d].onclick=this._aAnchor[d]._onclick
}else{this._aAnchor[d].onclick=null
}b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__addEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture)
}}this._bBlocked=false
}},_onActivate:function(){this._attachEvent();
this._setAnchorElement();
this._oTouch.activate()
},_onDeactivate:function(){this._detachEvent();
this._oTouch.deactivate()
},_attachEvent:function(){this._htEvent={};
this._htEvent.touchMove=jindo.$Fn(this._onMove,this).bind();
this._htEvent.touchEnd=jindo.$Fn(this._onEnd,this).bind();
this._htEvent.touchStart=jindo.$Fn(this._onStart,this).bind();
this._oTouch.attach("touchStart",this._htEvent.touchStart);
this._oTouch.attach("touchMove",this._htEvent.touchMove);
this._oTouch.attach("touchEnd",this._htEvent.touchEnd);
this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind();
jindo.m.bindRotate(this._htEvent.rotate);
this._htEvent.pageshow=jindo.$Fn(this._onResize,this).bind();
jindo.m.bindPageshow(this._htEvent.pageshow)
},_detachEvent:function(){this._oTouch.detachAll();
jindo.m.unbindRotate(this._htEvent.rotate);
for(var b in this._htEvent){var a=this._htEvent[b];
if(typeof a.ref!=="undefined"){a.ref.detach(a.el,b)
}}this._htEvent=null
},_refreshHightlightForChrome:function(){if(!this._isChrome){return
}this._aEleForHighlight=this._htWElement.container.queryAll("*");
this._aEleForHighlight=jindo.$A(this._aEleForHighlight).forEach(function(c,d,b){b[d]=jindo.$Element(c)
}).$value()
},_preventHightlightForChrome:function(a){if(!this._isChrome){return
}var b=/before/.test(a),c=this._sCssPrefix+"TapHighlightColor";
jindo.$A(this._aEleForHighlight).forEach(function(f,g,d){if(b){f.css(c,"rgba(0,0,0,0)")
}else{f.css(c,"")
}})
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null
}this._htWElement=null;
this._oTouch=null;
this._o_FlickingAnimation_=null;
for(var b in this._htIndexInfo){this._htIndexInfo[a]=null
}this._isIos=null;
this._bAndroid=null;
this._nVersion=null;
this._fnDummyFnc=null;
this._doFlicking=null;
this._bClickBug=null;
this._b3dExecption=null;
this._bDummyTagException=null
}}).extend(jindo.m.UIComponent);
jindo.m._SlideFlicking_=jindo.$Class({sAnimationName:"slide",$init:function(){this._htPosition={};
this._sTranslateStart="translate(";
this._sTranslateEnd=")";
this._oDocFragment=document.createDocumentFragment();
this._initFlicking()
},_initFlicking:function(){this._setElementSize();
this._setElementStyle();
this._setPanelPos();
this._prepareFlicking()
},_setPanelPos:function(){var c=this.option("bHorizontal");
var g=this._htWElement.base.$value();
var a=c?g.clientWidth:g.clientHeight;
this._nDefaultSize=a;
if(this.option("bUseCircular")){this._htPosition.htPanel={left:0,center:100,right:200};
this._htPosition.htContainer={left:a*-1,center:0,right:a}
}else{this._htPosition.aPos=[];
var d=c?"width":"height";
var h=0;
var b=0;
for(var f=0,j=this._htWElement.aPanel.length;
f<j;
f++){if(f!=0){if(this.option("nFlickDistanceOffset")===null){h+=this._htWElement.aPanel[f-1][d]()*-1
}else{a=this._htWElement.aPanel[f-1][d]()*-1;
h=b+a+(this.option("nFlickDistanceOffset")*-1);
b+=a
}}this._htPosition.aPos.push(h)
}}},_prepareFlicking:function(){if(this.option("bUseCss3d")){this._sTranslateStart="translate3d(";
this._sTranslateEnd=",0px)"
}for(var a=0,b=this._htWElement.aPanel.length;
a<b;
a++){if(this.option("bUseTranslate")){this._htWElement.aPanel[a].css(this._sCssPrefix+"Transform",this._sTranslateStart+"0px,0px"+this._sTranslateEnd)
}this._htWElement.aPanel[a].css(this._sCssPrefix+"TransitionProperty","-webkit-transform")
}},_setElementStyle:function(){this._htWElement.base.css("overflow","hidden");
this._htWElement.container.css("position","relative");
if(this.option("bHorizontal")){this._htWElement.container.css("clear","both")
}var a=this;
jindo.$A(this._htWElement.aPanel).forEach(function(d,c,f){var b=d;
if(a.option("bUseCircular")){b.css("position","absolute").css("width","100%").css("height","100%")
}if(a.option("bHorizontal")){b.css("float","left")
}})
},_setElementSize:function(){this._htWElement.container.height(this._htWElement.base.height());
if(!this.option("bUseCircular")){var b=this.option("bHorizontal");
var c=this._htWElement.aPanel.length;
var a=b?this._htWElement.base.width():this._htWElement.base.height();
var d=a*c;
if(b){this._htWElement.container.width(d)
}else{this._htWElement.container.height(d)
}jindo.$A(this._htWElement.aPanel).forEach(function(f){if(b){f.width(a)
}else{f.height(a)
}})
}},_onAfterStart:function(){},_onAfterMove:function(h,a,c){if(this.option("bSetNextPanelPos")&&(Math.abs(h)>5)){var g=this.getElement();
var f=this.getPrevElement();
var d=this.getNextElement();
var b=g.offset().top-window.scrollY;
if(b<0){this._bSetTopPos=true;
if(this._isIos){var j=this._sTranslateStart+"0,"+(b*-1)+"px"+this._sTranslateEnd;
f.css(this._sCssPrefix+"Transform",j);
d.css(this._sCssPrefix+"Transform",j)
}else{f.css("top",b*-1+"px");
d.css("top",b*-1+"px")
}}}this._setPosition(h,a,c,0,false)
},_onAfterEnd:function(o,a,d,n){var b=this._htWElement.container;
var k;
if(typeof n==="undefined"){n=this.option("nDuration")
}if(this._htIndexInfo.sDirection===null){n=this.option("nBounceDuration")
}if(!this.option("bUseTimingFunction")&&(n>0)){var p=this;
k=this._nLastDis?this._nLastDis:o;
var j=(new Date()).getTime(),m=o,h=o,g=a,c=this.option("bHorizontal")?this._htWElement.base.width():this._htWElement.base.height();
if(this._htIndexInfo.sDirection===null){if(!this.option("bUseTranslate")){c=-100
}else{c=0
}}if(k<0){c=c*-1
}(function f(){var q=(new Date()).getTime(),r,s;
if(q>=j+n){cancelAnimationFrame(p._nTimerAnimate);
delete p._nTimerAnimate;
p._setPosition(c,(s-h),d,0,false);
setTimeout(function(){p._onTransitionEnd()
},100);
return
}q=(q-j)/n-1;
r=Math.sqrt(1-Math.pow(q,2));
s=(c-m)*r+m;
p._setPosition(s,(s-h),d,0,false);
h=s;
p._nTimerAnimate=requestAnimationFrame(f)
})()
}else{this._setPosition(o,a,d,n,true)
}},_getContainerPos:function(){var a=this._htWElement.container;
var c=parseInt(a.css("left"),10),b=parseInt(a.css("top"),10);
c=isNaN(c)?0:c;
b=isNaN(b)?0:b;
var d=jindo.m.getCssOffset(a.$value());
return{left:c+d.left,top:b+d.top,css_left:c,css_top:b}
},_setPosition:function(d,b,c,f,a){if(typeof f==="undefined"){f=0
}if(!this.option("bUseTranslate")){this._setPositionForStyle(d,b,f,a)
}else{this._setPositionTransform(d,f,a)
}},_setPositionForStyle:function(g,a,f,h){var d=this.option("bHorizontal")?"left":"top";
if(h){if(this.option("bUseCircular")){if(this._htIndexInfo.sDirection===null){g=-100
}else{if(g<0){g=-200
}else{g=0
}}}else{g=this._getMovePos()
}}var c=0;
if(this.option("bUseCircular")){c=((g/this._nDefaultSize)*100)-100
}else{if(h){c=g
}else{c=a+this._getContainerPos()["css_"+d]
}}var b=h?g:c;
this._nLastDis=g;
if(h){if(b===parseFloat(this._htWElement.container.css(d).replace("px",""),10)){f=0
}this._attachTransitionEnd(this._htWElement.container.$value(),f)
}var k=this.option("bHorizontal")?b:0;
var j=this.option("bHorizontal")?0:b;
this._setPosContainer(k,j,f)
},_setPositionTransform:function(f,h,a){var c=this.option("bHorizontal");
if(a){if(this._htIndexInfo.sDirection===null){f=0
}else{if(this.option("bUseCircular")){f=(this._htIndexInfo.sDirection==="next")?this._htPosition.htContainer.left:this._htPosition.htContainer.right
}else{f=this._getMovePos()
}}}var g=c?f:0;
var d=c?0:f;
this._nLastDis=f;
if(a){var b=jindo.m.getCssOffset(this._htWElement.container.$value());
if((b.left===g)&&(b.top===d)){h=0
}this._attachTransitionEnd(this._htWElement.container.$value(),h)
}this._setPosContainer(g,d,h)
},_onTransitionEnd:function(){this._detachTarnsitonEnd();
var a=true;
if(this._htIndexInfo.sDirection===null){a=false
}this._nLastDis=null;
this._restorePanel(this._htIndexInfo.welNextElement.$value());
this._endAnimation(a);
if(this._bFireMoveEvent){this._fireCustomEvent("move");
this._bFireMoveEvent=false
}},_restorePanel:function(f){var c=this;
var g=this.option("bHorizontal")?"left":"top";
var a=this.getIndexByElement(f);
this._refresh(a,false);
if(this.option("bUseCircular")){if(this._bSetTopPos){if(this._isIos){this._htWElement.aPanel[a].css(this._sCssPrefix+"Transform",this._sTranslateStart+"0px,0px"+this._sTranslateEnd);
this._htWElement.aPanel[d].css(this._sCssPrefix+"Transform",this._sTranslateStart+"0px,0px"+this._sTranslateEnd);
this._htWElement.aPanel[b].css(this._sCssPrefix+"Transform",this._sTranslateStart+"0px,0px"+this._sTranslateEnd)
}else{this._htWElement.aPanel[a].css("top","");
this._htWElement.aPanel[d].css("top","");
this._htWElement.aPanel[b].css("top","")
}this._bSetTopPos=false
}if(this._isIos&&this.option("bUseCircular")){var d=(((a-1)<0)?2:(a-1))%3;
var b=(((a+1)>2)?0:(a+1))%3;
this._oDocFragment.appendChild(this._htWElement.aPanel[d].$value());
this._oDocFragment.appendChild(this._htWElement.aPanel[b].$value());
this._htWElement.container.$value().appendChild(this._oDocFragment)
}}},_refresh:function(h,d){var a=h;
if(this.option("bUseCircular")){a=h%3
}if(d){this._setElementSize();
this._setPanelPos()
}var g=this.option("bHorizontal")?"left":"top";
this._htWElement.container.css(this._sCssPrefix+"TransitionDuration","0ms");
if(this.option("bUseCircular")){this._htWElement.container.css(g,"-100%");
if(this.option("bUseTranslate")){this._htWElement.container.css(this._sCssPrefix+"Transform",this._sTranslateStart+"0px,0px"+this._sTranslateEnd)
}var c=(((a-1)<0)?2:(a-1))%3;
var b=(((a+1)>2)?0:(a+1))%3;
this._htWElement.aPanel[a].css(g,this._htPosition.htPanel.center+"%").css("zIndex",10);
this._htWElement.aPanel[c].css(g,this._htPosition.htPanel.left+"%").css("zIndex",1);
this._htWElement.aPanel[b].css(g,this._htPosition.htPanel.right+"%").css("zIndex",1)
}else{var f=0;
if(a>0){f=this._htPosition.aPos[a]
}this._htWElement.container.css(this._sCssPrefix+"Transform","");
this._htWElement.container.css(g,f+"px")
}},_moveTo:function(a,h,c){if(this.option("bUseCircular")){this.refresh(a,false,c)
}else{if(c){if(!this._fireCustomEvent("beforeMove",{nContentsIndex:this.getContentIndex(),nContentsNextIndex:a})){return
}}var f=this._getMovePos(a);
var g=this.option("bHorizontal")?f:0;
var d=this.option("bHorizontal")?0:f;
this._htIndexInfo.welNextElement=this._htWElement.aPanel[a];
this._htIndexInfo.nNextContentIndex=a;
if(c){this._bFireMoveEvent=true
}if(h!==0){this._attachTransitionEnd(this._htWElement.container.$value(),h)
}else{var b=this;
setTimeout(function(){b._onTransitionEnd()
},100)
}this._setPosContainer(g,d,h)
}},_getMovePos:function(a){var c=0;
var b=this.option("bHorizontal")?"left":"top";
var h=this._getContainerPos();
if(typeof a==="undefined"){if(this._htIndexInfo.sDirection!==null){a=this._htWElement.aPanel.length-1;
h=this._getContainerPos();
var j=h[b];
var g=this._htPosition.aPos.length;
for(var d=0,f=g;
d<f;
d++){if(j>=(this._htPosition.aPos[d])){a=d;
break
}}if((a==this.getContentIndex())&&a>0&&(this._htIndexInfo.sDirection==="prev")){a--
}if((a==this.getContentIndex())&&(a<(g-1))&&(this._htIndexInfo.sDirection==="next")){a++
}}else{a=this.getContentIndex()
}}c=this._htPosition.aPos[a];
if(this.option("bUseTranslate")){c-=(h["css_"+b])
}return c
},_setPosContainer:function(f,c,d){if(typeof d==="undefined"){d=0
}var b={};
b[this._sCssPrefix+"TransitionProperty"]="-webkit-transform";
b[this._sCssPrefix+"TransitionDuration"]=(d===0)?"0":d+"ms";
if(this.option("bUseTranslate")){b[this._sCssPrefix+"Transform"]=this._sTranslateStart+f+"px,"+c+"px"+this._sTranslateEnd
}else{var a=this.option("bUseCircular")?"%":"px";
if(this.option("bHorizontal")){b.left=f+a
}else{b.top=c+a
}}this._htWElement.container.css(b)
}}).extend(jindo.m._FlickingAnimation_);
jindo.m.AjaxHistory=jindo.$Class({bHashEvent:false,bPushState:false,_nIntervalId:0,_htLastState:{},$init:function(a){this.option({nCheckInterval:100,bUseHash:false});
this.option(a||{})
},initialize:function(){this._initVar();
this._attachEvent();
var a=this._getHash();
if(a){this._htLastState=this._getDecodedData(a);
this.fireEvent("change",{bLoad:true,htHistoryData:this._htLastState})
}else{this.fireEvent("load")
}return this
},_initVar:function(){var a=jindo.m.getDeviceInfo();
this.bHashEvent="onhashchange" in window;
this.bPushState=(typeof window.history!=="undefined")&&(typeof window.history.pushState!=="undefined")&&(typeof window.history.replaceState!=="undefined")&&!((a.iphone||a.ipad)&&(parseFloat(a.version,10)<4.3));
this._nIntervalId=0;
this._oAgent=jindo.$Agent().navigator();
this._bAndroid=a.android;
if(this.option("bUseHash")){this.bPushState=false
}},_attachEvent:function(){this._htEvent={};
if(this.bPushState){this._htEvent.popstate={ref:jindo.$Fn(this._onPopState,this).attach(window,"popstate"),el:window}
}else{if(this.bHashEvent){this._htEvent.hashchange={ref:jindo.$Fn(this._onHashChange,this).attach(window,"hashchange"),el:window}
}else{clearInterval(this._nIntervalId);
this._nIntervalId=setInterval(jindo.$Fn(this._onHashChange,this).bind(),this.option("nCheckInterval"))
}}},_onPopState:function(b){var c=b.$value().state;
if(c){var a=this._cloneObject(c);
if(!this._compareData(a,this._htLastState)){this._htLastState=a;
this._onChange()
}}},_onHashChange:function(){var a=this._getDecodedData(this._getHash());
if(!this._compareData(a,this._htLastState)){this._htLastState=a;
this._onChange()
}},_onChange:function(){this.fireEvent("change",{bLoad:false,htHistoryData:this._htLastState})
},addHistory:function(d,f){if(typeof f==="undefined"){f=false
}if(d&&typeof(d)=="object"&&jindo.$H(d).length()>0){var c=this._cloneObject(d);
if(this._compareData(c,this._htLastState)){return
}this._htLastState=c;
var b=this._getEncodedData(this._htLastState);
if(this.bPushState){if(f){this._replaceState(this._htLastState)
}else{this._pushState(this._htLastState)
}}else{var a=this;
if(this._bAndroid){setTimeout(function(){a._setHash(b)
},0)
}else{this._setHash(b)
}}}},_replaceState:function(a){history.replaceState(a,document.title,location.href)
},_pushState:function(a){history.pushState(a,document.title,location.href)
},_setHash:function(a){location.hash=a
},_compareData:function(c,b){if(c&&b){if(jindo.$H(c).length()==jindo.$H(b).length()){for(var a in c){if(typeof(c[a])=="object"){if(!arguments.callee(c[a],b[a])){return false
}}else{if(c[a]!=b[a]){return false
}}}return true
}else{return false
}}else{return false
}},_getEncodedData:function(a){if(a){if(typeof(JSON)=="object"&&typeof(JSON.stringify)=="function"){return encodeURIComponent(JSON.stringify(a))
}else{return encodeURIComponent(jindo.$Json(a).toString())
}}else{return""
}},_getDecodedData:function(c){try{if(c){var a=decodeURIComponent(c);
if(typeof(JSON)=="object"&&typeof(JSON.parse)=="function"){return JSON.parse(a)
}else{return jindo.$Json(a).toObject()
}}}catch(b){}return{}
},_cloneObject:function(a){var c,b;
if(a){c=jindo.$Json(a).toString();
b=jindo.$Json(c).toObject()
}else{b={}
}return b
},_getHash:function(){return this._oAgent.firefox?encodeURIComponent(location.hash.substring(1)):location.hash.substring(1)
},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b)
}this._htEvent=null
},destroy:function(){this._detachEvent();
clearInterval(this._nIntervalId);
this._nIntervalId=null
}}).extend(jindo.m.Component);
jindo.m.LayerPosition=jindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,bAutoReposition:true,sPosition:"center",nLeftMargin:0,nRightMargin:0,nTopMargin:0,nBottomMargin:0,bUseFixed:true});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate()
}},isUseFixed:function(){return this._bUseFixedProperty
},_onActivate:function(){this._isVertical=jindo.m.isVertical();
if(this.option("bAutoReposition")){this._attachEvent()
}this.setPosition()
},_onDeactivate:function(){if(this.option("bAutoReposition")){this._detachEvent()
}},_initVar:function(){var b=this.option("nLeftMargin"),a=this.option("nTopMargin");
this._htMargin={nLeft:b,nRight:this.option("nRightMargin"),nTop:a,nBottom:this.option("nBottomMargin")};
this._sPosition=this.option("sPosition");
this._htOldPosition={nTop:null,nLeft:null,nBottom:null};
this._htPosition={nTop:null,nLeft:null,nBottom:null};
this._bUseFixedProperty=this.option("bAutoReposition")&&(this.option("bUseFixed")&&jindo.m._isUseFixed());
this._isVertical=null;
this._hasOrientationChange=jindo.m.getDeviceInfo().ipad||jindo.m.getDeviceInfo().iphone||jindo.m.getDeviceInfo().bChrome;
this._nPreWidth=-1
},getPosition:function(){return this._sPosition
},getMargin:function(){return this._htMargin
},getLayer:function(){return this._htWElement.element.$value()
},getCurrentPosition:function(){return this._htPosition
},_setWrapperElement:function(a){this._htWElement={};
this.setLayer(a)
},setLayer:function(a){this._htWElement.element=jindo.$Element(a);
if(this._bUseFixedProperty){this._htWElement.element.css("position","fixed")
}else{this._htWElement.element.css("position","absolute")
}if(!this._htWElement.element.parent().isEqual(document.body)){this._htWElement.element.appendTo(document.body)
}return this
},top:function(a){this.setPosition("top",a)
},bottom:function(a){this.setPosition("bottom",a)
},center:function(a){this.setPosition("center",a)
},all:function(a){this.setPosition("all",a)
},_fixedLayerSize:function(c,a){var g=parseInt(this._htMargin.nLeft,10),f=parseInt(this._htMargin.nTop,10),b={"padding-top":parseInt(this._htWElement.element.css("padding-top"),10),"padding-bottom":parseInt(this._htWElement.element.css("padding-bottom"),10),"padding-left":parseInt(this._htWElement.element.css("padding-left"),10),"padding-right":parseInt(this._htWElement.element.css("padding-right"),10)},d={"border-top-width":parseInt(this._htWElement.element.css("border-top-width"),10),"border-bottom-width":parseInt(this._htWElement.element.css("border-bottom-width"),10),"border-left-width":parseInt(this._htWElement.element.css("border-left-width"),10),"border-right-width":parseInt(this._htWElement.element.css("border-right-width"),10)};
c-=b["padding-left"]+b["padding-right"]+d["border-left-width"]+d["border-right-width"]+g+parseInt(this._htMargin.nRight,10);
a-=b["padding-top"]+b["padding-bottom"]+d["border-top-width"]+d["border-bottom-width"]+f+parseInt(this._htMargin.nBottom,10);
this._htWElement.element.css({width:c+"px",height:a+"px"});
return{nTop:f,nLeft:g}
},_getPosition:function(){var c=this._htWElement.element.width(),d=this._htWElement.element.height(),g={},f=jindo.$Document().clientSize(),b=f.width,a=f.height;
c+=parseInt(this._htWElement.element.css("marginLeft"),10)+parseInt(this._htWElement.element.css("marginRight"),10)||0;
d+=parseInt(this._htWElement.element.css("marginTop"),10)+parseInt(this._htWElement.element.css("marginBottom"),10)||0;
if(this._sPosition==="all"){g=this._fixedLayerSize(b,a)
}else{g.nLeft=parseInt((b-c)/2,10)+parseInt(this._htMargin.nLeft,10);
switch(this._sPosition){case"top":g.nTop=parseInt(this._htMargin.nTop,10);
break;
case"center":g.nTop=parseInt((a-d)/2,10)+parseInt(this._htMargin.nTop,10);
break;
case"bottom":if(this._bUseFixedProperty){g.nBottom=parseInt(this._htMargin.nBottom,10)
}else{g.nTop=parseInt(a-d,10)-parseInt(this._htMargin.nBottom,10)
}break
}if(!this._bUseFixedProperty){g=this._adjustScrollPosition(g)
}}return g
},_adjustScrollPosition:function(a){var b=jindo.$Document().scrollPosition();
a.nTop+=b.top;
a.nLeft+=b.left;
return a
},setPosition:function(c,b){if(!this.isActivating()){return
}this._htMargin=b||this._htMargin;
this._sPosition=c||this._sPosition;
if(this._fireEvent("beforePosition")){var a=this._htWElement.element.visible();
if(!a){this._htWElement.element.css({left:"-9999px"}).show()
}this._htOldPosition=this._htPosition;
this._htPosition=this._getPosition();
if(!a){this._htWElement.element.hide()
}if(!a||this._htOldPosition.nLeft!==this._htPosition.nLeft||this._htOldPosition.nTop!==this._htPosition.nTop||this._htOldPosition.nBottom!==this._htPosition.nBottom){if(typeof this._htPosition.nTop==="undefined"){this._htWElement.element.$value().style.top=null
}else{if(typeof this._htPosition.nBottom==="undefined"){this._htWElement.element.$value().style.bottom=null
}}this._htWElement.element.css({left:this._htPosition.nLeft+"px",top:this._htPosition.nTop+"px",bottom:this._htPosition.nBottom+"px"})
}this._fireEvent("position")
}},_attachEvent:function(){this._htEvent={};
this._htEvent.actionEvent=jindo.$Fn(this._onEvent,this);
this._htEvent.pageShow=jindo.$Fn(this._onPageShow,this).bind();
if(this._bUseFixedProperty){this._htEvent.actionEvent.attach(window,"resize")
}else{this._htEvent.actionEvent.attach(window,"scroll").attach(window,"resize")
}jindo.m.bindPageshow(this._htEvent.pageShow);
if(this._hasOrientationChange){this._htEvent.rotate=jindo.$Fn(this._onOrientationChange,this).attach(window,"orientationchange")
}},_detachEvent:function(){this._htEvent.actionEvent.detach(window,"scroll").detach(window,"resize");
jindo.m.unbindPageshow(this._htEvent.pageShow);
if(this._hasOrientationChange){this._htEvent.rotate.detach(window,"orientationchange")
}this._htEvent=null
},_onEvent:function(a){if(jindo.m._isUseFixed()&&jindo.m.getDeviceInfo().android){this._htWElement.element.css("left",this._htWElement.element.css("left"))
}if(this._htWElement.element.visible()){this.setPosition()
}},_onOrientationChange:function(){if(this._htWElement.element.visible()){var a=this;
if(window.innerWidth<this._htWElement.element.width()){this._nPreWidth=this._htWElement.element.width();
this._htWElement.element.width(window.innerWidth)
}else{if(this._nPreWidth!==-1){this._htWElement.element.width(this._nPreWidth)
}}this._htWElement.element.hide();
this.setPosition();
if(jindo.m.getDeviceInfo().android&&!jindo.m.getDeviceInfo().bChrome){this._htWElement.element.show()
}else{setTimeout(function(){a.setPosition();
a._htWElement.element.show()
},10)
}}},_onPageShow:function(){if(this.isActivating()){this.deactivate();
this.activate()
}},_fireEvent:function(a){return this.fireEvent(a,{elLayer:this.getLayer(),htMargin:this.getMargin(),htPosition:this.getCurrentPosition()})
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null
}delete this._htWElement;
delete this._htMargin;
delete this._sPosition;
delete this._htPosition;
delete this._htOldPosition;
delete this._bUseFixedProperty
}}).extend(jindo.m.UIComponent);
jindo.m.ScrollEnd=jindo.$Class({$init:function(b,a){this._initVar();
this._setWrapperElement(b);
this._attachEvent()
},_initVar:function(){this._nType=this._getDetectType();
if(this._nType===2){this._nScrollTimer=-1
}this._isTouched=false;
this._isMoved=false;
this._nObserver=null;
this._nScrollEndTimer=null;
this._nPreLeft=null;
this._nPreTop=null
},_getDetectType:function(){var a=0;
if(jindo.m.getDeviceInfo().android){if(parseInt(jindo.m.getDeviceInfo().version,10)>=3){a=2
}else{a=1
}}else{if(jindo.m.getDeviceInfo().win){if(parseInt(jindo.m.getDeviceInfo().version,10)>=8){a=2
}}}return a
},_setWrapperElement:function(a){this._htElement={};
this._htElement.body=document.body
},_attachEvent:function(){this._htEvent={};
this._htEvent.event_scroll={ref:jindo.$Fn(this._onScroll,this).attach(window,"scroll"),el:window};
if(this._nType==1){this._htEvent.event_touchstart={ref:jindo.$Fn(this._onStartForAndroid,this).attach(this._htElement.body,"touchstart"),el:this._htElement.body};
this._htEvent.event_touchmove={ref:jindo.$Fn(this._onMoveForAndroid,this).attach(this._htElement.body,"touchmove"),el:this._htElement.body};
this._htEvent.event_touchend={ref:jindo.$Fn(this._onEndForAndroid,this).attach(this._htElement.body,"touchend"),el:this._htElement.body}
}},_detachEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
a.ref.detach(a.el,b.substring(b.lastIndexOf("_")))
}},_startObserver:function(){var a=this;
this._stopObserver();
this._nObserver=setInterval(function(){a._observe()
},100)
},_observe:function(){if(this._isTouched||(this._nPreTop!==window.pageYOffset||this._nPreLeft!==window.pageXOffset)){this._nPreTop=window.pageYOffset;
this._nPreLeft=window.pageXOffset
}else{this._stopObserver();
this._fireEventScrollEnd()
}},_stopObserver:function(){clearInterval(this._nObserver);
this._nObserver=null
},_onScroll:function(b){switch(this._nType){case 0:this._fireEventScrollEnd();
break;
case 1:this._startObserver();
break;
case 2:var a=this;
clearTimeout(this._nScrollTimer);
this._nScrollTimer=setTimeout(function(){a._fireEventScrollEnd()
},350);
break
}},_onStartForAndroid:function(a){this._isTouched=true;
this._isMoved=false;
this._nPreTop=null;
this._nPreLeft=null
},_onMoveForAndroid:function(a){this._isMoved=true
},_onEndForAndroid:function(a){this._isTouched=false;
if(this._isMoved){this._startObserver()
}},_fireEventScrollEnd:function(){this.fireEvent("scrollEnd",{nTop:window.pageYOffset,nLeft:window.pageXOffset})
},_fireEventScrollEndForAndroid:function(){var a=this;
clearTimeout(this._nScrollEndTimer);
this._nScrollEndTimer=setTimeout(function(){a._fireEventScrollEnd()
},500)
},destroy:function(){this._detachEvent();
this._nType=-1;
this._isTouched=null;
this._isMoved=null;
this._nObserver=null;
this._nPreLeft=null;
this._nPreTop=null
}}).extend(jindo.m.Component);
jindo.m.FloatingLayer=jindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,sPosition:"bottom",sDirection:"up",nSlideDuration:500,sSlideTimingFunction:"ease-in-out",nFadeInDuration:0,sFadeInTimingFunction:"ease-in-out",nFadeOutDuration:200,sFadeOutTimingFunction:"ease-in-out",bUseHideUI:true,bUseFixed:false,nTimeout:-1});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate()
}},_initVar:function(){this._oFloatingEffect=null;
this._oFadeinEffect=null;
this._oLayerPosition=null;
this._oScrollEnd=null;
this._nTimeoutTimer=-1;
this._isFixed=false;
this._isLayerOn=false;
this._isMoving=false
},_setWrapperElement:function(a){this._htWElement={};
this._htWElement.element=jindo.$Element(a);
this._htWElement.viewElement=jindo.$Element(this._createView())
},_initComponent:function(){var a=this,b=this._htWElement.element.$value();
this._oLayerPosition=new jindo.m.LayerPosition(this._htWElement.viewElement,{sPosition:this.option("sPosition"),bActivateOnload:false,bUseFixed:this.option("bUseFixed"),bAutoReposition:true});
this._oFloatingEffect=new jindo.m.LayerEffect(b);
if(this.option("bUseHideUI")&&this.option("nFadeInDuration")!==0){this._oFadeinEffect=new jindo.m.LayerEffect(this._htWElement.viewElement.$value(),{nDuration:this.option("nFadeInDuration")}).attach("afterEffect",function(){a._startHideTimer()
})
}this._isFixed=this._oLayerPosition.isUseFixed();
this._oScrollEnd=new jindo.m.ScrollEnd()
},getLayer:function(){return this._htWElement.element.$value()
},_createView:function(){var a=this._htWElement.element.visible(),b=jindo.$Element("<div class='_floatingLayer_view_divtag_' style='display:none;'>"),d="",c="";
if(!a){this._htWElement.element.css({left:"-9999px"}).show()
}d=this._htWElement.element.css("width").indexOf("%")!=-1?this._htWElement.element.css("width"):this._htWElement.element.width()+"px";
c=this._htWElement.element.css("height").indexOf("%")!=-1?this._htWElement.element.css("height"):this._htWElement.element.height()+"px";
b.css({width:d,height:c,zIndex:2050});
if(!a){this._htWElement.element.hide()
}return b
},resize:function(b,a){this._htWElement.viewElement.css({width:b+"px",height:a+"px"});
this._oLayerPosition.setPosition()
},show:function(){if(this._fireEvent("beforeShow")){if(!this._oLayerPosition.isActivating()){this._oLayerPosition.activate()
}this._setFloatingEffect(true);
this._htWElement.element.show();
this._htWElement.viewElement.show();
this._oFloatingEffect.slide({sDirection:this.option("sDirection"),nDuration:this.option("nSlideDuration"),sTransitionTimingFunction:this.option("sSlideTimingFunction"),elBaseLayer:this._htWElement.viewElement.$value()})
}},hide:function(){if(this._fireEvent("beforeHide")){this._stopHideTimer();
if(this._oLayerPosition.isActivating()){this._oLayerPosition.deactivate()
}this._detachFloatingEvent();
this._setFloatingEffect(false);
if(this.option("nFadeOutDuration")!==0){this._oFloatingEffect.fade({sDirection:"out",nDuration:this.option("nFadeOutDuration"),sTransitionTimingFunction:this.option("sFadeOutTimingFunction")})
}else{this._htWElement.viewElement.hide();
this._fireEvent("hide")
}}},_fireEvent:function(a){return this.fireEvent(a,{welLayer:this._htWElement.element})
},_startHideTimer:function(){if(this.option("nTimeout")>-1){var a=this;
this._stopHideTimer();
this._nTimeoutTimer=setTimeout(function(){a.hide()
},this.option("nTimeout"))
}},_stopHideTimer:function(){clearTimeout(this._nTimeoutTimer);
this._nTimeoutTimer=-1
},_onTouchStart:function(a){this._initFloatingData();
if(this._isLayer(a.element)){this._isLayerOn=true;
this._htWElement.viewElement.show()
}else{this._htWElement.viewElement.hide();
this._htWElement.viewElement.css("left",this._htWElement.viewElement.css("left")+"px")
}},_onScrollEnd:function(a){if(this.option("bUseHideUI")){if(this._isFixed){this._startHideTimer()
}else{this._runFadeIn()
}}else{this._oLayerPosition.setPosition();
this._startHideTimer()
}},_onTouchMove:function(a){this._isMoving=true
},_onTouchEnd:function(a){if(this._isLayerOn){this._oLayerPosition.setPosition();
return
}else{if(!this._isMoving){this._runFadeIn()
}}},_runFadeIn:function(){if(!this._htWElement.viewElement.visible()){if(this._isLayerOn){this._startHideTimer()
}else{this._fadeIn()
}}},_fadeIn:function(){this._oLayerPosition.setPosition();
if(this._oFadeinEffect){this._oFadeinEffect.clearEffect(true);
this._oFadeinEffect.fade({sDirection:"in",sTransitionTimingFunction:this.option("sFadeInTimingFunction")})
}else{this._htWElement.viewElement.show();
this._startHideTimer()
}},_isLayer:function(a){if(a&&(this._htWElement.element.isEqual(a)||this._htWElement.viewElement.isEqual(a)||this._htWElement.viewElement.isParentOf(a))){return true
}else{return false
}},_initFloatingData:function(){this._stopHideTimer();
if(this._oFloatingEffect&&this.option("nFadeOutDuration")!==0){this._oFloatingEffect.clearEffect(true)
}if(this._oFadeinEffect){this._oFadeinEffect.clearEffect(true)
}this._isMoving=false;
this._isLayerOn=false
},_onActivate:function(){this._initComponent()
},_onDeactivate:function(){this._detachEvent();
if(this._oFadeinEffect){this._oFadeinEffect.detachAll("afterEffect");
this._oFadeinEffect.destroy()
}this._oFloatingEffect.destroy();
this._oScrollEnd.destroy();
this._oLayerPosition.destroy();
this._htWElement.element.appendTo(document.body);
this._htWElement.viewElement.leave()
},_attachFloatingEvent:function(){this._htEvent={};
if(this.option("bUseHideUI")&&!this._isFixed){var a=jindo.m._getTouchEventName();
this._htEvent[a.start]={el:document.body,fn:jindo.$Fn(this._onTouchStart,this).bind()};
this._htEvent[a.move]={el:document.body,fn:jindo.$Fn(this._onTouchMove,this).bind()};
this._htEvent[a.end]={el:document.body,fn:jindo.$Fn(this._onTouchEnd,this).bind()};
if(a.cancel){this._htEvent[a.cancel]={el:document.body,fn:jindo.$Fn(this._onTouchEnd,this).bind()}
}for(var b in this._htEvent){if(this._htEvent[b].fn){this._htEvent[b].ref=jindo.m._attachFakeJindo(this._htEvent[b].el,this._htEvent[b].fn,b)
}}}this._oScrollEnd.attach("scrollEnd",jindo.$Fn(this._onScrollEnd,this).bind())
},_detachEvent:function(){this._detachFloatingEvent()
},_setFloatingEffect:function(b){var a=this;
this._oFloatingEffect.detachAll("afterEffect");
this._oFloatingEffect.clearEffect(true);
if(this._oFadeinEffect){this._oFadeinEffect.clearEffect(true)
}if(b){this._oFloatingEffect.attach("afterEffect",function(){a._attachFloatingEvent();
a._startHideTimer();
a._fireEvent("show")
})
}else{if(this.option("nFadeOutDuration")!==0){this._oFloatingEffect.attach("afterEffect",function(){a._htWElement.viewElement.hide();
a._fireEvent("hide")
})
}}},_detachFloatingEvent:function(){for(var b in this._htEvent){var a=this._htEvent[b];
if(a.ref){a.ref.detach(a.el,b)
}}this._oScrollEnd.detachAll("scrollEnd");
this._htEvent=null
},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null
}delete this._htWElement;
this._initFloatingData()
}}).extend(jindo.m.UIComponent);
jindo.m.Scroll=jindo.$Class({$init:function(b,a){this.option({bActivateOnload:true,bUseHScroll:false,bUseVScroll:true,bUseMomentum:true,nDeceleration:0.0006,nOffsetTop:0,nOffsetBottom:0,nHeight:0,nWidth:0,bUseBounce:true,bUseHighlight:true,sClassPrefix:"scroll_",bUseCss3d:jindo.m._isUseCss3d(),bUseTimingFunction:jindo.m._isUseTimingFunction(),bUseTranslate:true,bAutoResize:false,bUseDiagonalTouch:true,nZIndex:2000,sListElement:"",nRatio:1.5,bUseScrollbar:true,nScrollbarHideThreshold:0,bUseFixedScrollbar:false,sScrollbarBorder:"1px solid white",sScrollbarColor:"#8e8e8e",bUseScrollBarRadius:true,bUsePullDown:false,bUsePullUp:false,fnPullDownIdle:null,fnPullDownBeforeUpdate:null,fnPullDownUpdating:null,fnPullUpIdle:null,fnPullUpBeforeUpdate:null,fnPullUpUpdating:null});
this.option(a||{});
this._initVar();
this._setWrapperElement(b);
if(this.option("bActivateOnload")){this.activate()
}},_initVar:function(){var a=jindo.m.getDeviceInfo();
this.isPositionBug=a.android&&!a.bChrome;
this.isIos=a.ipad||a.iphone;
this.isClickBug=jindo.m.hasClickBug();
this.nVersion=parseFloat(a.version.substr(0,3));
this.sCssPrefix=jindo.m.getCssPrefix();
this.sTranOpen=null;
this.sTranEnd=null;
this.nWrapperW=null;
this.nWrapperH=null;
this.nScrollW=null;
this.nScrollH=null;
this.nMaxScrollLeft=null;
this.nMaxScrollTop=null;
this.nMinScrollTop=0;
this.bUseHScroll=null;
this.bUseVScroll=null;
this.bUseHighlight=this.option("bUseHighlight");
this._nPropHScroll=null;
this._nPropVScroll=null;
this._nLeft=0;
this._nTop=0;
this._aAni=[];
this._htTimer={ani:-1,fixed:-1,touch:-1,scrollbar:-1};
this._htPlugin={dynamic:{},pull:{}};
this._oTouch=null;
this._isAnimating=false;
this._isControling=false;
this._isStop=false;
if(this.option("sListElement")){this.option("bUseCss3d",false)
}this._setTrans();
if(this.bUseHighlight){if(this.isPositionBug){this._elDummyTag=null
}if(this.isClickBug){this._aAnchor=null;
this._fnDummyFnc=function(){return false
};
this._bBlocked=false
}}this._isActivateUpdater=false;
this._nUpdater=-1;
this._oMoveData={nLeft:0,nTop:0}
},_setTrans:function(){if(this.option("bUseCss3d")){this.sTranOpen="3d(";
this.sTranEnd=",0)"
}else{this.sTranOpen="(";
this.sTranEnd=")"
}},getCurrentPos:function(){return{nTop:this._nTop,nLeft:this._nLeft}
},setLayer:function(a){this._htWElement.wrapper=jindo.$Element(a);
this._htWElement.wrapper.css({overflow:"hidden",zIndex:this.option("nZIndex")});
if(this._htWElement.wrapper.css("position")=="static"){this._htWElement.wrapper.css("position","relative")
}if(!this.bUseHighlight){this._htWElement.wrapper.css("-"+this.sCssPrefix+"-tap-highlight-color","transparent")
}this.setScroller()
},setScroller:function(){this._htWElement.scroller=this._htWElement.wrapper.first();
this._htWElement.scroller.css({position:"absolute",zIndex:1,left:0,top:0});
if(this.option("bUseTranslate")||this.option("bUseCss3d")){this._htWElement.scroller.css("-"+this.sCssPrefix+"-transition-property","-"+this.sCssPrefix+"-transform").css("-"+this.sCssPrefix+"-transform","translate"+this.sTranOpen+"0,0"+this.sTranEnd)
}if(this.option("bUseTimingFunction")){this._htWElement.scroller.css("-"+this.sCssPrefix+"-transition-timing-function","cubic-bezier(0.33,0.66,0.66,1)")
}if(this.isPositionBug&&this.bUseHighlight&&this.nVersion<3){this._elDummyTag=this._htWElement.scroller.query("._scroller_dummy_atag_");
if(!this._elDummyTag){this._elDummyTag=jindo.$("<a href='javascript:void(0);' style='position:absolute;height:0px;width:0px;' class='_scroller_dummy_atag_'></a>");
this._htWElement.scroller.append(this._elDummyTag)
}else{this._elDummyTag=this._elDummyTag.$value()
}}},width:function(a){if(a){this.option("nWidth",a);
this.refresh()
}else{if(this.option("nWidth")){return parseInt(this.option("nWidth"),10)
}else{return this._htWElement.wrapper.width()
}}},height:function(a){if(a){this.option("nHeight",a);
this.refresh()
}else{if(this.option("nHeight")){return parseInt(this.option("nHeight"),10)
}else{return this._htWElement.wrapper.height()
}}},_setWrapperElement:function(a){this._htWElement={};
this.setLayer(a)
},hasHScroll:function(){return this.bUseHScroll
},hasVScroll:function(){return this.bUseVScroll
},_createDynamicPlugin:function(a){var b={nRatio:this.option("nRatio"),sListElement:this.option("sListElement"),sDirection:a};
if(this._inst("dynamic")){this._inst("dynamic").option(b)
}else{this._htPlugin.dynamic.o=new jindo.m.DynamicPlugin(this._htWElement.wrapper,b)
}this._inst("dynamic").refresh(a=="V"?this._nTop:this._nLeft);
this.option("bUseTimingFunction",false);
this._htPlugin.dynamic.bUse=true
},_refreshDynamicPlugin:function(){this._htPlugin.dynamic.bUse=false;
if(this.option("sListElement")&&!(this.bUseVScroll&&this.bUseHScroll)){var a=this.option("nRatio")*2;
if(this.bUseVScroll&&(this.nScrollH>(this.nWrapperH*a))){this._createDynamicPlugin("V")
}else{if(this.bUseHScroll&&(this.nScrollW>(this.nWrapperW*a))){this._createDynamicPlugin("H")
}}}},_refreshPullPlugin:function(){this._htPlugin.pull.bUse=this.option("bUsePullDown")||this.option("bUsePullUp");
if(!this._isUse("pull")){return false
}if(!this._inst("pull")){this._htPlugin.pull.o=new jindo.m.PullPlugin(this)
}this._inst("pull").refresh();
return true
},refresh:function(f){if(!this.isActivating()){return
}if(this.option("nWidth")){this._htWElement.wrapper.width(parseInt(this.option("nWidth"),10))
}if(this.option("nHeight")){this._htWElement.wrapper.height(parseInt(this.option("nHeight"),10))
}var d=parseInt(this._htWElement.wrapper.css("border-left-width"),10),a=parseInt(this._htWElement.wrapper.css("border-right-width"),10),c=parseInt(this._htWElement.wrapper.css("border-top-width"),10),b=parseInt(this._htWElement.wrapper.css("border-bottom-width"),10);
d=isNaN(d)?0:d;
a=isNaN(a)?0:a;
c=isNaN(c)?0:c;
b=isNaN(b)?0:b;
this.nWrapperW=this._htWElement.wrapper.width()-d-a;
this.nWrapperH=this._htWElement.wrapper.height()-c-b;
if(!this._refreshPullPlugin()){this.nScrollW=this._htWElement.scroller.width();
this.nScrollH=this._htWElement.scroller.height()-this.option("nOffsetBottom");
this.nMinScrollTop=-this.option("nOffsetTop");
this.nMaxScrollTop=this.nWrapperH-this.nScrollH
}this.nMaxScrollLeft=this.nWrapperW-this.nScrollW;
if(this.bUseHighlight&&this.isClickBug){this._aAnchor=jindo.$$("A",this._htWElement.scroller.$value())
}this.bUseHScroll=this.option("bUseHScroll")&&(this.nWrapperW<=this.nScrollW);
this.bUseVScroll=this.option("bUseVScroll")&&(this.nWrapperH<=this.nScrollH);
if(this.bUseHScroll&&!this.bUseVScroll){this._htWElement.scroller.$value().style.height="100%"
}if(!this.bUseHScroll&&this.bUseVScroll){this._htWElement.scroller.$value().style.width="100%"
}this._refreshDynamicPlugin();
if(this.option("bUseScrollbar")){this._refreshScroll("V");
this._refreshScroll("H")
}if(!this.bUseHScroll&&!this.bUseVScroll){this._fixPositionBug()
}if(!f){this.restorePos(0)
}},_setPos:function(d,c){var b;
d=this.bUseHScroll?d:0;
c=this.bUseVScroll?c:0;
if(this._isUse("dynamic")){b=this._checkDirection(d,c)
}if(this._fireEvent("beforePosition")){this._isControling=true;
this._nLeft=d;
this._nTop=c;
if(this._isUse("dynamic")){this._inst("dynamic").updateListStatus(b,this.bUseVScroll?this._nTop:this._nLeft)
}if(this.option("bUseTranslate")){if(this.bUseHighlight&&this.isPositionBug){var a=this.getStyleOffset(this._htWElement.scroller);
d-=a.left;
c-=a.top
}this._htWElement.scroller.css("-"+this.sCssPrefix+"-transform","translate"+this.sTranOpen+d+"px, "+c+"px"+this.sTranEnd)
}else{this._htWElement.scroller.css({left:d+"px",top:c+"px"})
}if(this.option("bUseScrollbar")){this._htTimer.scrollbar=clearTimeout(this._htTimer.scrollbar);
this._setScrollBarPos("V",this._nTop);
this._setScrollBarPos("H",this._nLeft)
}this._fireEvent("position")
}},_isUse:function(a){return this._htPlugin[a].bUse
},_inst:function(a){return this._htPlugin[a].o
},_checkDirection:function(f,d){var b=this.bUseVScroll?this._nTop:this._nLeft,c=this.bUseVScroll?d:f,a;
if(b>c){a="forward"
}else{a="backward"
}return a
},restorePos:function(c){if(!this.bUseHScroll&&!this.bUseVScroll){return
}var b=this.getPosLeft(this._nLeft),a=this.getPosTop(this._nTop);
if(b===this._nLeft&&a===this._nTop){this._isControling=false;
this._fireAfterScroll();
this._fixPositionBug();
return
}else{this._scrollTo(b,a,c)
}},_getMomentum:function(c,h,g,j,k,d){var m=this.option("nDeceleration"),a=g/m,f=0,b=0;
if(c<0&&a>k){b=j/(6/(a/h*m));
k=k+b;
h=h*k/a;
a=k
}else{if(c>0&&a>d){b=j/(6/(a/h*m));
d=d+b;
h=h*d/a;
a=d
}}a=a*(c>0?-1:1);
f=h/m;
return{nDist:a,nTime:Math.round(f)}
},_stop:function(){if(this.option("bUseTimingFunction")){jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd)
}else{cancelAnimationFrame(this._htTimer.ani)
}this._aAni=[];
this._isAnimating=false;
this._isStop=true;
this._oMoveData={nLeft:this._nLeft,nTop:this._nTop}
},_scrollTo:function(b,a,c){this._stop();
b=this.bUseHScroll?b:0;
a=this.bUseVScroll?a:0;
this._aAni.push({nLeft:b,nTop:a,nDuration:c||0});
this._animate()
},scrollTo:function(b,a,c){c=c||0;
b=-Math.abs(b);
a=-Math.abs(a);
a+=this.getTop();
this._scrollTo((b>=this.getLeft()?this.getLeft():(b<=this.getRight()?this.getRight():b)),(a>=this.getTop()?this.getTop():(a<=this.getBottom()?this.getBottom():a)),c)
},getRight:function(){return this.nMaxScrollLeft
},getLeft:function(){return 0
},getBottom:function(){return this.nMaxScrollTop
},getTop:function(){return this.nMinScrollTop
},isMoving:function(){return this._isControling
},_animate:function(){var b=this,g;
if(this._isAnimating){return
}if(!this._aAni.length){this.restorePos(300);
return
}do{g=this._aAni.shift();
if(!g){return
}}while(g.nLeft==this._nLeft&&g.nTop==this._nTop);
if(g.nDuration==0){if(this.option("bUseTimingFunction")){this._transitionTime(0)
}this._isActivateUpdater=false;
this._setPos(g.nLeft,g.nTop);
this._oMoveData=g;
this._isActivateUpdater=true;
this._animate()
}else{this._isAnimating=true;
if(this.option("bUseTimingFunction")){this._transitionTime(g.nDuration);
this._setPos(g.nLeft,g.nTop);
this._isAnimating=false;
jindo.m.attachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd)
}else{var f=(new Date()).getTime(),d=this._nLeft,c=this._nTop;
(function a(){var h=(new Date()).getTime(),j;
if(h>=f+g.nDuration){b._isActivateUpdater=false;
b._setPos(g.nLeft,g.nTop);
b._oMoveData=g;
b._isActivateUpdater=true;
b._isAnimating=false;
b._animate();
return
}h=(h-f)/g.nDuration-1;
j=Math.sqrt(1-Math.pow(h,2));
b._oMoveData={nLeft:(g.nLeft-d)*j+d,nTop:(g.nTop-c)*j+c};
if(b._isAnimating){b._htTimer.ani=requestAnimationFrame(a)
}})()
}}},_onRotate:function(a){this.refresh()
},_transitionTime:function(a){a+="ms";
this._htWElement.scroller.css("-"+this.sCssPrefix+"-transition-duration",a);
if(this.option("bUseScrollbar")){this._setScrollbarDuration(a)
}},_setScrollbarDuration:function(a){if(this.bUseHScroll&&this._htWElement.HscrollbarIndicator){this._htWElement.HscrollbarIndicator.css("-"+this.sCssPrefix+"-transition-duration",a)
}if(this.bUseVScroll&&this._htWElement.VscrollbarIndicator){this._htWElement.VscrollbarIndicator.css("-"+this.sCssPrefix+"-transition-duration",a)
}},_clearAnchor:function(){if(this.isClickBug&&this._aAnchor&&!this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(!this._aAnchor[d].___isClear___){if(this._fnDummyFnc!==this._aAnchor[d].onclick){this._aAnchor[d]._onclick=this._aAnchor[d].onclick
}this._aAnchor[d].onclick=this._fnDummyFnc;
this._aAnchor[d].___isClear___=true;
b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__removeEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture)
}}}this._bBlocked=true
}},_restoreAnchor:function(){if(this.isClickBug&&this._aAnchor&&this._bBlocked){var b=null;
for(var d=0,c=this._aAnchor.length;
d<c;
d++){if(this._aAnchor[d].___isClear___){if(this._fnDummyFnc!==this._aAnchor[d]._onclick){this._aAnchor[d].onclick=this._aAnchor[d]._onclick
}else{this._aAnchor[d].onclick=null
}this._aAnchor[d].___isClear___=null;
b=this._aAnchor[d].___listeners___||[];
for(var a=0,f=b.length;
a<f;
a++){___Old__addEventListener___.call(this._aAnchor[d],"click",b[a].listener,b[a].useCapture)
}}}this._bBlocked=false
}},_stopScroll:function(){var a=jindo.m.getCssOffset(this._htWElement.scroller.$value()),b={left:0,top:0},c,d;
if(this.isPositionBug&&this.bUseHighlight||!this.option("bUseTranslate")){b=this.getStyleOffset(this._htWElement.scroller)
}d=a.left+b.left;
c=a.top+b.top;
if(d!==parseInt(this._nLeft,10)||c!==parseInt(this._nTop,10)){this._stop();
this._setPos(this.getPosLeft(d),this.getPosTop(c));
this._isControling=false;
this._fireAfterScroll();
this._fixPositionBug()
}},getStyleOffset:function(a){var c=parseInt(a.css("left"),10),b=parseInt(a.css("top"),10);
c=isNaN(c)?0:c;
b=isNaN(b)?0:b;
return{left:c,top:b}
},getPosLeft:function(a){if(this.bUseHScroll){return(a>=0?0:(a<=this.nMaxScrollLeft?this.nMaxScrollLeft:a))
}else{return 0
}},getPosTop:function(a){if(this.bUseVScroll){return(a>=this.nMinScrollTop?this.nMinScrollTop:(a<=this.nMaxScrollTop?this.nMaxScrollTop:a))
}else{return 0
}},_hideScrollBar:function(b){if(!this._htWElement){return
}var a=this._htWElement[b+"scrollbar"],c=(b==="H"?this.bUseHScroll:this.bUseVScroll);
if(c&&a){a.hide();
a.css("left",a.css("left")+"px");
if(this.isPositionBug&&this.bUseHighlight){this.makeStylePos(this._htWElement[b+"scrollbarIndicator"])
}}},_fireAfterScroll:function(){if(this.option("bUseScrollbar")){var a=this;
this._htTimer.scrollbar=setTimeout(function(){if(!a.option("bUseFixedScrollbar")){a._hideScrollBar("V");
a._hideScrollBar("H")
}},this.option("nScrollbarHideThreshold"))
}this._fireEvent("afterScroll")
},_fireEventbeforeScroll:function(a){return this.fireEvent("beforeScroll",a)
},_fireEventScroll:function(a){this.fireEvent("scroll",a)
},_fireEvent:function(a){return this.fireEvent(a,this._getNowPosition())
},_fireTouchEvent:function(b,a){return this.fireEvent(b,this._getNowPosition(a))
},_getNowPosition:function(a){return{nLeft:this._nLeft,nTop:this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop,oEvent:a||{}}
},setUsePullDown:function(a){if(this._isUse("pull")){this.option("bUsePullDown",a);
this.refresh()
}},setUsePullUp:function(a){if(this._isUse("pull")){this.option("bUsePullUp",a);
this.refresh()
}},_onUpdater:function(a){if(this._isActivateUpdater){if(this._oMoveData.nLeft!=this._nLeft||this._oMoveData.nTop!=this._nTop){this._setPos(this._oMoveData.nLeft,this._oMoveData.nTop)
}}this._nUpdater=window.requestAnimationFrame(this._htEvent.updater)
},_onStart:function(a){this._clearPositionBug();
if(this._fireTouchEvent("beforeTouchStart",a)){this._clearAnchor();
this._isAnimating=false;
this._isControling=true;
this._isStop=false;
if(this.option("bUseTimingFunction")){this._transitionTime(0)
}this._stopScroll();
if(!this._fireTouchEvent("touchStart",a)){a.stop()
}}else{a.stop()
}},_onMove:function(d){var f=0,c=0;
this._clearTouchEnd();
this._clearPositionBug();
if(this._fireTouchEvent("beforeTouchMove",d)){if(this._isUse("pull")){this._inst("pull").touchMoveForUpdate(d,this.nMaxScrollTop)
}var b=d.oEvent;
if(d.sMoveType===jindo.m.MOVETYPE[0]){if(this.bUseHScroll){if(!this.option("bUseBounce")&&((this._nLeft>=0&&d.nVectorX>0)||(this._nLeft<=this.nMaxScrollLeft&&d.nVectorX<0))){this._forceRestore(d);
return
}else{b.stop(jindo.$Event.CANCEL_ALL)
}}else{return true
}}else{if(d.sMoveType===jindo.m.MOVETYPE[1]){if(this.bUseVScroll){if(!this.option("bUseBounce")&&((this._nTop>=this.nMinScrollTop&&d.nVectorY>0)||(this._nTop<=this.nMaxScrollTop&&d.nVectorY<0))){this._forceRestore(d);
return
}else{b.stop(jindo.$Event.CANCEL_ALL)
}}else{return true
}}else{if(d.sMoveType===jindo.m.MOVETYPE[2]){if(this.option("bUseDiagonalTouch")){b.stop(jindo.$Event.CANCEL_ALL)
}else{return
}}else{b.stop(jindo.$Event.CANCEL_ALL);
return true
}}}if(this.option("bUseBounce")){if(this.bUseHScroll){f=this._nLeft+(this._nLeft>=0||this._nLeft<=this.nMaxScrollLeft?d.nVectorX/2:d.nVectorX)
}if(this.bUseVScroll){c=this._nTop+(this._nTop>=this.nMinScrollTop||this._nTop<=this.nMaxScrollTop?d.nVectorY/2:d.nVectorY)
}var a=this;
this._htTimer.touch=setTimeout(function(){a._forceRestore(d)
},500)
}else{f=this.getPosLeft(this._nLeft+d.nVectorX);
c=this.getPosTop(this._nTop+d.nVectorY)
}this._isActivateUpdater=false;
this._oMoveData={nLeft:f,nTop:c};
this._setPos(f,c);
this._isActivateUpdater=true;
if(!this._fireTouchEvent("touchMove",d)){d.stop()
}}else{d.stop()
}},_onEnd:function(a){if(this._isUse("pull")){this._inst("pull").pullUploading()
}if(this._fireTouchEvent("beforeTouchEnd",a)){this._clearPositionBug();
this._clearTouchEnd();
if(a.sMoveType===jindo.m.MOVETYPE[0]||a.sMoveType===jindo.m.MOVETYPE[1]||a.sMoveType===jindo.m.MOVETYPE[2]){this._endForScroll(a);
if(this.isClickBug||this.nVersion<4.1){a.oEvent.stop(jindo.$Event.CANCEL_DEFAULT)
}}else{this._isControling=false;
if(!this._isStop){if(this.bUseHighlight){this._restoreAnchor()
}}}if(!this._fireTouchEvent("touchEnd",a)){a.stop()
}}else{a.stop()
}},_forceRestore:function(a){a.nMomentumX=a.nMomentumY=null;
this._endForScroll(a);
this._clearPositionBug();
this._clearTouchEnd()
},_endForScroll:function(c){clearTimeout(this._nFixedDubbleEndBugTimer);
var b={nDist:0,nTime:0},a={nDist:0,nTime:0},d={nMomentumX:c.nMomentumX,nMomentumY:c.nMomentumY,nDistanceX:c.nDistanceX,nDistanceY:c.nDistanceY,nLeft:this._nLeft,nTop:this._nTop};
if(this.option("bUseMomentum")&&(c.nMomentumX||c.nMomentumY)){if(this.bUseHScroll){b=this._getMomentum(-c.nDistanceX,c.nSpeedX,c.nMomentumX,this.nWrapperW,-this._nLeft,-this.nMaxScrollLeft+this._nLeft)
}if(this.bUseVScroll){a=this._getMomentum(-c.nDistanceY,c.nSpeedY,c.nMomentumY,this.nWrapperH,-this._nTop,-this.nMaxScrollTop+this._nTop)
}d.nNextLeft=this._nLeft+b.nDist;
d.nNextTop=this._nTop+a.nDist;
d.nTime=Math.max(Math.max(b.nTime,a.nTime),10);
if(this._fireEventbeforeScroll(d)){if(this.option("bUseBounce")){this._scrollTo(d.nNextLeft,d.nNextTop,d.nTime)
}else{this._scrollTo(this.getPosLeft(d.nNextLeft),this.getPosTop(d.nNextTop),d.nTime)
}this._fireEventScroll(d)
}}else{d.nNextLeft=this._nLeft;
d.nNextTop=this._nTop;
d.nTime=0;
if(this._fireEventbeforeScroll(d)){if(this._nLeft!==d.nNextLeft||this._nTop!==d.nNextTop){this._scrollTo(d.nNextLeft,d.nNextTop,d.nTime)
}else{this.restorePos(300)
}this._fireEventScroll(d)
}}},_onTransitionEnd:function(a){jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);
this._animate()
},_onDocumentStart:function(a){if(this._htWElement.wrapper.visible()){if(this._htWElement.wrapper.isChildOf(a.element)){return true
}else{this._stopScroll()
}}},_onActivate:function(){if(!this._oTouch){this._oTouch=new jindo.m.Touch(this._htWElement.wrapper.$value(),{nMoveThreshold:0,nMomentumDuration:(jindo.m.getDeviceInfo().android?500:200),nTapThreshold:1,nSlopeThreshold:5,nEndEventThreshold:(jindo.m.getDeviceInfo().win8?100:0),bHorizental:this.option("bUseHScroll"),bVertical:this.option("bUseVScroll")})
}else{this._oTouch.activate()
}this._attachEvent();
this.refresh()
},_onDeactivate:function(){this._detachEvent();
this._oTouch.deactivate()
},_attachEvent:function(){this._htEvent={};
this._htEvent.touchStart=jindo.$Fn(this._onStart,this).bind();
this._htEvent.touchMove=jindo.$Fn(this._onMove,this).bind();
this._htEvent.touchEnd=jindo.$Fn(this._onEnd,this).bind();
this._htEvent.TransitionEnd=jindo.$Fn(this._onTransitionEnd,this).bind();
this._htEvent.document=jindo.$Fn(this._onDocumentStart,this).attach(document,"touchstart");
this._oTouch.attach({touchStart:this._htEvent.touchStart,touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd});
this._htEvent.updater=jindo.$Fn(this._onUpdater,this).bind();
if(this.option("bAutoResize")){this._htEvent.rotate=jindo.$Fn(this._onRotate,this).bind();
jindo.m.bindRotate(this._htEvent.rotate)
}if(!this.option("bUseTimingFunction")){this._isActivateUpdater=true;
this._nUpdater=window.requestAnimationFrame(this._htEvent.updater)
}},_fixPositionBug:function(){if(this.isPositionBug&&this.bUseHighlight&&this.option("bUseTranslate")){var a=this;
this._clearPositionBug();
this._htTimer.fixed=setTimeout(function(){if(a._htWElement&&a._htWElement.scroller){a.makeStylePos(a._htWElement.scroller);
if(a.nVersion<3){a._elDummyTag.focus()
}}},200)
}},makeStylePos:function(b){var c=b.$value();
var a=jindo.m.getCssOffset(c);
var d=b.offset();
if(this.nVersion>=4){c.style["-"+this.sCssPrefix+"-transform"]="translate"+this.sTranOpen+"0px, 0px"+this.sTranEnd
}else{c.style["-"+this.sCssPrefix+"-transform"]=null
}c.style["-"+this.sCssPrefix+"-transition-duration"]=null;
b.offset(a.top+d.top,a.left+d.left)
},_clearPositionBug:function(){if(this.isPositionBug&&this.bUseHighlight){clearTimeout(this._htTimer.fixed);
this._htTimer.fixed=-1
}},_clearTouchEnd:function(){clearTimeout(this._htTimer.touch);
this._htTimer.touch=-1
},_detachEvent:function(){jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);
this._htEvent.document.detach(document,"touchstart");
if(this.option("bAutoResize")){jindo.m.unbindRotate(this._htEvent.rotate)
}this._oTouch.detachAll();
if(this._elDummyTag){this._htWElement.scroller.remove(this._elDummyTag)
}if(!this.option("bUseTimingFunction")){this._isActivateUpdater=false;
window.cancelAnimationFrame(this._nUpdater)
}},_createScroll:function(a){if(!(a==="H"?this.bUseHScroll:this.bUseVScroll)){return
}var d=this._htWElement[a+"scrollbar"],c=this._htWElement[a+"scrollbarIndicator"],b=this._htWElement.wrapper;
if(d){b.remove(d);
this._htWElement[a+"scrollbar"]=this._htWElement[a+"scrollbarIndicator"]=null
}d=this._createScrollbar(a);
c=this._createScrollbarIndicator(a);
this._htWElement[a+"scrollbar"]=d;
this._htWElement[a+"scrollbarIndicator"]=c;
d.append(c);
b.append(d)
},_createScrollbar:function(a){var b=jindo.$Element("<div>");
b.css({position:"absolute",zIndex:100,bottom:(a==="H"?"1px":(this.bUseHScroll?"7":"2")+"px"),right:(a==="H"?(this.bUseVScroll?"7":"2")+"px":"1px"),pointerEvents:"none"});
if(this.option("bUseFixedScrollbar")){b.show()
}else{b.hide()
}if(a==="H"){b.css({height:"5px",left:"2px"})
}else{b.css({width:"5px",top:"2px"})
}return b
},_createScrollbarIndicator:function(a){var b=jindo.$Element("<div>").css({position:"absolute",zIndex:100,border:this.option("sScrollbarBorder"),pointerEvents:"none",left:0,top:0,"background-color":this.option("sScrollbarColor")});
if(this.isIos&&this.option("bUseScrollBarRadius")){b.css("-"+this.sCssPrefix+"-border-radius","12px")
}if(this.option("bUseTranslate")||this.option("bUseCss3d")){b.css("-"+this.sCssPrefix+"-transition-property","-"+this.sCssPrefix+"-transform").css("-"+this.sCssPrefix+"-transform","translate"+this.sTransOpen+"0,0"+this.sTransEnd)
}if(this.option("bUseTimingFunction")){b.css("-"+this.sCssPrefix+"-transition-timing-function","cubic-bezier(0.33,0.66,0.66,1)")
}if(a==="H"){b.height(5)
}else{b.width(5)
}return b
},_refreshScroll:function(b){if(b==="H"){if(!this.bUseHScroll||this.nWrapperW==this.nScrollW){return
}}else{if(!this.bUseVScroll||this.nWrapperH==this.nScrollH){return
}}if(!this._htWElement[b+"scrollbar"]){this._createScroll(b)
}var d=this._htWElement[b+"scrollbar"],c=this._htWElement[b+"scrollbarIndicator"],a=0;
if(b==="H"){a=Math.max(Math.round(Math.pow(this.nWrapperW,2)/this.nScrollW),8);
this._nPropHScroll=(this.nWrapperW-a)/this.nMaxScrollLeft;
d.width(this.nWrapperW);
c.width(isNaN(a)?0:a)
}else{a=Math.max(Math.round(Math.pow(this.nWrapperH,2)/this.nScrollH),8);
this._nPropVScroll=(this.nWrapperH-a)/this.nMaxScrollTop;
d.height(this.nWrapperH);
c.height(isNaN(a)?0:a)
}},_setScrollBarPos:function(a,c){if(!(a==="H"?this.bUseHScroll:this.bUseVScroll)){return
}var b=this._htWElement[a+"scrollbarIndicator"],f=this._htWElement[a+"scrollbar"];
c=this["_nProp"+a+"Scroll"]*c;
if(!this.option("bUseFixedScrollbar")&&!f.visible()){f.show()
}if(b){if(this.option("bUseTranslate")){if(this.isPositionBug&&this.bUseHighlight){var d=parseInt((a==="H"?b.css("left"):b.css("top")),10);
c-=isNaN(d)?0:d
}b.css("-"+this.sCssPrefix+"-transform","translate"+this.sTranOpen+(a==="H"?c+"px,0":"0,"+c+"px")+this.sTranEnd)
}else{if(a==="H"){b.css("left",c+"px")
}else{b.css("top",c+"px")
}}}},destroy:function(){this.deactivate();
for(var a in this._htWElement){this._htWElement[a]=null
}this._htWElement=null;
this._oTouch.destroy();
delete this._oTouch
}}).extend(jindo.m.UIComponent);
(function(j){var h=document.getElementsByTagName("script");
var c=h[h.length-1];
if(c&&/[\?&]jindo=([^&]+)/.test(c.src)){j=RegExp.$1
}var f=window[j];
var a=/iPhone|iPad/.test(navigator.userAgent);
var b=navigator.userAgent.match(/OS\s([\d|\_]+\s)/i);
if(b!==null&&b.length>1){b=b[1].replace(/\_/g,".").replace(/\s/g,"")
}else{b="0"
}if(a&&parseInt(b,10)>=7){var g=f.m.Component?f.m.Component.VERSION:f.m.sVersion;
if(g=="1.3.1"){if(typeof f.m.getDeviceInfo().optimusLte2=="undefined"){g="1.3.1"
}else{if(typeof f.m.getDeviceInfo().samsung!="undefined"){g="1.4.0"
}else{g="1.3.5"
}}}var d=g.split(".");
if(d&&d.length>3){g=d.slice(0,3).join(".")
}if(g>="1.8.0"){f.m.patch(f.m.Component.VERSION).add({useTimingFunction:function(){var k=f.$Agent().os();
if((k.ipad||k.iphone)&&(parseInt(k.version,10)>6)){return -1
}else{return 0
}}})
}else{f.m.useTimingFunction=function(){var k=this._isUseCss3d();
var m=f.m.getDeviceInfo();
if(m.android||((m.iphone||m.ipad)&&(parseInt(m.version,10)>6))){k=false
}return k
};
f.m._isUseTimingFunction=f.m.useTimingFunction
}}})("jindo");
function startAutoComplete(){var c=(jindo.m.getDeviceInfo().iphone&&jindo.m.getDeviceInfo().version.search("4.3.3")==-1)?"touchstart":"click";
if(!jindo.m.getDeviceInfo().android||jindo.m.getDeviceInfo().version<"4.1.0"){setTimeout(function(){if(window.pageYOffset==0){window.sScrollToTop=true;
window.scrollTo(0,1)
}},50)
}function b(d){d.stop();
$Element("query").detach(c,b);
initHistoryAutocomplete("idx","remoteStorage",true)
}if($("remoteStorage")){initHistoryAutocomplete("idx","remoteStorage",false)
}else{$Element("query").attach(c,b)
}$Element("query").attach("focus",hamHide);
$Element("query").attach("blur",hamShow)
}function hamHide(){var b=$Element("ham");
if(b){b.hide()
}var c=$Element("btn_top");
if(c){c.css("opacity",0)
}}function hamShow(){var b=$Element("ham");
if(b){b.show()
}}function getScrollPos(){var b=(window.pageXOffset!==undefined)?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;
var c=(window.pageYOffset!==undefined)?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;
return{scrollX:b,scrollY:c}
}function isLowDevice(){var b=jindo.m.getDeviceInfo();
if(b.android&&parseFloat(b.version,10)<=2.3){return true
}if(b.iphone&&parseFloat(b.version,10)<4){return true
}if(location.search.search(/low/)>0){return true
}return false
}JEagleEyeClient.sendError2=function(b){JEagleEyeClient._sendToServer(b,"http://z.naver.com/")
};
var SectionInfoManager={init:function(c){var b=this;
b.aSectionInfo=c
},changeSectionInfo:function(h){var c=CU.getSectionName();
var f;
for(var d=0,b=oSectionTotalInfo.s.length;
d<b;
d++){if(oSectionTotalInfo.s[d].n==h){f=oSectionTotalInfo.s[d];
break
}}if(!f){return
}var g=this.getSectionIndex(c);
if(g>=0){this.aSectionInfo[g]["n"]=f.n;
this.aSectionInfo[g]["l"]=f.l;
this.aSectionInfo[g]["tbn"]=f.tbn;
this.aSectionInfo[g]["stb"]=f.stb;
this.aSectionInfo[g]["a"]=f.a
}},getSectionName:function(b){return this.aSectionInfo[b].n
},getSectionInfo:function(){return this.aSectionInfo
},getSectionIndex:function(f){var c=this.aSectionInfo;
for(var d=0,b=c.length;
d<b;
d++){if(f==c[d].n){return d
}}for(var d=0,b=c.length;
d<b;
d++){if(f.indexOf(c[d].n.replace(/\d+/,""))==0){return d
}}return -1
},getNaviTabIndex:function(b){return this.aSectionInfo[b].tb
},getContentIndex:function(f){var c=this.aSectionInfo;
for(var d=0,b=c.length;
d<b;
d++){if(c[d].tb==f){return d
}}return 0
},getContentIndexFromPanel:function(h){var f=this.aSectionInfo;
var d=h.first().attr("data-name")||CU.getSectionName();
var b=f.length;
for(var g=0;
g<b;
g++){if(d==f[g].n){return g
}}for(var c=0;
c<b;
c++){if(d.indexOf(f[c].n.replace(/\d+/,""))==0){return c
}}return 0
},findNextContentIndexByTab:function(d){var c=this;
var f=c.aSectionInfo;
var h=c.getNaviTabIndex(d);
var j=(d+1)%f.length;
if(h==c.getNaviTabIndex(j)){return j
}else{for(var g=0,b=f.length;
g<b;
g++){if(h==f[g].tb){return g
}}}return 0
},};
SIM=SectionInfoManager;
var ContentsUI={init:function(){var b=this;
b.aScrollPos=[];
b.htHeight={};
b.nLastPanelHeight=0;
b.nTimer=0;
b.welFlickPanel=$Element("ct");
b.sCurrSectionName=b.getSectionName();
b.rolling();
b.nRetryHeight=0;
b.resetAd();
NaviTab.init();
Footer.init();
CM.init();
LocalStorageManager.init(gsDate);
this.updatePanelHeight();
jindo.m.bindRotate($Fn(this.updatePanelHeight,this).bind(60));
if(!jindo.m.getDeviceInfo().iphone){$Element(window).attach("resize",$Fn(this.updatePanelHeight,this).bind(51))
}if(HiddenManager.isHidden()){if(!HiddenManager.isScriptLoaded()){HiddenManager.load()
}HDN.init()
}else{if(HiddenManager.isScriptLoaded()){HDN.destroy()
}}Footer.append(oFlicking.getNextElement());
Footer.append(oFlicking.getPrevElement());
b.lcsDo(SIM.aSectionInfo);
b._sendCookieLog();
b._sSectionName=b.getSectionName();
b._nDurTime=new Date().getTime()
},_getStiTag:function(){var c=oFlicking.getContentIndex();
var b=SIM.aSectionInfo[c].l+((gsBrowserType=="INAPP")?"_app":"");
if(b.search(/now/)>0&&isLowDevice()){b=b.replace("now","nowlow")
}return b
},lcsDo:function(b){try{var c={};
stiTag=this._getStiTag();
c.sti=stiTag;
lcs_do(c);
for(k in lcs_add){c[k]=lcs_add[k]
}CH.go("MSDT.lcs",c)
}catch(d){JEagleEyeClient.sendError("[LCS] lcs_do error : "+d.description)
}},_sendCookieLog:function(){var b={};
b.nid=gisLogin?gisLogin:"-";
b.sti=this._getStiTag();
b.MM_FS=$Cookie().get("MM_FS");
b.MM_S=$Cookie().get("MM_S");
b.MM_LFTAB=$Cookie().get("MM_LFTAB");
b.MM_SHSUB=$Cookie().get("MM_SHSUB");
b.MM_NOWSUB=$Cookie().get("MM_NOWSUB");
b.SVC_LIST=$Cookie().get("SVC_LIST");
b.NV_WETR_LAST_ACCESS_RGN_M=$Cookie().get("NV_WETR_LAST_ACCESS_RGN_M");
CH.go("MSDT.cklog",b)
},_sendSectionMove:function(){var b=new Date().getTime();
var c={};
c.dur=b-this._nDurTime;
c.pre=this._sSectionName;
c.cur=this.getSectionName();
this._nDurTime=b;
this._sSectionName=c.cur;
CH.go("MSDT.move",c)
},scrollToTop:function(b){var d=b||$("nav").offsetTop;
d+=2;
var c=getScrollPos().scrollY;
if(HiddenManager.isHidden()){window.scrollTo(0,d+parseInt(jindo.$Element("nav").height(),10))
}else{if(c>d){window.scrollTo(0,d)
}}},setScrollPos:function(b,c){this.aScrollPos[c-1]=b
},moveScrollTo:function(g){var b=g.split("_")[2];
var c=this.aScrollPos[b-1]||jindo.$Element("nav").offset().top;
var h=0;
var d=10;
var f=setInterval(function(){var i=getScrollPos().scrollY;
if(h<d&&i<c-10){window.scrollTo(0,c)
}else{clearInterval(f)
}h++
},200)
},adUpdate:function(){this.removeHeightCache(CU.getSectionName());
this.updatePanelHeight(200)
},updatePanelHeight:function(b){var c=this;
var d=oFlicking.getElement();
if(CU.isNowTab()){d=$Element("now-container")||d
}b=b?b:450;
setTimeout(function(){if(!c._updateHeight(d)&&c.nRetryHeight<5){c.nRetryHeight++;
c.updatePanelHeight(b,d)
}else{c.nRetryHeight=0
}},b)
},_updateHeight:function(c){var b=this.getPanelHeight(c);
if(Math.abs(this.nLastPanelHeight-b)>30&&b>0){this.welFlickPanel.height(b);
this.nLastPanelHeight=b;
return false
}if(window.innerHeight<b){this.setHeightCache(CU.getSectionName(),b)
}return true
},_getHeightPostfix:function(){var b="_H";
if(Math.abs(window.orientation)==90){b="_V"
}return b
},_makeCacheKey:function(b){var d=this._getHeightPostfix();
var c=b+d;
if(b.search(/now/)>0){c+="_"+$$("._MM_CARD").length
}return c
},removeHeightCache:function(b){if(b){var c=this._makeCacheKey(b);
this.htHeight[c]=""
}else{this.htHeight={};
this.nLastPanelHeight=0
}},getHeightCache:function(b){var c=this._makeCacheKey(b);
return this.htHeight[c]
},setHeightCache:function(c,b){if(c.search(/now/)>0){return
}var d=this._makeCacheKey(c);
this.htHeight[d]=b
},getCurrentPanel:function(){return oFlicking.getElement()
},getSectionName:function(c){if(typeof c=="undefined"){var b=oFlicking.getElement().query("[data-name]")||oFlicking.getElement().first();
if(b){var d=b.attr("data-name");
if(d){return d
}}c=oFlicking.getContentIndex()
}return SIM.aSectionInfo[c].n
},getCurrentArea:function(){nContentIndex=oFlicking.getContentIndex();
return SIM.aSectionInfo[nContentIndex].a
},getPanelHeight:function(b){if(CU.isNowTab()&&$("now-container")){return $("now-container").offsetHeight
}var d=this.getHeightCache(CU.getSectionName());
if(d){return d
}var c=function(i){var h=b.query(i);
return h?h.height():0
};
var f=c(".wrap")+c(".fapp")+c(".footer")+c(".fot");
var g=c(".ftip");
if(g>11&&this.isNowTab()&&!isLowDevice()){g-=11
}f+=g;
if(Math.abs(window.orientation)==90){f-=11
}return f
},rolling:function(){var b=this;
var c=$$("._ROLLING",oFlicking.getElement());
clearInterval(b.nTimer);
b.nTimer=setInterval(function(){for(var f=0,d=c.length;
f<d;
f++){var g=$Element(c[f]);
b._rolling(g)
}},3000)
},_rolling:function(g){var d=g.child();
var b=d.length;
var f=0;
if(d.length==0){return
}for(var c=0;
c<b;
c++){if(d[c].visible()){f=c;
break
}}$ElementList(d).hide();
f++;
if(f==b){f=0
}d[f].show()
},resetAd:function(){var c=this;
var b=oFlicking.getElement().query(".ad");
if(!b){setTimeout(function(){var g=$$.getSingle(".ad");
if(g){$ElementList($$(".ad")).attr("id",null);
g.id="adw_da"
}else{c.resetAd()
}},500);
return
}var f=$$("script[src^='http://m.ad.naver.com/adshow']");
for(var d=0;
d<f.length;
d++){document.body.removeChild(f[d])
}$ElementList($$(".ad")).attr("id",null);
setTimeout(function(){b.attr("id","adw_da");
c._resetAd()
},100)
},_resetAd:function(){var c=this;
if($("adw_da")){var d=gsUnitId+"&tb="+this.getSectionName();
var b=document.createElement("script");
b.src=d;
b.charset="utf-8";
document.body.appendChild(b)
}else{setTimeout(function(){c._resetAd()
},50)
}},afterUpdate:function(f,d){var b=this;
d=d||{};
b.lcsDo(SIM.aSectionInfo);
this.sCurrSectionName=f.first().attr("data-name")||CU.getSectionName();
var c=this.getSectionName();
CardAni.stopAll();
if(!b.isNowTab()){Footer.append(f)
}else{Card.afterAppend()
}this.scrollToTop(d.nScrollY);
Card.initTopButton();
Card.hideTopButton2();
this.rolling();
RTK.rolling();
this.nLastPanelHeight=0;
this.updatePanelHeight();
b.resetAd();
if(c.search(/hidden/)>0){$Cookie().remove("MM_S")
}else{$Cookie().set("MM_S",c,(1/24/60*10))
}if(HiddenManager.isHidden()){if(!HiddenManager.isScriptLoaded()){HiddenManager.load()
}HDN.init();
CardAni.init(f)
}else{if(HiddenManager.isScriptLoaded()){HDN.destroy()
}}setTimeout(function(){CM.replaceAllImgSrc()
},200);
this._sendSectionMove()
},moveTo:function(c){var b=SIM.getSectionIndex(c);
if(b>=0){oFlicking.moveTo(b,0)
}},moveSubTab:function(c){var b=this;
if(CU.isNowTab()){$Cookie().set("MM_NOWSUB",c,365*100)
}if(c.search(/shopping/)>0){$Cookie().set("MM_SHSUB",c,365*100)
}SIM.changeSectionInfo(c);
CM.updatePanel(oFlicking.getElement(),c,true)
},moveTPTab:function(b){var b=parseInt(b);
var d=$$(".sorttab_u .sorttab_l",CU.getCurrentPanel());
for(var c in d){var f=d[c];
if(c==b){$Element(f).addClass("sorttab_lon")
}else{$Element(f).removeClass("sorttab_lon")
}}var h=$$(".sortct",CU.getCurrentPanel());
for(var c in h){var g=h[c];
if(c==b){$Element(g).show()
}else{$Element(g).hide()
}}return false
},appendCue:function(j){var b=this;
var d=j.first().data("name");
if(d.search(/(news|shopping)/)>0){var i=getScrollPos().scrollY+100;
var h=j.query(".wrap").height()+300;
var c=Math.max(h,i);
var g=j.query(".ico_cv");
if(g){g.css("top",c);
g.show()
}else{var f=b.getCueInfo(d);
j.appendHTML('<span class="ico_cv '+f.sClass+'" style="top:'+c+'px">'+f.sKorName+"</span>")
}}},getCueInfo:function(f){var d={};
var c="";
var g="";
var b=f.match(/section_([a-z]+)_(\d+)/);
switch(b[1]){case"news":c="뉴스";
g="news";
break;
case"entertainment":c="연예";
g="etn";
break;
case"sports":c="스포츠";
g="sports";
break;
case"life":if(b[2]==1){c="리빙.육아";
g="livingparenting"
}if(b[2]==2){c="자동차.테크";
g="autotech"
}if(b[2]==3){c="문화";
g="culture"
}break;
case"fun":c="FUN";
g="fun";
break;
case"shopping":c="쇼핑";
g="shopping";
break;
case"now":c="NOW";
g="";
break;
case"hidden":c="쉼";
g="";
break
}d.sKorName=c;
d.sClass=g;
return d
},isNowTab:function(){if(this.getSectionName().search(/now/)>0){return true
}else{return false
}},next:function(){oFlicking.moveNext()
},prev:function(){oFlicking.movePrev()
}};
var CU=ContentsUI;
var NaviTab={init:function(){var b=this;
var c=SIM.aSectionInfo;
b.aNaviLi=$$("#nav .nav_l"),b.welNaviUl=$Element($$.getSingle("#nav .nav_u"));
b.nLastContentIndex=getCookieContentsIndex(c);
$Element("nav").attach("click@.nav_l",b._onClickNavigationTab)
},setNavigationTab:function(c){var b=this;
var d=SIM.getNaviTabIndex(c);
$ElementList(b.aNaviLi).removeClass("nav_lon");
if(d<b.aNaviLi.length){$Element(b.aNaviLi[d]).addClass("nav_lon")
}},setNavigationTabElement:function(c){$ElementList(this.aNaviLi).removeClass("nav_lon");
$Element(c).addClass("nav_lon");
var b="ctg."+$Element(c).attr("data-nCode");
nclk(c,b,"","",1)
},_onClickNavigationTab:function(b){var c=NaviTab;
c.setNavigationTabElement(b.element);
var d=c.welNaviUl.indexOf(b.element);
var f=SIM.getNaviTabIndex(c.nLastContentIndex);
if(d==f){nContentIndex=SIM.findNextContentIndexByTab(c.nLastContentIndex)
}else{nContentIndex=SIM.getContentIndex(d)
}c.nLastContentIndex=nContentIndex;
oFlicking.moveTo(nContentIndex,0);
b.stop()
}};
var HiddenManager={isHidden:function(){if($$(".id_hidden",CU.getCurrentPanel()).length>0){return true
}return false
},isScriptLoaded:function(){if(typeof nhn=="undefined"||typeof nhn.socialplugin=="undefined"){return false
}return true
},load:function(){var f=document.head?document.head:document.getElementsByTagName("head")[0];
var b=$('<link rel="stylesheet" type="text/css" href="/css/comment_w_20130814.css">');
f.appendChild(b);
var c=document.createElement("script");
c.src=("/js/c/hdn_20131223.min.js");
c.charset="utf-8";
f.appendChild(c)
}};
var Banner={init:function(){this.welAppUp=$Element("app_up");
var b=$Cookie().get("MM_APPUP");
if(!b&&this.isLowVer()&&this.welAppUp){this.welAppUp.show();
this._floatingLayer()
}},isLowVer:function(){var c=navigator.userAgent.match(/NAVER\(inapp; search; ([0-9]+)/);
var b=jindo.m.getDeviceInfo();
if(c&&((b.android&&parseInt(c[1],10)<=230)||(b.iphone&&parseInt(c[1],10)<320)||(b.ipad&&parseInt(c[1],10)<320))){return true
}return false
},_floatingLayer:function(){if(!jindo.m.useFixed()){this.appUpdateLayer=new jindo.m.FloatingLayer("app_up",{sPosition:"bottom",nSlideDuration:0,bUseHideUI:false,bUseFixed:true});
this.appUpdateLayer.attach("show",function(b){b.welLayer.$value().style.left=""
});
this.appUpdateLayer._oLayerPosition.attach("position",function(b){b.elLayer.style.left="";
b.elLayer.style.right="8px"
});
this.appUpdateLayer.show()
}},close:function(){$Cookie().set("MM_APPUP","1",365*10);
this.welAppUp.hide();
if(this.appUpdateLayer){this.appUpdateLayer.hide()
}}};
function prefixClick(c,b){if(c){nclk("",b,"","",1);
location.href=c;
return false
}return true
}var Logo={click:function(){$Cookie().remove("MM_S");
return nclk(this,"sch.logo","","")
}};
var HDN={init:function(){var b=jindo.m.getDeviceInfo();
if(b.iphone||b.ipad){$Element("hid_save").hide();
if(HDN.isSpecial()){$("hidden_law").innerHTML='<p class="hid_law">본 콘텐츠의 저작권은 네이버와 제공처에 있습니다.<br>본 카드는 애니메이션 효과가 반영되어 배경화면으로 저장하여 사용하시기 어렵습니다.</p>'
}else{$("hidden_law").innerHTML='<p id="hid_save_img" class="hid_save_img">이미지를 길게 눌러 저장 후 배경화면으로 사용하세요.</p><p class="hid_law">본 콘텐츠의 저작권은 네이버와 제공처에 있습니다.<br>저장 이후 배경화면 등의 개인적 사용은 가능하나, 상업적으로 무단 사용시 저작권법 등에 따라 법적책임을 질 수 있습니다.</p>'
}}this.SocialPlugin.init();
this.Comment.init()
},isSpecial:function(){if($$("[data-special]",CU.getCurrentPanel()).length>0){return true
}return false
},download:function(){var b=$Element("hid_save").attr("data-src");
b=b.replace("http://static.naver.net/www","/restimg");
location.href=b+"?p__g=i__n"
},destroy:function(){this.SocialPlugin.destroy();
this.Comment.destroy()
},SocialPlugin:{init:function(){var f=$Element($$.getSingle(".id_hidden .hid_wrap a")).attr("data-seq");
var c="http://m.naver.com/hd_sns.html?"+f;
var d=$Element($$.getSingle(".id_hidden .hid_a img")).attr("alt");
var b="쉼 (休)";
this.data={style:"m_standard",evkey:"mobilemain_hidden",servicename:b,title:d,source:c,me2key:"",tags:["네이버","쉼 (休)"],me2post:{display:"on"},bookmark:{display:"on",},postbtn:{display:"on"},copyurl:{display:"on",sourceUrl:""},memo:{display:"on",},calendar:{display:"on",},mail:{display:"on",},blog:{display:"on",blogId:"naver",sourceTitle:b,sourceType:"111",sourceContents:d,sourceForm:1},cafe:{display:"on",sourceTitle:b,sourceContents:d,sourceType:"111",sourceForm:1,},line:{display:"on",sourceUrl:""},kakaotalk:{display:"on",sourceUrl:""},band:{display:"on",sourceUrl:""}}
},toggle:function(){var b=$Element("spiLayer1");
if(b.child().length==0){HDN.SocialPlugin.instance=new SocialPlugIn();
HDN.SocialPlugin.instance.drawSpiLayer(HDN.SocialPlugin.data,"spiLayer1")
}if(!b.visible()){b.show();
$Element("spi_tgl").addClass("on");
setTimeout(function(){var d=b.height();
var c=b.offset().top;
var g=window.pageYOffset;
var f=window.innerHeight;
if(g+f<d+c){setTimeout(function(){window.scrollTo(0,d+c-f+6)
},100)
}},300);
nclk({},"hid.send","","")
}else{b.hide();
$Element("spi_tgl").removeClass("on");
nclk({},"hid.send","","")
}if(typeof oFlicking!="undefined"){CU.removeHeightCache(CU.getSectionName());
CU.updatePanelHeight()
}},destroy:function(){var b=$("spiLayer1");
if(b){var c=$Element(b);
c.hide();
$Element("spi_tgl").removeClass("on");
var d=c.child();
if(d.length){$ElementList(d).leave()
}CU.removeHeightCache("section_hidden_1")
}}},Comment:{init:function(){this.sTicket="main01";
this.sObjectId=$Element($$.getSingle(".id_hidden .hid_wrap a")).attr("data-seq");
this.updateCnt()
},updateCnt:function(){var b=$Ajax("/include/contents/hidden/"+this.sObjectId+".json",{method:"get",onload:function(g){var c=g.json();
if(c&&c.error&&c.error.no&&c.error.no!="0"){JEagleEyeClient.sendError("[COMMENT] fail to get count");
return
}if(c&&c.count_list&&c.count_list.length>0&&c.count_list[0]){var f=parseInt(c.count_list[0].count,10);
if(f.toString()!="NaN"&&f>0){var d=f.toString();
if(f>999){d="999+"
}$("cmt_cnt").innerHTML=d
}}}}).request()
},toggle:function(){var f=$Element("u_comment_box");
if(f.child().length==0){var d=window.nhn.comment.mobile.jindo||jindo;
var h=new nhn.comment.mobile.Controller();
h.setOptions({formation:["count","write","sort","bestList","list","listFooter","page"],enableMultiLine:true,isLogin:true,isAuth:true,pageSize:10,useMoreContent:false,useRecommendArea:true,useRecommendBtn:2,useRecommendBtnLevel:1,replyPageSize:10,listAsync:false,errorHandlers:{"409013":function(){alert("단체아이디로는 댓글 작성이 안됩니다")
}}});
h.setMessages({NO_CONTENTS:"리뷰 내용을 입력해 주세요.",NOT_AUTHENTICATED:"정보통신망법에 따라 게시판에 리뷰 작성 시 실명확인이 필요합니다.\n실명확인을 하시겠습니까?",NOT_LOGIN:"로그인이 필요한 서비스 입니다.\n로그인 하시겠습니까?"});
var j=h.create("#u_comment_box",HDN.Comment.sTicket,HDN.Comment.sObjectId);
h.addEventHandler(j,{afterList:function(l){if(typeof oFlicking!="undefined"){CU.updatePanelHeight()
}},afterWrite:function(l){if(typeof oFlicking!="undefined"){CU.updatePanelHeight()
}}});
h.initialize(j)
}if(!f.visible()){f.show();
$Element("cmt_tgl").addClass("on");
$Element("cmt_cnt").addClass("on");
var c=340;
var b=f.offset().top;
var i=window.pageYOffset;
var g=window.innerHeight;
if(i+g<c+b){setTimeout(function(){window.scrollTo(0,c+b-g)
},100)
}nclk({},"hid.cmt","","")
}else{f.hide();
$Element("cmt_tgl").removeClass("on");
$Element("cmt_cnt").removeClass("on");
nclk({},"hid.cmt","","")
}if(typeof oFlicking!="undefined"){CU.removeHeightCache(CU.getSectionName());
CU.updatePanelHeight()
}},destroy:function(){var b=$("u_comment_box");
if(b){var c=$Element(b);
c.hide();
$Element("cmt_tgl").removeClass("on");
$Element("cmt_cnt").removeClass("on");
var d=c.child();
if(d.length){$ElementList(d).leave()
}}},scrollToSort:function(){var b=$Element($$.getSingle("#u_comment_box .u_sort"));
var c=b.offset().top;
window.scrollTo(0,c)
}}};
var ContentsManager={init:function(){var c=this;
var d=d;
c.cacheSectionDataElement={};
var b=oFlicking.getPanels();
c.aPanel=b;
c._bRetry=true;
CM.replaceAllImgSrc();
for(var f=0;
f<b.length;
f++){var g=$Element(b[f]);
c.setCache(g)
}c._panelDataCheck()
},setCache:function(d){var b=d.query("[data-name]");
if(b){var c=b.attr("data-name");
if(c.search(/now/)<0){this.cacheSectionDataElement[c]=d.child()
}}},_panelDataCheck:function(){var b=this;
if(oFlicking.isActivating()){b._panelUpdate(oFlicking.getNextElement(),oFlicking.getNextIndex());
b._panelUpdate(oFlicking.getPrevElement(),oFlicking.getPrevIndex())
}},_panelUpdate:function(d,b){var c=SIM.getSectionName(b);
this.updatePanel(d,c,false)
},updatePanel:function(c,d,h,j){var m=this;
var n=m.cacheSectionDataElement[d];
if(n){if(!h&&n[0]){var g=n[0].query("#adw_da");
if(g){g.attr("id",null)
}}c.html("");
for(var f=0;
f<n.length;
f++){c.append(n[f])
}if(h){CU.afterUpdate(c,{nScrollY:j,bUpdate:h})
}oFlicking.fireEvent("updatepanel",{name:d,bUpdate:h})
}else{var b='<p class="load"><span class="imld">로딩중..</span></p>';
c.html(b);
var l=new $Ajax("include/now/"+d+".shtml"+location.search,{method:"get",timeout:10,onload:function(o){var i=o.text();
c.html(i);
Footer.append(c);
Card.forLowDevice(c,d);
if(h){CU.afterUpdate(c,{nScrollY:j,bUpdate:h})
}m._bRetry=true;
oFlicking.fireEvent("updatepanel",{name:d,bUpdate:h});
CM.replaceAllImgSrc();
m.setCache(c)
},onerror:function(){JEagleEyeClient.sendError("[CM] 판가져오기 오류 : "+d);
m._retry(c,d,h)
},ontimeout:function(){JEagleEyeClient.sendError("[CM] 판가져오기 타임아웃 : "+d);
m._retry(c,d,h)
}});
l.header({NV_UA_TYPE:gsUaType,NV_UA_FROM:isApp?"APP":"WEB",MM_LF:gsMM_LF,NV_BROWSER_TYPE:gsBrowserType});
l.request();
l=null
}},_retry:function(d,c,f){var b=this;
if(b._bRetry&&confirm("네트워크에 접속할 수 없습니다.\n네트워크 연결상태를 확인해 주세요.")){b.updatePanel(d,c,f);
b._bRetry=true
}else{b._bRetry=false
}},removeCache:function(b){var c=this;
var d=SIM.aSectionInfo[b].n;
c.cacheSectionDataElement[d]=""
},replaceImgSrc:function(b){if(b&&b.attr("src")&&b.attr("src").search("dthumb.phinf.naver.net")>=0){return
}var c=b.attr("data-src");
if(!c){return
}c=$S(c).trim().toString();
if(c=="http://static.naver.net/www/m/guide/dummy_1X1.jpg"){return
}if(c.indexOf("http://")!=0){return
}b.attr("src",c)
},replaceAllImgSrc:function(){var f=$ElementList($$("#ct img"));
for(var c=0,b=f.length();
c<b;
c++){var d=f.get(c);
this.replaceImgSrc(d)
}}};
var CM=ContentsManager;
var BottomNavigator={init:function(){this.fontSize=$Cookie().get("MM_FS");
this.updateFontViewButton()
},increaseFontSize:function(){if(this.fontSize=="fzoom2"){return
}var b="";
if(this.fontSize==null){this.fontSize="fzoom";
b="글자 크기가 커졌습니다."
}else{if(this.fontSize=="fzoom"){this.fontSize="fzoom2";
b="가장 큰 글자 크기 입니다."
}}this.setFontSize(b);
nclk({},"fct.large","","")
},decreaseFontSize:function(){if(this.fontSize==null){return
}var b="";
if(this.fontSize=="fzoom"){this.fontSize=null;
b="가장 작은 글자 크기입니다."
}else{if(this.fontSize=="fzoom2"){this.fontSize="fzoom";
b="글자 크기가 작아졌습니다."
}}this.setFontSize(b);
nclk({},"fct.small","","")
},setFontSize:function(c){var b=$Element(document.body);
b.removeClass("fzoom2").removeClass("fzoom");
switch(this.fontSize){case"fzoom2":b.addClass("fzoom2");
$Cookie().set("MM_FS","fzoom2",365);
break;
case"fzoom":b.addClass("fzoom");
$Cookie().set("MM_FS","fzoom",365);
break;
default:this.fontSize=null;
$Cookie().remove("MM_FS")
}this.updateFontViewButton(c);
CU.removeHeightCache();
CU.updatePanelHeight(10)
},showFontPopup:function(g){var b=this;
var h=oFlicking.getElement().query(".tol_mes");
if(g&&g!=""&&h){if(this.popupHideId){clearTimeout(this.popupHideId)
}var f=$Element(h);
var d=oFlicking.getElement().query(".tol").offset().top;
var c=$Element("ct").offset().top;
f.css({top:(d-c)+"px"});
f.html(g);
f.appear(0);
this.popupHideId=setTimeout(function(){f.disappear(0.1);
b.popupHideId=null
},1500);
window.scrollTo(0,document.body.scrollHeight)
}},updateFontViewButton:function(h){var c=this;
if(typeof oFlicking!="undefined"){try{var g=oFlicking.getElement().query(".tol_fs");
var b=oFlicking.getElement().query(".tol_fslic");
var f=oFlicking.getElement().query(".tol_fssic");
if(b&&f){b.attr("disabled",null);
f.attr("disabled",null);
if(this.fontSize==null){f.$value().setAttribute("disabled","disabled")
}else{if(this.fontSize=="fzoom2"){b.$value().setAttribute("disabled","disabled")
}}setTimeout(function(){c.showFontPopup(h)
},500)
}}catch(d){}this._nCount=0
}else{if(typeof this._nCount=="undefined"){this._nCount=0
}else{this._nCount++
}if(this._nCount<5){setTimeout(function(){c.updateFontViewButton()
},(this._nCount+1)*100)
}}}};
BN=BottomNavigator;
var Footer={init:function(){var b=this;
var c=SIM.aSectionInfo;
b.sFooter=$("footer").innerHTML;
b.sFot=$("fot").innerHTML;
b.nMaxPage=c.length;
b.update(oFlicking.getElement());
BN.init()
},append:function(d){var b=this;
var c=d.query(".fot");
if(!d.query(".hr_ld")){if(!c){d.appendHTML('<div class="footer">'+b.sFooter+"</div>");
d.appendHTML('<div class="fot">'+b.sFot+"</div>");
b.update(d);
CM.setCache(d)
}else{if(!c.visible()){$Element("footer").show();
c.show();
b.update(d)
}}}BottomNavigator.updateFontViewButton()
},update:function(b){this._updatePage(b,SIM.getContentIndexFromPanel(b));
this._updateTime(b)
},_updatePage:function(c,b){c.query(".fpg_n").html('<em class="fpg_non">'+(b+1)+"</em> / "+this.nMaxPage)
},_updateTime:function(f){var c=f.query(".tol_rfup");
if(c){var d=f.first().attr("data-createtime");
var b=d?$Date(d):$Date();
d=b.format("m.d A h:i");
d=d.replace("AM","오전").replace("PM","오후");
d="최신업데이트<br>"+d;
c.html(d)
}},prev:function(){var b="fpg_"+CU.getCurrentArea()+".p";
nclk(this,b,"","");
var c=oFlicking.getPrevIndex();
oFlicking.moveTo(c,0)
},next:function(){var b="fpg_"+CU.getCurrentArea()+".n";
nclk(this,b,"","");
var c=oFlicking.getNextIndex();
oFlicking.moveTo(c,0)
},refresh:function(){if(typeof CM!=="undefined"){var b=oFlicking.getContentIndex();
CM.removeCache(b);
CM.updatePanel(oFlicking.getElement(),CU.getSectionName(b),true,1)
}else{location.reload()
}nclk(this,"fct.rfresh","","",1)
},top:function(){setTimeout(function(){window.scrollTo(0,1)
},100);
nclk(this,"fct.top","","",1)
},logout:function(){nclk(this,"fot.logout","","");
if(confirm("로그아웃 하시겠습니까?")){location.replace("https://nid.naver.com/nidlogin.logout?svctype=262144&amp;url="+location.href)
}}};
function initFlicking(b){$ElementList($$(".flick-panel")).css("display","");
$ElementList($$(".flick-panel")).css("height","");
oFlicking=new jindo.m.Flicking("ct",{bUseCircular:true,sClassPrefix:"flick-",sContentClass:"panel",nTotalContents:b.length,nFlickThreshold:60,nDuration:170,bAutoResize:false}).attach({move:function(d){this._bAdjustPanelHeight=false;
var c=d.nContentsIndex;
NaviTab.setNavigationTab(c);
CM.updatePanel(this.getElement(),CU.getSectionName(c),true);
CM.updatePanel(this.getNextElement(),CU.getSectionName(this.getNextIndex()),false);
CM.updatePanel(this.getPrevElement(),CU.getSectionName(this.getPrevIndex()),false)
},beforeFlicking:function(c){if(gsUaType=="IOS"||gsUaType=="IPAD"){NaviTab.setNavigationTab(c.nContentsNextIndex)
}if(CU.isNowTab()){Card.initTopButton()
}},afterFlicking:function(h){this._bAdjustPanelHeight=false;
var d=h.nContentsIndex;
NaviTab.setNavigationTab(d);
CU.afterUpdate(this.getElement());
if(h.bLeft){CM.updatePanel(this.getNextElement(),CU.getSectionName(this.getNextIndex()),false);
var f=CU.getSectionName(this.getPrevIndex());
if(f.search("now")>0){CM.updatePanel(this.getPrevElement(),f,false)
}}else{CM.updatePanel(this.getPrevElement(),CU.getSectionName(this.getPrevIndex()),false);
var g=CU.getSectionName(this.getNextIndex());
if(g.search("now")>0){CM.updatePanel(this.getNextElement(),g,false)
}}var c="flk_"+CU.getCurrentArea()+(h.bLeft?".n":".p");
nclk({},c,"","")
},scroll:function(f){if(!this._bAdjustPanelHeight){CU.updatePanelHeight();
this._bAdjustPanelHeight=true
}if(CU.isNowTab()){var c=94;
var d=getScrollPos().scrollY;
Card.appearTopButton2()
}else{Card.hideTopButton2()
}},touchStart:function(d){var c=$Element(d.element);
if(c.isChildOf("rtk_flick")){d.stop();
return
}if(c.isChildOf("adw_da")){d.stop();
return
}}});
if(jindo.m.Component.VERSION=="1.10.0.MAIN"){oFlicking._oFlickingImpl._updateFlickInfo(getCookieContentsIndex(b),oFlicking.getElement())
}else{oFlicking._oFlickingAnimation._resetIndexInfo(getCookieContentsIndex(b),oFlicking.getElement())
}}function getCookieContentsIndex(c){var b=$Cookie().get("MM_S")||"section_news_1";
var d=0;
for(;
d<c.length;
d++){if(c[d].n==b){return d
}}setTimeout(function(){NaviTab.setNavigationTab(0)
},50);
return 0
}function initNoFlicking(b){oFlicking=new NoFlicking(b);
new jindo.m.ScrollEnd().attach({scrollEnd:function(){if(CU.isNowTab()){Card.appearTopButton()
}}})
}NoFlicking=function(b){this.aSectionInfo=b;
this.panel=$Element($$.getSingle("#ct .flick-panel"))
};
NoFlicking.prototype.isActivating=function(){return false
};
NoFlicking.prototype.getElement=function(){return this.panel
};
NoFlicking.prototype.getNextElement=function(){return this.panel
};
NoFlicking.prototype.getPrevElement=function(){return this.panel
};
NoFlicking.prototype.moveTo=function(b){NaviTab.setNavigationTab(b);
CM.updatePanel(this.panel,CU.getSectionName(b),true)
};
NoFlicking.prototype.moveNext=function(){var b=this.getNextIndex();
this.moveTo(b)
};
NoFlicking.prototype.movePrev=function(){var b=this.getPrevIndex();
this.moveTo(b)
};
NoFlicking.prototype.getContentIndex=function(){var g=this.panel.first();
var d=this.aSectionInfo;
for(var f=0,b=d.length;
f<b;
f++){var c=g.attr("data-name");
if(c==d[f].n){return f
}}return 0
};
NoFlicking.prototype.getPrevIndex=function(){var b=this.getContentIndex();
return(b>0)?b-1:this.aSectionInfo.length-1
};
NoFlicking.prototype.getNextIndex=function(){var b=this.getContentIndex();
return(b+1)%this.aSectionInfo.length
};
NoFlicking.prototype.attach=function(){};
NoFlicking.prototype.getPanels=function(){return $$("#ct .flick-panel")
};
NoFlicking.prototype.fireEvent=function(c,b){};
var RTK={oRtkFilciking:null,init:function(){var b=this;
b.cache={};
b.isFlMove=true;
jindo.m.bindRotate(function(){b.contractCard()
});
b.rolling()
},rolling:function(){var c=this;
var d=oFlicking.getElement().query(".rtk");
if(!d){return
}var f=d.query("ul");
var b=0;
if(CU.isNowTab()){c.contractCard()
}else{c.contract(false)
}c.oRtkFilciking=null;
c._bindRolling(f,b);
clearInterval(c.nTimeId);
c.nTimeId=setInterval(function(){b=(b+1)%10;
c._bindRolling(f,b)
},3000)
},_bindRolling:function(d,b){var c=this.getKeywordHtml(0,b);
c=c.replace(/rtkx_/g,"rtk_").replace(/rtk_new/g,"rtkx_new");
if(CU.isNowTab()){c=c.replace(/new\.klkw/g,"now.kwd")
}else{c=c.replace(/new\.klkw/g,"new.kwd")
}if(CU.isNowTab()){c=c.replace("sm=mtp_lve","sm=mtp_lcd")
}d.html(c)
},_initData:function(){var n=this;
var h=$$("#rtkx .rtk-flick-panel");
var g=$Element(h[0]);
var f=$Element(h[1]);
var d=$Element(h[2]);
n.cache={};
var m="";
for(var c=0;
c<10;
c++){m+=n.getKeywordHtml(0,c)
}var b="";
for(var c=0;
c<10;
c++){b+=n.getKeywordHtml(1,c)
}var l="ul.rtkx_u";
var j=".rtkx_btm > p";
g.query(l).html(m);
g.query(j).html(oRTK.s);
f.query(l).html(b);
oHTP.u=oHTP.u.replace(/11:00 PM/,"일간 종합");
f.query(j).html(oHTP.u);
d.html(f.html());
n.cache.rtk=g.html();
n.cache.hottopic=f.html()
},initFlicking:function(){var d=this;
if(!d.cache.rtk){d._initData()
}if(d.oRtkFilciking){d.oRtkFilciking.destroy();
d.oRtkFilciking=null;
$("rtk_flick").innerHTML='<div class="rtk-flick-container"><div class="rtk-flick-panel"></div><div class="rtk-flick-panel"></div><div class="rtk-flick-panel"></div></div>'
}var c=$$("#rtkx .rtk-flick-panel");
var b=$Element(c[0]);
var g=$Element(c[1]);
var f=$Element(c[2]);
b.html(d.cache.rtk);
g.html(d.cache.hottopic);
f.html(d.cache.hottopic);
d.oRtkFilciking=new jindo.m.Flicking("rtk_flick",{bUseCircular:true,sClassPrefix:"rtk-flick-",sContentClass:"panel",nTotalContents:4,nFlickThreshold:60,nDuration:250,bUseTimingFunction:false}).attach({afterFlicking:function(j){var i=j.nContentsIndex;
d.updateStatus(i);
d.updatePanel(i);
if(d.isFlMove){var h=j.bLeft?"new.kflne":"new.kflpr";
nclk({},h,"","")
}d.isFlMove=true
},move:function(i){var h=i.nContentsIndex;
d.updateStatus(h);
d.updatePanel(h)
}});
d.oRtkFilciking.moveTo(0)
},expand:function(){var b=this;
$Element("rtk").hide();
b.updateHeight();
this.updateStatus(0);
this.initFlicking();
$Element("rtkx").show();
window.scrollTo(0,$Element("rtkx").offset().top);
nclk({},"new.kmore","","")
},updateHeight:function(){var b=423;
$Element("rtk_flick").height(b);
CU.removeHeightCache(CU.getSectionName());
CU.updatePanelHeight()
},contract:function(b){$Element("rtkx").hide();
$Element("rtk").show();
CU.removeHeightCache(CU.getSectionName());
if(typeof b=="undefined"||b){CU.updatePanelHeight();
nclk({},"new.kclose","","")
}},expandCard:function(){if($("rtkxCard")){$Element("rtkxCard").show();
$Element("rtkCard").hide();
$ElementList($$("#rtkxCard .rtkx_u")).show()
}},contractCard:function(){if($("rtkxCard")){$Element("rtkxCard").hide();
$Element("rtkCard").show();
this.top5()
}},getKeywordHtml:function(m,c){var f;
var l;
var g;
if(m%2==0){f=oRTK.d[c];
l="mtp_lve";
g="new.klkw"
}else{f=oHTP.d[c];
l="mtp_htp";
g="new.khkw"
}var n='<li class="rtkx_l"> <a href="http://m.search.naver.com/search.naver?where=m&amp;sm={=SM}&amp;query={=E}" class="rtkx_a" onclick="nclk(this, \'{=NCLK}\', \'\', \'{=R}\');" > <span class="rtkx_n">{=R}</span> <span class="rtkx_t">{=K}</span> <span class="rtkx_pr"> {=ICO} </span></a></li>';
var d='<span class="sp_rtk sprh_rtkup">상승</span> <em class="rtkx_s">{=N}</em>';
var j='<span class="sp_rtk sprh_rtkdown">하락</span> <em class="rtkx_s">{=N}</em></span>';
var i='<span class="rtkx_new">new</span>';
var p='<span class="rtkx_none">-</span>';
var o="";
switch(f.c){case"up":o=d;
break;
case"dw":o=j;
break;
case"nw":o=i;
break;
case"sm":o=p;
break
}if(m%2==1&&f.c!="nw"){o=""
}var h=$Template(o).process({N:f.n});
var b=$Template(n).process({SM:l,E:encodeURIComponent(f.k),R:(c+1),NCLK:g,K:f.k,ICO:h});
return b
},prev:function(){this.isFlMove=false;
this.oRtkFilciking.movePrev();
nclk({},"new.kprev","","")
},next:function(){this.isFlMove=false;
this.oRtkFilciking.moveNext();
nclk({},"new.knext","","")
},move:function(b){this.oRtkFilciking.moveTo(b)
},updateStatus:function(b){b=b%2;
this._updateStatus("#rtkx .rtkx_tab_a","rtkx_tab_aon","",b);
this._updateStatus("#rtkx .rtkx_pgn .sp_rtk","sprh_pgnon","sprh_pgn",b)
},_updateStatus:function(b,g,d,c){var f=$$(b);
$ElementList(f).removeClass(g).addClass(d);
$Element(f[c]).removeClass(d).addClass(g)
},updatePanel:function(c){var b=this;
if(c%2==0){b.oRtkFilciking.getNextElement().html(b.cache.hottopic);
b.oRtkFilciking.getPrevElement().html(b.cache.hottopic)
}else{b.oRtkFilciking.getNextElement().html(b.cache.rtk);
b.oRtkFilciking.getPrevElement().html(b.cache.rtk)
}},top5:function(){var b=$$("#rtkxCard .rtkx_u");
b[0].style.display="block";
b[1].style.display="none";
var c=$$("#rtkxCard .tb_rank a");
c[0].className="on";
c[1].className=""
},top10:function(){var b=$$("#rtkxCard .rtkx_u");
b[0].style.display="none";
b[1].style.display="block";
var c=$$("#rtkxCard .tb_rank a");
c[0].className="";
c[1].className="on"
}};
var Dim=function(){var b=this;
b.fCallback=function(){};
b.welDim=$Element("dmm");
b.welDim.attach("touchstart",function(c){c.stop()
});
b.oDimTouch=new jindo.m.Touch("dmm");
b.oDimTouch.attach({touchStart:function(c){c.oEvent.stop()
},touchEnd:function(c){if(c.sMoveType=="vScroll"){c.stop()
}},hScroll:function(c){if(c.nVectorX<0){b.fCallback();
b.hide();
c.oEvent.stop()
}},vScroll:function(c){c.oEvent.stop()
},tap:function(d){var c=d.oEvent;
c.stop();
b.fCallback();
b.hide()
}});
jindo.m.bindRotate($Fn(this._onRotate,this).bind())
};
Dim.prototype._onRotate=function(){this.reset()
};
Dim.prototype.reset=function(){var b=this;
if(this.welDim.visible()){setTimeout(function(){b.welDim.css({height:document.body.offsetHeight+"px",marginTop:"-"+document.body.offsetHeight+"px"})
},200)
}return this.welDim
};
Dim.prototype.show=function(c){var b=this;
new jindo.m.Morph().pushCall(function(){b.welDim.css({height:document.body.offsetHeight+"px",marginTop:"-"+document.body.offsetHeight+"px"}).show()
}).pushAnimate(-1,[b.welDim,{"@opacity":0}]).pushAnimate(100,[b.welDim,{"@opacity":1}]).pushCall(function(){b.welDim.css({height:document.body.offsetHeight+"px",marginTop:"-"+document.body.offsetHeight+"px"})
}).play();
if(typeof c=="function"){this.setCallback(c)
}};
Dim.prototype.hide=function(){var b=this;
b.fCallback=function(){};
new jindo.m.Morph().pushCall(function(){b.welDim.css({height:document.body.offsetHeight+"px",marginTop:"-"+document.body.offsetHeight+"px"}).show()
}).pushAnimate(-1,[b.welDim,{"@opacity":1}]).pushWait(100).pushAnimate(100,[b.welDim,{"@opacity":0}]).pushCall(function(){b.welDim.css({height:document.body.offsetHeight+"px",marginTop:"-"+document.body.offsetHeight+"px"}).hide()
}).play()
};
Dim.prototype.setCallback=function(b){if(typeof b=="function"){this.fCallback=b
}};
oDim=new Dim();
var Extension={init:function(b){this._htInfo=b||{};
this._template={favoriteService:"<li data-code='{=SVCCODE}'><a href='{=URL}' class='sv_a' onclick='nclk(this,\"xpa.rwsvc\",\"{=SVCCODE}\",\"\");'><span class='sv_mw'><span class='imsv imsv78' style='background-position:{=POS_X}px {=POS_Y}px'></span>{if status=='new'}<span class='imh im_new3'>new</span>{elseif status=='up'}<span class='imh im_up'>UP</span>{/if}</span><em class='sv_t'>{=NAME}</em></a></li>",favoriteApp:"<li data-code='{=SVCCODE}'><a href=\"javascript:nclk(this,'xpa.rasvc','{=SVCCODE}','',1);APP.run('{=URL}','{=INSTALL}','{=PARAM}');\" class='sv_a'><span class='sv_mw'><span class='imsv imsv78' style='background-position:{=POS_X}px {=POS_Y}px'></span>{if status=='new'}<span class='imh im_new3'>new</span>{elseif status=='up'}<span class='imh im_up'>UP</span>{/if}</span><em class='sv_t'>{=NAME}</em></a></li>",bubbleCount:"<em class='{=TYPE}'><span class='imrd_in'>{=COUNT}</span></em>"};
this._migrateAppListCookie();
this.floatingLayer();
jindo.m.bindRotate($Fn(this._onRotate,this).bind());
$Element(window).attach("resize",$Fn(this._onRotate,this).bind());
this.initAjaxHistory();
if(location.search.search(/extension/)>=0&&document.referrer.search(/services_edit.html/)>=0){setTimeout(function(){Extension.show()
},500)
}},initApp:function(){this._migrateAppListCookie();
this.floatingLayer()
},_migrateAppListCookie:function(){var d,m,f;
var b=$Cookie().get("APP_LIST");
if(b){var n=$Cookie().get("SVC_LIST");
if(n){var g=n.split("@");
d=g.length
}else{d=0
}var o=b.split("@");
m=16-d;
f=Math.min(m,o.length);
if(f===0){$Cookie().remove("APP_LIST");
return
}var l=[];
for(var h=0;
h<f;
h++){var c=o[h].split(":");
var j=c[0];
if(j.substring(j.length-3)==="app"){l.push(c[0]+":2")
}else{l.push(c[0]+"app:2")
}}if(d===0){n=l.join("@")
}else{n=n+"@"+l.join("@")
}$Cookie().set("SVC_LIST",n);
$Cookie().remove("APP_LIST")
}},floatingLayer:function(){var b=this;
if(!jindo.m.useFixed()&&$("ham")){this.oExtBtnLayer=new jindo.m.FloatingLayer("ham",{sPosition:"bottom",nSlideDuration:0,bUseHideUI:false,bUseFixed:true});
Extension.oExtBtnLayer._oLayerPosition.attach("position",function(c){c.elLayer.style.left="6px"
});
Extension.oExtBtnLayer._htWElement.viewElement.css("zIndex",5000);
this.oExtBtnLayer.show()
}},initAjaxHistory:function(){var b=this;
b.oAjaxHistory=new jindo.m.AjaxHistory().attach({change:function(c){var d=$Json(c.htHistoryData).toObject();
if(d.aside=="hide"){b.hide()
}else{if(d.aside=="show"){b.show()
}}},load:function(c){b.oAjaxHistory.addHistory({aside:"hide"},true)
}});
this.oAjaxHistory.initialize()
},_onRotate:function(){var b=this;
this.updateScrollHeight();
setTimeout(function(){b.updateScrollHeight(450)
})
},updateScrollHeight:function(c){c=c?c:150;
var d=this;
var b=$Element("aside");
if(b&&d.bOpen){setTimeout(function(){d.resetScroll();
b.height(window.innerHeight)
},c)
}},resetScroll:function(){var c=this;
if(c.oScroll){var d=getScrollPos().scrollY;
$Element("aside").css("top",d+"px");
c.oScroll.height(window.innerHeight);
c.oScroll.scrollTo(0,0)
}else{var b=window.innerHeight;
c.oScroll=new jindo.m.Scroll("aside",{bUseHScroll:false,bUseVScroll:true,bUseMomentum:true,bUseScrollbar:false,nDeceleration:0.0005,nHeight:b,bAutoResize:false,nZIndex:5000}).attach({beforeTouchMove:function(f){f.oEvent.oEvent.stop(jindo.$Event.CANCEL_ALL)
},scroll:function(f){if(f.nDistanceX<-100){c.hide()
}}})
}setTimeout(function(){c.oScroll.refresh()
},100)
},show:function(){var c=this;
var b=$Element("aside");
if(!b){return
}if(b.html()){c._show()
}else{c._load()
}c.oAjaxHistory.addHistory({aside:"show"});
nclk({},"man.drawer","","")
},_show:function(){var b=this;
b._updateBookMark();
$Element("aside").offset(document.body.scrollTop,0);
b.resetScroll();
b.update();
b._showAni();
hamHide()
},_load:function(){var self=this;
var ajax=$Ajax("/sub/aside.shtml",{method:"get",timeout:3,onload:function(res){var sHtml=res.text();
if(self._htInfo.nick){sHtml=sHtml.replace("<!--NICK-->",self._htInfo.nick)
}$Element("aside").html(sHtml);
eval($("svc_data").innerHTML);
self._show()
},onerror:function(){JEagleEyeClient.sendError("[ASIDE] error")
},ontimeout:function(){JEagleEyeClient.sendError("[ASIDE] Timeout")
}});
var oHeader={NV_UA_TYPE:gsUaType,NV_UA_FROM:isApp?"APP":"WEB",NV_BROWSER_TYPE:gsBrowserType,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8",};
if(gisLogin){oHeader.NIDSESSION_MME_NOTI=self._htInfo.noti;
oHeader.NIDSESSION_MME_MAIL=self._htInfo.mail;
oHeader.NIDSESSION_MME_CAFE=self._htInfo.cafe
}ajax.header(oHeader);
ajax.request({uid:parseInt(Math.random()*10000000)});
ajax=null
},update:function(){this._updateFavoriteService();
if(gisLogin){this._updateProfileImage();
this._updateInfo();
this._updateMileage()
}},_showAni:function(){var b=this;
var d=jindo.m.useCss3d()?"translate3d(":"translate(";
var c=jindo.m.useCss3d()?",0px)":")";
$Element("aside").show();
new jindo.m.Morph({fEffect:jindo.m.Effect.cubicEaseOut}).pushCall(function(){oDim.show(b.hide)
}).pushAnimate(-1,[$("aside"),{"@transform":d+"-300px,0px"+c,"@left":"0px"}]).pushWait(100).pushAnimate(200,[$("aside"),{"@transform":d+"0,0"+c}]).play();
b.bOpen=true
},hide:function(){var b=this;
var d=jindo.m.useCss3d()?"translate3d(":"translate(";
var c=jindo.m.useCss3d()?",0px)":")";
new jindo.m.Morph().pushCall(function(){oDim.hide()
}).pushAnimate(150,[$("aside"),{"@transform":d+"-300px,0px"+c}]).pushCall(function(){$Element("aside").hide();
hamShow();
if(location.href.search("extension")>0){location.replace("/")
}}).play();
b.bOpen=false;
nclk({},"xpt.close","","")
},_updateInfo:function(){var b=this;
var c=$Ajax("/preview/index.json",{method:"get",timeout:3,onload:function(f){var d=f.json();
if(d&&d.result=="SUCCESS"){b._htInfo.noti=d.data.noti;
b._htInfo.mail=d.data.mail;
b._htInfo.note=d.data.note;
b._htInfo.mileage=d.data.mileage;
b._htInfo.nick=d.data.nick
}else{if(d.result=="FAIL"){return
}}b._updateNickName();
b._updateBubbleCount("noti");
b._updateBubbleCount("mail");
b._updateBubbleCount("note");
b._updateBubbleCount("mileage")
},ontimeout:function(){JEagleEyeClient.sendError("[Extension] _updateInfo() ajax timeout : "+sUrl)
},onerror:function(){JEagleEyeClient.sendError("[Extension] _updateInfo() ajax error : "+sUrl)
}});
c.request({uid:parseInt(Math.random()*10000000)})
},_updateNickName:function(){var b=$$.getSingle("#aside .sc_psn_a strong");
if(b&&this._htInfo.nick){b.innerHTML=this._htInfo.nick
}},_updateProfileImage:function(){var b="/contact_profile?size=s80";
var c=$Ajax(b,{method:"get",timeout:3,onload:function(f){var d=f.json();
if("SUCCESS"==d.code){$("ext_profile").src=d.data
}else{JEagleEyeClient.sendError("[Extension] _updateProfileImage() fail : "+d.failType)
}},ontimeout:function(){JEagleEyeClient.sendError("[Extension] _updateProfileImage() ajax timeout : "+b)
},onerror:function(){JEagleEyeClient.sendError("[Extension] _updateProfileImage() ajax error : "+b)
}});
c.request({uid:parseInt(Math.random()*10000000)});
c=null
},_updateFavoriteService:function(){var j=$Element("aside").queryAll("._fsvc");
var n=j[0];
var o=$Cookie().get("SVC_LIST");
if(o){if(j.length===2){j[1].leave()
}n.html("");
var g="";
var c=o.split("@");
for(var l=0;
l<c.length;
l++){var b=c[l].split(":")[0];
var f=parseInt(c[l].split(":")[1],10);
if(f===1){var m="WEB"
}else{var m="APP"
}var h=htServiceData[m][b];
if(!h){var d=(gbNaverApp||gbNaverInapp)?" in app":"";
JEagleEyeClient.sendError("[Extension] _updateFavoriteService() : No "+b+" data in favoriteService. OS: "+gsUaType+d);
continue
}g=g+this._getServiceHtml(m,b,h)
}n.html(g)
}if(c){$$.getSingle("#aside .asd_h3").innerHTML="자주가는 서비스"
}},_getServiceHtml:function(c,f,d){if(c==="WEB"){var b=$Template(this._template.favoriteService).process({SVCCODE:f,URL:d.url,POS_X:d.x,POS_Y:d.y,NAME:this._getDisplayName(d.name,d.name2,c),status:d.status})
}else{var b=$Template(this._template.favoriteApp).process({SVCCODE:f,URL:d.url,INSTALL:d.installUrl,PARAM:d.param,POS_X:d.x,POS_Y:d.y,NAME:this._getDisplayName(d.name,d.name2,c),status:d.status})
}return b
},_getDisplayName:function(b,f,d){var c;
if(f){c=b+"<br>"+f
}else{c=b
}if(d==="APP"){c=c+"앱"
}return c
},_updateBookMark:function(){if(gisLogin){Bookmark.hasNew(this._updateBookMarkCallback)
}},_updateBookMarkCallback:function(b){var c=$$("#aside .sc_psn_bubb a")[3];
if(b){c.innerHTML='<span class="im im_asd_bmk"></span><span>북마크</span><span class="imh im_new2">new</span>'
}else{c.innerHTML='<span class="im im_asd_bmk"></span><span>북마크</span>'
}},_updateBubbleCount:function(l){var b=parseInt(this._htInfo[l],10);
if(b===0){return
}var j=$Element("aside").query("._fsvc");
var g=function(m){var i={noti:"svc.newcommcast",mail:"svc.mail",note:"svc.note"};
return i[m]
};
var h=j.queryAll('[data-code="'+g(l)+'"]');
if(h.length>0){var c=this._getBubbleCountTemplate(b);
for(var d=0;
d<h.length;
d++){var f=$Element(h[d]).query(".imsv");
if(c){f.after($Element(c))
}else{f.html("")
}}}},_getBubbleCountTemplate:function(b){if(isNaN(b)){return""
}if(b<1){return""
}var c=(b>99)?"99+":b;
return'<div class="bubb3_wrp"><em class="bubb3"><span class="imrd_in">'+c+"</span></em></div>"
},toastClose:function(){if(this.oExtBtnLayer){$("ham").parentNode.style.width="56px"
}$Element("ham_toast").hide();
$Cookie().set("ham_toast_close2","1",14)
},_updateMileage:function(b){var c=$Element("mileage");
if(!c){return
}if(!b){b=c.html()
}c.html(b.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))
}};
var CommonApp={init:function(){this._APP_INSTALL_CONFIRM="네이버앱을 설치하거나\n업데이트하시면\n이용할 수 있습니다.\n설치하시겠습니까?";
this._APP_INSTALL_URL_IOS="http://itunes.apple.com/kr/app/id393499958?mt=8";
this._APP_INSTALL_URL_ANDROID="http://m.androidapp.naver.com/naverapp";
this.sNaverAppAndroidInstallUrl="com.nhn.android.search";
this.sNaverAppIosInstallUrl="http://itunes.apple.com/kr/app/id393499958?mt=8"
},runMusic:function(f){if(!gisMobile){alert("사용하고 계신 환경(OS)에서는 지원되지 않는 기능입니다.");
return
}var d="comnhncorpnavermusic";
var c="listen?version=3&trackIds="+f;
var b="http://itunes.apple.com/kr/app/id437760231?mt=8";
if(gsUaType=="ANDROID"){b="com.nhn.android.music"
}this.run(d,b,c)
},runShortcut:function(d,b,c){if(confirm("바로가기로\n추가하시겠습니까?")){this.run(d,b,c)
}},_install:function(){var c=new Date();
setTimeout($Fn(function(){if(new Date()-c<1500){if(confirm(APP._APP_INSTALL_CONFIRM)){if(gsUaType=="IOS"||gsUaType=="IPAD"){location.href=APP._APP_INSTALL_URL_IOS
}else{if(gsUaType=="ANDROID"){location.href=APP._APP_INSTALL_URL_ANDROID
}}}}},this).bind(),500)
},run:function(d,b,c){if(gsUaType=="ANDROID"){if(d.indexOf("appstore://")==0){this.runAndroidAppWithConfirm(d,b,c)
}else{this.runAndroidApp(d,b,c)
}}else{if(gsUaType=="IOS"||gsUaType=="IPAD"){this.runIosApp(d,b,c)
}}},runIosApp:function(g,c,f){if(typeof c=="undefined"||c==""){c=APP.sNaverAppIosInstallUrl
}if(typeof f=="undefined"){f=""
}var d="앱을 설치하시면\n이용할 수 있습니다.\n설치하시겠습니까?";
if(g=="naversearchapp"||g=="naversearchapp://"){d=APP._APP_INSTALL_CONFIRM
}var b=+new Date;
try{location.href=g+"://"+f
}catch(h){if(confirm(d)){location.href=g+"://"+f
}}naverAppCheckTimer=setTimeout(function(){if(+new Date-b<2000){location.href=c
}},500)
},runAndroidAppWithConfirm:function(g,c,f){if(typeof c=="undefined"||c==""){c=APP.sNaverAppIosInstallUrl
}if(typeof f=="undefined"){f=""
}var d="앱을 설치하시면\n이용할 수 있습니다.\n설치하시겠습니까?";
var b=+new Date;
try{$("applinkDiv").innerHTML="<iframe src='"+g+"' height='0' width='0' frameborder='0'></iframe>"
}catch(h){}naverAppCheckTimer=setTimeout(function(){if(+new Date-b<2000){if(confirm(d)){location.href=c
}}},500)
},runAndroidApp:function(d,b,c){if(typeof b=="undefined"||b==""){b=APP.sNaverAppAndroidInstallUrl
}if(typeof c=="undefined"){c="";
if(d=="naversearchapp"){c="default?version=5"
}else{if(d=="naverbooks"){c="default"
}}}var f;
if(d.search("12app")>0){f=d
}else{if(d.search("://")>0){f=d+c
}else{f="intent://"+c+"#Intent;scheme="+d+";action=android.intent.action.VIEW;category=android.intent.category.BROWSABLE;package="+b+";end"
}}location.href=f
}};
APP=CommonApp;
var LocalStorageManager={init:function(b){if(!window.localStorage){JEagleEyeClient.sendError("[LocalStorageManager] localStorage is not support");
return
}this.sCurrentTimeZone=this._getTimeZone(b);
this.sCurrentDate=b.substr(0,8);
this.sExpireDate=$Date($Date(b).time()+7*1000*60*60*24).format("Ymd");
this.removeExpiredKeys();
this._assignElements();
this._attachEvents()
},_assignElements:function(){this.welCT=$Element("ct")
},_attachEvents:function(){this.welCT.delegate("click",function(b,c){return(c.tagName=="a"||c.tagName=="A")
},$Fn(this.recordToLocalStorage,this).bind())
},_getTimeZone:function(c){var b=Number(c.substr(8,10));
if(b>=18){return"D"
}else{if(b>=12){return"C"
}else{if(b>=6){return"B"
}}}return"A"
},recordToLocalStorage:function(){var c=CU.getCurrentArea();
var d=0;
var b=LocalStorageManager.get("MM_NCLK_"+this.sCurrentTimeZone+"_"+this.sCurrentDate);
if(typeof b[c]!="undefined"){d=b[c]
}b[c]=++d;
LocalStorageManager.set("MM_NCLK_"+this.sCurrentTimeZone+"_"+this.sCurrentDate,b);
if(c.search(/lf/)==0){this.recordToCookie()
}},recordToCookie:function(){var c={};
for(var f=0;
f<window.localStorage.length;
f++){var q=window.localStorage.key(f);
if(q.indexOf("MM_NCLK_")!=0){continue
}try{var m=JSON.parse(window.localStorage.getItem(q));
var d=m.data;
for(var o in d){var h=o;
var g=d[o];
if(typeof c[h]=="undefined"){c[h]=g
}else{c[h]+=g
}}}catch(l){JEagleEyeClient.sendError("[LocalStorageManager] recordToCookie() - "+l)
}}var p=typeof c.lfl=="undefined"?0:Number(c.lfl);
var b=typeof c.lft=="undefined"?0:Number(c.lft);
var j=Math.max(p,b);
if(j>=20){var n="lf1-lf2";
if(b>p){n="lf2-lf1"
}$Cookie().set("MM_LFTAB",n,7)
}},_sectionCompare:function(l,j){var c=l.split("_");
var b=j.split("_");
var i=c[0];
var f=parseInt(c[1],10);
var g=b[0];
var d=parseInt(b[1],10);
var h=d-f;
return h
},set:function(d,f){var b={};
b.data=f;
b.expire=this.sExpireDate;
try{window.localStorage.setItem(d,JSON.stringify(b))
}catch(c){JEagleEyeClient.sendError("[LocalStorageManager] set() - "+c)
}},get:function(c){try{var d=window.localStorage.getItem(c);
if(d==null){return{}
}else{return JSON.parse(d).data
}}catch(b){JEagleEyeClient.sendError("[LocalStorageManager] get() - "+b);
return{}
}},removeExpiredKeys:function(){var c=[];
for(var f=0;
f<window.localStorage.length;
f++){var h=window.localStorage.key(f);
if(h.indexOf("MM_NCLK_")!=0){continue
}try{var d=JSON.parse(window.localStorage.getItem(h));
var g=d.expire;
if(this.sCurrentDate>g){c.push(h)
}}catch(j){JEagleEyeClient.sendError("[LocalStorageManager] removeExpiredKeys() - "+j)
}}for(var b in c){try{var h=c[b];
window.localStorage.removeItem(h)
}catch(j){JEagleEyeClient.sendError("[LocalStorageManager] removeExpiredKeys() - "+j)
}}}};
var Perf={init:function(){var b=this;
b.bShowing=false;
b.oDeviceInfo=jindo.m.getDeviceInfo();
b.bFirst=true;
b.bLowDevice=isLowDevice();
b.aExtraButton=[".cds_bundle",".ic_motion span",".cds_a",".cds_bmk"];
b.nDirect=0;
b.nLastScrollY=0;
b.nScrollTime=0;
b._attachEvent();
if(!CU.isNowTab()){b.setVisibleCards(0,b.getVisibleCardCount())
}},_attachEvent:function(){var b=this;
b.oScrollEnd=new jindo.m.ScrollEnd().attach("scrollEnd",function(c){if(CU.isNowTab()){if(!b.bFirst){b.setInvisibleCards()
}else{b.bFirst=false
}}var f=getScrollPos().scrollY;
var d=b.nLastScrollY-f;
if(d<0){b.nDirect=-1
}else{b.nDirect=1
}b.nLastScrollY=f;
if(CardAni){CardAni.isVisible()
}});
oFlicking.attach({updatepanel:function(c){if(CU.isNowTab()){b.setVisibleCards(0,14)
}else{b.setVisibleCards(0,b.getVisibleCardCount())
}},append:function(){b.setInvisibleCards(b.getVisibleCardCount(),14)
},scroll:function(c){var d=new Date().getTime();
if(b.oDeviceInfo.android&&(d-b.nScrollTime)>300){b.nScrollTime=d;
b.setInvisibleCards()
}}});
jindo.m.bindRotate(function(){b.setInvisibleCards()
});
if($("btn_top")){$Element("btn_top").attach("click",function(){b.setVisibleCards(0,b.getVisibleCardCount())
})
}},getVisibleCardCount:function(){var b=1;
var f=window.innerWidth;
var d=window.innerHeight;
var c=Math.ceil(d/300);
if(f>=630){b=2
}c=Math.max(c*b,4);
return c
},showBundle:function(){var o=this;
if(o.bShowing){return
}o.bShowing=true;
var f=$$("._MM_CARD");
var m=getScrollPos().scrollY;
var n=window.innerHeight*2;
var p=-200;
var l=false;
for(var h=0,j=f.length;
h<j;
h++){var c=f[h];
var g=c.getBoundingClientRect();
if((g.bottom>p||g.top>p)&&(g.top+p<n)){var l=true;
for(var d=0,b=o.aExtraButton.length;
d<b;
d++){o._showBundle($Element(c),o.aExtraButton[d])
}}else{if(l){break
}}}o.bShowing=false
},_showBundle:function(b,d){var c=$$(d,b);
if(c){$ElementList(c).css("display","")
}},hideBundle:function(){var c=this;
for(var b=0,d=c.aExtraButton.length;
b<d;
b++){$ElementList($$(c.aExtraButton[b])).hide()
}},setInvisibleCards:function(g,r){var s=this;
if(s._bSettingCard){return
}var q=s.getVisibleCardCount();
q=Math.max(q,10);
var d=Math.round((g||q));
var p=Math.round((r||q));
var c=$$("._MM_CARD");
var h=this.getFirstVisibleCard();
var n=Math.max(h-d,0);
var l=Math.min(h+p,c.length-1);
var b=l-n;
var o=this.getVisibleCardCount()*5;
if(b<o){if(this.nDirect>0){n-=20-b
}else{l+=20-b
}}n-=(n)%2;
l+=(l+1)%2;
if(n<0){l=l-n;
n=0
}if(l>c.length){n=n-(l-c.length);
this.EndCardIndex=c.length
}s._bSettingCard=true;
for(var j=0,m=c.length;
j<m;
j++){var f=$Element(c[j]);
if(j<n||j>l){s.setInvisibleCard(f)
}else{s.setVisibleCard(f)
}}s._bSettingCard=false;
s._monitorVisibleCard()
},setVisibleCards:function(g,f){var c=this;
var j=$$("._MM_CARD");
if(j.length==0){return
}f=Math.min(f,j.length-1);
for(var d=0,b=j.length;
d<b;
d++){var h=$Element(j[d]);
if(d<g||d>f){c.setInvisibleCard(h)
}else{c.setVisibleCard(h)
}}c._monitorVisibleCard()
},setVisibleCard:function(c){var b=c.first();
if(!b||b.css("display")!="none"){return
}c.$value().style.height="";
c.first().show("block")
},setInvisibleCard:function(d){var c=d.first();
if(!c||c.css("display")=="none"){return
}var b=d.height();
d.height(b);
d.first().hide()
},getFirstVisibleCard:function(){var f=$$("._MM_CARD");
for(var c=0;
c<f.length;
c++){var d=f[c];
var b=d.getBoundingClientRect().top;
if(b>0){return c
}}return f.length
},modifyStyle:function(){$ElementList($$(".cds_addition")).css("-webkit-transform","translateZ(0)")
},monitor:function(b){if(b){if($("dmonit")){$("dmonit").style.display="block"
}else{var c=document.createElement("DIV");
c.id="dmonit";
c.style.width="100%";
c.style.height="60px";
c.style.backgroundColor="#ff0";
c.style.zIndex=5000;
c.style.position="fixed";
c.style.overflowY="auto";
c.style.top="100px";
$Element("ct").prepend(c)
}}else{if($("dmonit")){$("dmonit").style.display="none"
}}},log:function(c){if($("dmonit")){var b=$("dmonit").innerHTML;
$("dmonit").innerHTML=b+","+c
}},_monitorVisibleCard:function(){if(!$("dmonit")){return
}var j=$$("._MM_CARD");
if(j.length==0){return
}var b=$Element(j[0]).first().visible();
var g=0;
var c=[1];
var h=[b];
for(var f=1;
f<j.length;
f++){var d=$Element(j[f]).first().visible();
if(b==d){c[g]++
}else{g++;
c[g]=1;
h.push(d);
b=d
}}}};
var Observer=function(b){this.nIdxInterval=1;
this.bActive=false;
this.htInfo={};
b=b||{};
this.htInfo.nMaxInterval=b.nMaxInterval||3;
this.htInfo.nIntervalTime=b.nIntervalTime||3000;
this.htInfo.bLoadingCheck=b.bLoadingCheck||false;
this.htInfo.bUpdateHeight=b.bUpdateHeight||false;
this.htInfo.bVisibleCard=b.bVisibleCard||false;
this._attachEvent()
};
Observer.prototype.start=function(){var b=this;
b.nIdxInterval=1;
if(b.bActive){return
}b.bActive=true;
b.nTimeId=setInterval(function(){if(b.nIdxInterval>=b.htInfo.nMaxInterval){b.stop()
}if(b.htInfo.bLoadingCheck){Card.onScrollEnd()
}if(b.htInfo.bUpdateHeight){CU.updatePanelHeight()
}if(b.htInfo.bVisibleCard){if($$("._MM_CARD").length>20){Perf.setInvisibleCards()
}}b.nIdxInterval++
},b.htInfo.nIntervalTime)
};
Observer.prototype.stop=function(){this.bActive=false;
clearInterval(this.nTimeId)
};
Observer.prototype._attachEvent=function(){var b=this;
oFlicking.attach({touchStart:function(c){b.start()
}})
};
var Card={init:function(){var c=this;
c.nPerPage=14;
c.welPanel=oFlicking.getElement();
c.bLowDevice=isLowDevice();
c._attachEvent();
c.bLoading=false;
c._bSendingLog=false;
c._oCardPosition={};
c._nMaxCardIdx=0;
c._bLastCard=false;
c._bAnimatingTopBtn=false;
c._floatingTopBtn();
var d=$Element("btn_top");
var b=jindo.m.getDeviceInfo();
c._oFadeInMorph=new jindo.m.Morph({bUseTransition:false}).pushAnimate(200,[d,{"@opacity":1}]).attach("end",function(){this.reset();
if(c._bAppearOnScrollEnd){c.disappearTopButton2(false);
c._bAppearOnScrollEnd=false
}}).attach("play",function(){});
c._oFadeOutMorph=new jindo.m.Morph({bUseTransition:false}).pushAnimate(400,[d,{"@opacity":0}]).attach("end",function(){this.reset()
}).attach("play",function(){});
if(!CU.isNowTab()){c.hideTopButton()
}c.putCardPosition();
Social.init();
Bookmark.init();
Music.init();
Weather.init();
if(CU.isNowTab()){c.afterAppend()
}this.forLowDevice(oFlicking.getElement(),CU.getSectionName(oFlicking.getContentIndex()));
(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame)(function(){});
c._bDisplayTopButton=false;
c._bWaitingTimer=false;
c._bMaxCardCount=false;
c._bAppearOnScrollEnd=false
},_attachEvent:function(){var c=this;
c.nTop=0;
var b=new jindo.m.ScrollEnd().attach("scrollEnd",function(d){if(!c.bLowDevice){c.onScrollEnd()
}if(CU.isNowTab()){if(c._bDisplayTopButton){if(c._isTopButtonArea()){c.disappearTopButton2(false)
}else{c.disappearTopButton2(true)
}}else{if(c._isTopButtonArea()){c.appearTopButton2(true)
}}}d.nDistanceY=c.nTop-d.nTop;
c.nTop=d.nTop;
if(Math.abs(d.nDistanceY)>10){c.sendLog(d)
}})
},_targetNewAnchor:function(){if(!isApp&&jindo.m.getDeviceInfo().android){var g=$$(".id_now a");
for(var d=0,b=g.length;
d<b;
d++){var c=g[d];
var f=c.href;
if(f.search("://")>=0||f.indexOf("/")==0){c.setAttribute("target","_naver_now")
}}}},_getMetaInfo:function(){return $Element($$.getSingle("._cardInfo"))||$Element($$.getSingle("div[data-name]"))
},getCurPage:function(){var b=this._getMetaInfo();
var c=1;
if(b){c=parseInt(b.attr("data-curpage"),10)
}return c
},getCardCount:function(){var b=this._getMetaInfo();
return parseInt(b.attr("data-count"),10)
},setCurpage:function(c){var b=this._getMetaInfo();
b.attr("data-curpage",c)
},getMaxPage:function(){var c=this._getMetaInfo();
var b=1;
if(c){b=Math.ceil(parseInt(c.attr("data-count"),10)/this.nPerPage)
}return b
},getRevision:function(){var b=this._getMetaInfo();
if(b){return b.attr("data-rev")
}return null
},isLastCard:function(){var d=this._getMetaInfo();
var b=parseInt(d.attr("data-count"),10);
var c=$$("._MM_CARD").length;
if(c>=b){this._bMaxCardCount=true;
return true
}return false
},_removeCard:function(g,d){var f=$Element("ct");
for(var c=d,b=g.length;
c<b;
c++){f.remove(g[c])
}},forLowDevice:function(h,f){if(this.bLowDevice&&f.search(/now/)>0){var g=$$("._MM_CARD");
var d=6;
this._removeCard(g,d);
var i=(location.search)?location.search+"&from="+d:"?from="+d;
var c="/card/"+this.getRevision()+"/"+CU.getSectionName().split("_")[2]+i;
var b='<div class="mcds mcds_more"><section><div class="ctm"><ul class="ctm_u"><li class="ctm_l"><a href="'+c+'" class="ctm_a">NOW 더보기 <span class="sprh sprh_arr_cont"></span></a></li></ul></div></section></div>';
this.removeLoading();
if(!this.isLastCard()&&!h.query(".mcds_more")){h.query(".wrap").appendHTML(b)
}this._appendLastPage(h)
}},onScrollEnd:function(){var b=this;
if(CU.isNowTab()){var c=$$.getSingle(".hr_ld");
if(c&&c.getBoundingClientRect().top<window.innerHeight&&!b.bLoading){b.loadingAnimation(true);
b.append(b.welPanel)
}}},removeLoading:function(){var b=$$(".hr_ld");
var d=this.welPanel;
for(var c=0;
c<b.length;
c++){d.remove(b[c])
}},append:function(i){var b=this;
var d=CU.getSectionName();
var h=b.getRevision();
if(!h){JEagleEyeClient.sendError("[Card] Revision is null");
return
}b.bLoading=true;
if(this.isLastCard()){b._appendLastPage(i);
b.bLoading=false;
return
}var g=$$("._MM_CARD").length;
var c="/nvcard?card="+h+"/"+d+"&cnt="+b.nPerPage+"&from="+g;
var f=new $Ajax(c,{method:"get",timeout:10,onload:function(j){b.removeLoading();
var m=i.query(".wrap")||i;
var n=j.text();
if(n.search("ic_ld")<0){n+='<div class="hr_ld"><span class="ic_ld">로딩중</span></div>'
}m.appendHTML(n);
var l={bScrollTop:false};
b.afterAppend();
b.putCardPosition();
b.bLoading=false;
oFlicking.fireEvent("append")
},onerror:function(){b.bLoading=false;
console.error("카드 읽기 에러");
b._retryAppend(i,"네트워크에 접속할 수 없습니다.\n네트워크 연결상태를 확인해 주세요.")
},ontimeout:function(){b.bLoading=false;
console.error("카드 읽기 타임아웃");
b._retryAppend(i,"네트워크에 접속할 수 없습니다.\n네트워크 연결상태를 확인해 주세요.")
}});
f.header({NV_UA_TYPE:gsUaType});
f.request();
f=null
},afterAppend:function(){this.welPanel=oFlicking.getElement();
if(this.isLastCard()){this._appendLastPage(this.welPanel)
}CM.replaceAllImgSrc();
this._targetNewAnchor();
CU.updatePanelHeight(500);
Bookmark.update();
Card.putCardPosition();
if(CardAni){CardAni.init(this.welPanel)
}},loadingAnimation:function(c){var b=$Element($$.getSingle(".ic_ld"));
if(!b){return
}if(c){b.css("background","url(http://static.naver.net/www/m/2013/ld.gif) 0 0 no-repeat").css("-webkit-background-size","29px 29px").css("background-size","29px 29px")
}else{b.css("background","url(http://static.naver.net/www/m/2013/ld.jpg) 0 0 no-repeat").css("-webkit-background-size","29px 29px").css("background-size","29px 29px")
}},_retryAppend:function(c,b){if(confirm(b)){this.append(c)
}},_appendLastPage:function(d){var b=this;
this.removeLoading();
var c=d.query(".footer");
if(!(c&&c.visible())){if(b.isLastCard()&&!d.query(".txt_last")){d.query(".wrap").appendHTML('<p class="txt_last">이 카테고리 내 마지막 콘텐츠 입니다.</p>');
if(!b._bLastCard){b._sendLog("isLastCard",b.getCardCount());
b._bLastCard=true
}}b._appendFooter(d)
}},_appendFooter:function(g){var b=this;
var f=g.query(".footer");
if(!g.query(".ftip")){var c="/include/service2013/notice/"+((isApp)?"APP":"WEB")+"_"+((gsUaType=="IOS"||gsUaType=="IPAD")?"IOS":"ANDROID")+"_NOW.html";
var d=new $Ajax(c,{method:"get",timeout:3,onload:function(h){if($("ftip")){$("ftip").innerHTML=h.text()
}else{g.appendHTML(h.text())
}Footer.append(g);
CU.updatePanelHeight(50)
},ontimeout:function(){Footer.append(g);
CU.updatePanelHeight(50)
},onerror:function(){Footer.append(g);
CU.updatePanelHeight(50)
}}).request();
d=null
}else{Footer.append(g);
CU.updatePanelHeight(50)
}},getMetaData:function(c){var d=$Element(c).parent(function(f){return f.hasClass("_MM_CARD")
},10);
var b=$Element(d[0]);
return b
},_floatingTopBtn:function(){var b=this;
if(!jindo.m.useFixed()&&$("btn_top")){this.oTopBtnLayer=new jindo.m.FloatingLayer("btn_top",{sPosition:"bottom",nSlideDuration:0,bUseHideUI:false,bUseFixed:true});
Card.oTopBtnLayer._oLayerPosition.attach("position",function(c){c.elLayer.style.width="41px";
c.elLayer.style.height="54px";
c.elLayer.style.left="";
c.elLayer.style.right="10px"
});
this.oTopBtnLayer.show();
$("btn_top").parentNode.style.zIndex=2000;
if(!CU.isNowTab()){b.disappearTopButton(0)
}}},appearTopButton:function(){var b=this;
var d=50;
var c=$Element("btn_top");
if(!c){return
}if(!CU.isNowTab()){if(b.oTopBtnMorph){b.oTopBtnMorph.pause()
}b.hideTopButton();
return
}if(b._bAnimatingTopBtn){return
}if(b.oTopBtnLayer){$("btn_top").parentNode.style.width="41px"
}var f=getScrollPos().scrollY;
if(f>d){if(b.oTopBtnMorph&&b.oTopBtnMorph.isPlaying()){b.oTopBtnMorph.reset().play()
}else{b.oTopBtnMorph=new jindo.m.Morph({fEffect:jindo.m.Effect.cubicEaseOut}).attach({play:function(){b._bAnimatingTopBtn=true
},end:function(){b._bAnimatingTopBtn=false
}}).pushCall(function(){if(CU.isNowTab()){c.show().appear()
}}).pushWait(3000).pushCall(function(){b.disappearTopButton(0.1)
}).play()
}}else{b.hideTopButton()
}},disappearTopButton:function(f){var c=this;
var d=$Element("btn_top");
if(!d){return
}var b=f||0;
d.appear();
d.disappear(b,function(){d.hide();
if(c.oTopBtnLayer){$("btn_top").parentNode.style.width="0px"
}})
},hideTopButton:function(){var b=$Element("btn_top");
if(!b){return
}b.hide()
},showTopButton:function(){var b=$Element("btn_top");
if(!b){return
}b.show()
},nowTop:function(){if(!$("btn_top")){return
}this.disappearTopButton(0.1);
window.scrollTo(0,1);
nclk({},"now.top","","")
},appearTopButton2:function(b){var c=$Element("btn_top");
if(!c){return
}if(this._isTopButtonArea()){if(this._bWaitingTimer){this._bWaitingTimer=false
}if(!this._bDisplayTopButton){this._oFadeInMorph.play();
this._bDisplayTopButton=true;
if(b){this._bAppearOnScrollEnd=true
}}}else{if(this._bDisplayTopButton){this.disappearTopButton2(true)
}}},disappearTopButton2:function(f){var c=this;
var h=$Element("btn_top");
var g=jindo.m.getOsInfo();
if(!h){return
}if(f){if(c._oFadeInMorph.isPlaying()){c._oFadeInMorph.pause();
c._oFadeInMorph.reset()
}c._bDisplayTopButton=false;
if(g.ios){setTimeout(function(){h.css("opacity",0)
},300)
}else{h.css("opacity",0)
}}else{var b=3;
function d(){if(!c._bWaitingTimer){b=3;
h.css("opacity",1);
return
}b=b-0.25;
if(b===0){c._bDisplayTopButton=false;
c._bWaitingTimer=false;
c._oFadeOutMorph.play()
}else{setTimeout(function(){d()
},250)
}}c._bWaitingTimer=true;
setTimeout(function(){d()
},250)
}},_isTopButtonArea:function(){var b=94;
var d=getScrollPos().scrollY;
if(this._bMaxCardCount){var c=this.welPanel.query(".tol_top").offset().top;
if(d+window.innerHeight>=c||d<b){return false
}else{return true
}}else{if(d>=b){return true
}else{return false
}}},hideTopButton2:function(){var b=$Element("btn_top");
if(!b){return
}b.css("opacity",0)
},nowTop2:function(){if(!$("btn_top")){return
}this.disappearTopButton2(true);
window.scrollTo(0,1);
nclk({},"now.top","","")
},initTopButton:function(){if(CU.isNowTab()){this.showTopButton()
}else{this.hideTopButton()
}if(this._oFadeInMorph.isPlaying()){this._oFadeInMorph.pause();
this._oFadeInMorph.reset()
}if(this._oFadeOutMorph.isPlaying()){}this._bDisplayTopButton=false;
this._bWaitingTimer=false;
this._bMaxCardCount=false
},putCardPosition:function(){var c=this;
if(CU.isNowTab()){var j=$$("._MM_CARD");
var g=CU.sCurrSectionName;
if(!c._oCardPosition[g]){c._oCardPosition[g]=[]
}var h=c._oCardPosition[g].length;
for(var d=h,b=j.length;
d<b;
d++){var f=j[d].offsetTop;
c._oCardPosition[g].push(f)
}}},sendLog:function(f){if(!CU.isNowTab()){return
}var c=this;
if(c._bSendingLog){return
}c._bSendingLog=true;
var g=CU.sCurrSectionName;
var b=getScrollPos().scrollY;
if(Math.abs(f.nDistanceY)>10){c._sendLog("distance",f.nDistanceY)
}var d=c._getVisibleCardIndex(getScrollPos().scrollY);
if(c._nMaxCardIdx<d){c._nMaxCardIdx=d;
c._sendLog("cardIdx",d)
}c._bSendingLog=false
},_sendLog:function(d,f){var g=this.setSession();
var b=getScrollPos();
var c={};
c.sid=g;
c.idx=f;
c.height=window.innerHeight;
c.width=window.innerWidth;
c.posY=b.scrollY;
CH.go("MSDT.scroll."+d,c)
},_getVisibleCardIndex:function(g){var d=0;
var f=CU.sCurrSectionName;
var c=this._oCardPosition[f];
if(!c){return -1
}var b=c.length;
g=parseInt(g,10);
for(;
d<b;
d++){if(g+(window.innerHeight/2)<c[d]){return d
}}return b-1
},setSession:function(){var b=$Cookie().get("MM_NSS");
if(!b){b=new Date().getTime()
}$Cookie().set("MM_NSS",b.toString(),1/24/60*10);
return b
},nclk:function(c,d,g,f,b){if(CU.getSectionName()=="section_now_2"){d+="_hits"
}nclk(c,d,g,f,b)
}};
var CardAni={init:function(c){var b=$$("._ani",c);
if(!b||b.length==0){return
}nhn.hdAni.init(b);
if(!isLowDevice()){setTimeout(function(){nhn.hdAni.set(true)
},10)
}},isVisible:function(){var b=$$.getSingle("._ani_card");
if(b){if(b.getBoundingClientRect().top>0||b.getBoundingClientRect().bottom>0){nhn.hdAni.set(true)
}else{nhn.hdAni.set(false)
}}},stopAll:function(){nhn.hdAni.set(false)
},startAll:function(){nhn.hdAni.set(true)
},stop:function(b){var c=b.el;
if(c&&c.hasClass("_ani_card")){alert(0);
nhn.hdAni.set(false)
}},start:function(b){var c=b.el;
if(c&&c.hasClass("_ani_card")){alert(1);
nhn.hdAni.set(true)
}}};
var Bookmark={init:function(){this._isAnimating=false;
this.sApiDomain="http://api.bookmark.naver.com";
this._assignElements();
this._attachEvents();
this.update()
},_assignElements:function(){this.welCT=$Element("ct");
this.welBookmarkButton
},_attachEvents:function(){if(this.welCT){this.welCT.delegate("click","._MM_BOOKMARK",$Fn(this._onClickBookmarkButton,this).bind())
}},_onClickBookmarkButton:function(b){b.stop($Event.CANCEL_DEFAULT);
if(this._isAnimating){return
}if(!gisLogin){location.href="https://nid.naver.com/nidlogin.login?svctype=262144";
return
}this.welBookmarkButton=$Element(b.element).first();
var f=this.welBookmarkButton.hasClass("im_bmk_on")?true:false;
var d=$Element(b.element).parent(function(g){return g.hasClass("_MM_CARD")
},10);
var c=d[0];
if(f){this.remove(c)
}else{this.add(c)
}},_getBookmarkData:function(){var b=window.localStorage.getItem("bookmark");
if(b){return JSON.parse(b)
}else{return
}},update:function(){if(!window.localStorage){return
}if(!$$.getSingle("._MM_CARD")){return
}var l=$Element($$.getSingle("._cardInfo"))||$Element($$.getSingle("div[data-rev]"));
if(!l){return
}var b=l.attr("data-time");
if(!b){return
}this.deleteFromStorage(function(o,n,i){if(!o.time){return false
}var q=parseInt(b.substring(0,8),10);
var p=parseInt(o.time,10);
return(p+1<q)?false:true
});
var g=this._getBookmarkData();
if(g){var m=[];
for(var d in g){var f=g[d];
var c=$$("._MM_CARD");
for(var d in c){var j=$Element(c[d]);
var h=$$.getSingle(".cds_bmk span",j);
if(h&&j.attr("data-url")==f.url){j.attr("data-urlid",f.urlId);
$Element(h).className("imh im_bmk_on")
}}}}},add:function(i){var l=i.attr("data-title");
var b=i.attr("data-url");
this._isAnimating=true;
var g=i.query(".cds_bmk span").$value();
var c="bookmark_"+Math.floor(Math.random()*1000);
g.id=c;
var d=new jindo.m.Bookmark(c,"bookmarkPopup",false).attach({on:function(m){Bookmark._isAnimating=false
},off:function(m){Bookmark._isAnimating=false
}});
var h="북마크 추가에 실패하였습니다.";
var f=this.sApiDomain+"/mainapi2/bookmark/add.nhn";
var j=$Ajax(f,{type:"jsonp",timeout:5,onload:function(m){var n=m.json();
if(n.code==0){var o=n.result.urlId;
Bookmark.addToStorage(o,b,i.attr("data-time"));
i.attr("data-urlid",o);
d.on()
}else{alert(h);
console.error("북마크 추가 실패 - "+n.desc);
Bookmark._isAnimating=false
}},ontimeout:function(m){JEagleEyeClient.sendError("[Bookmark] add() ajax timeout : "+f);
alert(h);
Bookmark._isAnimating=false
},onerror:function(m){JEagleEyeClient.sendError("[Bookmark] add() ajax error : "+f);
alert(h);
Bookmark._isAnimating=false
}}).request({title:l,url:b});
j=null
},remove:function(d){var i=d.attr("data-urlid");
this._isAnimating=true;
var f=d.query(".cds_bmk span").$value();
var b="bookmark_"+Math.floor(Math.random()*1000);
f.id=b;
var h=new jindo.m.Bookmark(b,"bookmarkPopup",true).attach({on:function(j){Bookmark._isAnimating=false
},off:function(j){Bookmark._isAnimating=false
}}).off();
h=null;
var c=this.sApiDomain+"/mainapi2/bookmark/delete.nhn";
var g=$Ajax(c,{type:"jsonp",timeout:5,onload:function(j){var l=j.json();
Bookmark.deleteFromStorage(function(o,n,m){return(o.urlId==i)?false:true
});
d.attr("data-urlid",null)
},ontimeout:function(j){JEagleEyeClient.sendError("[Bookmark] remove() ajax timeout : "+c)
},onerror:function(j){JEagleEyeClient.sendError("[Bookmark] remove() ajax error : "+c)
}}).request({urlIds:"["+i+"]"});
g=null
},addToStorage:function(g,c,b){if(!window.localStorage){return
}var f={urlId:g,url:c,time:b};
var d=this._getBookmarkData();
if(!d){d=[]
}d.push(f);
window.localStorage.setItem("bookmark",JSON.stringify(d))
},deleteFromStorage:function(d){if(!window.localStorage){return
}var c=this._getBookmarkData();
if(c){var b=$A(c);
if(b&&b.length()>0){var f=b.filter(d).$value();
window.localStorage.setItem("bookmark",JSON.stringify(f))
}}},hasNew:function(f){var b=this;
var c=this.sApiDomain+"/mainapi2/bookmark/hasNew.nhn";
var d=new $Ajax(c,{type:"jsonp",timeout:5,onload:function(g){var h=g.json();
if(h.code=="0"){f(h.result)
}else{JEagleEyeClient.sendError("[Bookmark] hasNew fail : "+h.code+" - "+h.desc)
}},ontimeout:function(){JEagleEyeClient.sendError("[Bookmark] hasNew ajax timeout : "+c)
},onerror:function(){JEagleEyeClient.sendError("[Bookmark] hasNew ajax error : "+c)
}}).request()
}};
jindo.m.Bookmark=jindo.$Class({$init:function(c,b,d){this._initVar(d);
this._oMorph=new jindo.m.Morph({fpEffect:jindo.m.Effect.easeOut,useTransition:jindo.m.useTimingFunction()});
this._initElement(c,b)
},_initVar:function(b){this._oMorph=null,this._htTans=jindo.m.useCss3d()?{open:"3d(",end:",0px)"}:{open:"(",end:")"},this._isAndroid=jindo.m.getOsInfo().android,this._isUnderMode=this._isAndroid&&jindo.m.getOsInfo().version<"4.0",this._isOnStatus=b,this._htWel={}
},_initElement:function(d,c){this._htWel.btn=jindo.$Element(d);
this._htWel.popup=jindo.$Element(c);
this._htWel.AniWrapper=jindo.$Element(jindo.$$.getSingle(".__bookmarkWrapper__"));
if(!this._htWel.AniWrapper){this._htWel.AniWrapper=jindo.$Element("<div class='__bookmarkWrapper__'>");
this._htWel.AniBtn=jindo.$Element(this._htWel.btn.$value().cloneNode(true));
this._htWel.AniBtn.attr("id",null);
var b={width:this._htWel.btn.width()+"px",height:this._htWel.btn.height()+"px",position:"absolute",zIndex:1,display:"none"};
if(!this._isUnderMode){b.perspective=(this._htWel.btn.height())+"px"
}this._htWel.AniWrapper.css(b);
this._htWel.AniBtn.cssClass({im_bmk_on:true,im_bmk_off2:false}).css({transformOrigin:"50% 50%",transform:this._getTranslate(0,0)+" scaleX(1) scaleY(1)"});
this._htWel.AniWrapper.append(this._htWel.AniBtn);
document.body.appendChild(this._htWel.AniWrapper.$value())
}else{this._htWel.AniBtn=this._htWel.AniWrapper.first()
}},_getTranslate:function(c,b){return"translate"+this._htTans.open+c+"px,"+b+"px"+this._htTans.end
},on:function(){if(this._oMorph.isPlaying()||this._isOnStatus){return
}var b=this;
this._oMorph.option("fpEffect",jindo.m.Effect.easeOut);
this._oMorph.pushCall(function(){var c=b._htWel.btn.offset();
b._htWel.AniBtn.cssClass({im_bmk_on:true,im_bmk_off:false});
b._htWel.AniWrapper.css({left:c.left,top:c.top,display:"block"});
b._htWel.popup.css({display:"block",opacity:"0.1",top:parseInt((window.innerHeight-134)/2,10)+jindo.$Document().scrollPosition().top,transitionProperty:"transform",transform:b._getTranslate(0,0)+" scaleX(0.85) scaleY(0.85)"});
b._htWel.popup.query("span.imh").cssClass({im_bmk_on2:true,im_bmk_off2:false,});
b._htWel.popup.query("p").html("북마크 되었습니다.")
}).pushAnimate(-1,[b._htWel.AniBtn,{"@transitionProperty":"transform opacity","@transform":b._getTranslate(0,-40)+" scaleX(1.4) scaleY(1.4)"+(!b._isUnderMode?" rotateX(45deg)":""),"@opacity":0.1}]).pushAnimate(this._isAndroid?300:200,[b._htWel.AniBtn,{"@transitionProperty":"transform","@transform":b._getTranslate(0,0)+" scaleX(1) scaleY(1)"+(!b._isUnderMode?" rotateX(0deg)":""),},b._htWel.popup,{"@opacity":1,"@transitionProperty":"transform","@transform":b._getTranslate(0,0)+" scaleX(1) scaleY(1)"}]).pushCall(function(){b._htWel.btn.cssClass({im_bmk_on:true,im_bmk_off:false})
}).pushWait(500).pushCall(function(){b._oMorph.option("fpEffect",jindo.m.Effect.easeInOut)
}).pushAnimate(300,[b._htWel.popup,{"@opacity":0,"@transitionProperty":"transform","@transform":b._getTranslate(0,0)+" scaleX(0.85) scaleY(0.85)"}]).pushCall(function(){b._htWel.popup.css({display:"none"});
b._htWel.AniWrapper.css({display:"none"});
b._isOnStatus=true;
b.fireEvent("on",{wel:b._htWel.btn})
}).play()
},toggle:function(){if(this._isOnStatus){this.off()
}else{this.on()
}},off:function(){if(this._oMorph.isPlaying()||!this._isOnStatus){return
}var b=this;
this._oMorph.option("fpEffect",jindo.m.Effect.easeInOut);
this._oMorph.pushCall(function(){var c=b._htWel.btn.offset();
b._htWel.AniBtn.cssClass({im_bmk_on:true,im_bmk_off:false}).css({transitionProperty:"transform opacity",transform:b._getTranslate(0,0)+" scaleX(1) scaleY(1)"+(!b._isUnderMode?" rotateX(0deg)":""),opacity:1});
b._htWel.AniWrapper.css({left:c.left,top:c.top,display:"block"});
b._htWel.btn.cssClass({im_bmk_on:false,im_bmk_off:true});
b._htWel.popup.css({display:"block",opacity:0,top:parseInt((window.innerHeight-134)/2,10)+jindo.$Document().scrollPosition().top,transitionProperty:"transform",transform:b._getTranslate(0,0)+" scaleX(0.85) scaleY(0.85)"});
b._htWel.popup.query("span.imh").cssClass({im_bmk_on2:false,im_bmk_off2:true,});
b._htWel.popup.query("p").html("북마크가<br>해제 되었습니다.")
}).pushAnimate(-1,[b._htWel.AniBtn,{"@transitionProperty":"transform opacity","@transform":b._getTranslate(0,0)+" scaleX(1) scaleY(1)"+(!b._isUnderMode?" rotateX(0deg)":""),"@opacity":1}]).pushAnimate(300,[b._htWel.AniBtn,{"@transitionProperty":"transform","@transform":b._getTranslate(0,-40)+" scaleX(1.4) scaleY(1.4)"+(!b._isUnderMode?" rotateX(40deg)":""),"@opacity":0.1},b._htWel.popup,{"@opacity":1,"@transitionProperty":"transform","@transform":b._getTranslate(0,0)+" scaleX(1) scaleY(1)"}]).pushCall(function(){b._htWel.AniWrapper.css({display:"none"})
}).pushWait(500).pushCall(function(){b._oMorph.option("fpEffect",jindo.m.Effect.easeInOut)
}).pushAnimate(300,[b._htWel.popup,{"@opacity":0,"@transitionProperty":"transform","@transform":b._getTranslate(0,0)+" scaleX(0.85) scaleY(0.85)"}]).pushCall(function(){b._htWel.popup.css({display:"none"});
b._htWel.AniWrapper.css({display:"none"});
b._isOnStatus=false;
b.fireEvent("off",{wel:b._htWel.btn})
}).play()
}}).extend(jindo.m.Morph);
var Music={init:function(){this._assignElements();
this._attachEvents()
},_assignElements:function(){this.welCT=$Element("ct");
this.welMusicPlayer=$Element("music_player");
this.welMusicPlayerProgressBar=$Element("music_player").query(".plyer_prg span");
this.welMusicPlayerPlayButton=$Element("music_player").query(".m_player_inn a");
this.welMusicPlayerCloseButton=$Element("music_player").query(".btn_cls3");
this.welMusicPlayerDesc=$Element("music_player").query(".m_dsc");
this.welMusicPlayerAlbumImage=$Element("music_player").query(".msk_mp img");
this.welMusicPlayerLink=$Element("music_player").query(".cds_mp");
this.bPlaying=false;
this.elAudio=new Audio();
this.oMorph=new jindo.m.Morph({bUseTransition:false}).pushAnimate(60000,[this.welMusicPlayerProgressBar,{"@width":"100%"}]).pushCall(function(){Music.bPlaying=false;
Music.closePlayer()
}).attach("end",function(){this.reset()
})
},_attachEvents:function(){this.welCT.delegate("click","._MM_AUDIO",$Fn(this._onClickMusicPlay,this).bind());
this.welMusicPlayerPlayButton.attach("click",$Fn(this._onClickMusicPlayerButton,this).bind());
this.welMusicPlayerCloseButton.attach("click",$Fn(this._onClickMusicPlayerCloseButton,this).bind());
this.elAudio.addEventListener("canplay",Music.playMusic);
this.elAudio.addEventListener("load",Music.playMusic);
this.welMusicPlayer.attach("touchmove",function(b){b.stop()
})
},_onClickMusicPlay:function(d){d.stop($Event.CANCEL_DEFAULT);
nclk(d.element,"now.musicplay","","");
if(!gsUaType){alert("해당 단말에서는 지원되지 않습니다.");
return
}var h=$Element(d.element);
var b=h.next(function(i){return $Element(i).hasClass("cofix_source")
})[0];
var c=b.query(".cofixt").text();
var g=b.query(".cofixd2").text();
var f=h.query("img").attr("src");
this.welMusicPlayerAlbumImage.attr("src",f);
this.elAudio.src=d.element.getAttribute("data-music");
this.welMusicPlayerDesc.html(this.getMusicDesc(c,g));
this.elAudio.load();
this.openPlayer()
},_onClickMusicPlayerButton:function(c){c.stop($Event.CANCEL_DEFAULT);
if(!this.bPlaying){nclk(c.element,"now.play","","");
var b=this.elAudio.currentTime;
this.oMorph.play();
this.elAudio.play();
this.welMusicPlayerPlayButton.className("imh btn_pause");
this.welMusicPlayerPlayButton.html("일시정지");
setTimeout(this._hideListeningBanner,3000);
this.bPlaying=true
}else{nclk(c.element,"now.playpause","","");
var b=this.elAudio.currentTime;
this.oMorph.pause();
this.elAudio.pause(b/60);
this.welMusicPlayerPlayButton.className("imh btn_ply");
this.welMusicPlayerPlayButton.html("재생");
this.bPlaying=false
}},_hideListeningBanner:function(){$Element("listening_banner").hide()
},_onClickMusicPlayerCloseButton:function(b){b.stop($Event.CANCEL_DEFAULT);
nclk(b.element,"now.playclose","","");
this.oMorph.pause();
this.oMorph.reset();
this.elAudio.src="";
this.bPlaying=false;
this.closePlayer()
},getMusicDesc:function(b,c){return"<strong>"+b+"</strong><span>"+c+"</span>"
},playMusic:function(){Music.welMusicPlayerPlayButton.className("imh btn_pause");
Music.welMusicPlayerPlayButton.html("일시정지");
Music.oMorph.play();
Music.elAudio.play();
setTimeout(Music._hideListeningBanner,3000);
Music.bPlaying=true
},openPlayer:function(b){$Element("listening_banner").show();
oDim.show(function(){Music.oMorph.pause();
Music.oMorph.reset();
Music.elAudio.src="";
Music.bPlaying=false;
Music.closePlayer()
});
Music.welMusicPlayer.show();
Effect.fadeInAndScaleUp(this.welMusicPlayer);
Music.welMusicPlayerPlayButton.className("imh btn_ply");
Music.welMusicPlayerPlayButton.html("재생");
var c=(window.innerHeight-287)/2;
Music.welMusicPlayer.css("top",c+"px");
if(gsUaType=="IOS"){setTimeout(function(){Music.playMusic()
},1000)
}},closePlayer:function(){Music.welMusicPlayerProgressBar.css("width","0%");
new jindo.m.Morph().pushCall(function(){Music.elAudio.pause();
oDim.hide()
}).pushAnimate(100,[Music.welMusicPlayer,{"@opacity":"0"}]).pushCall(function(){Music.welMusicPlayer.hide()
}).play()
}};
var Weather={init:function(){this.welCard;
this._assignElements();
this._attachEvents();
var b=$Cookie().get("NV_WETR_LAST_ACCESS_RGN_M");
if(b&&b.indexOf("CT")>=0){$Cookie().remove("NV_WETR_LAST_ACCESS_RGN_M","naver.com")
}},_assignElements:function(){this.welCT=$Element("ct")
},_attachEvents:function(){this.welCT.delegate("click",".btn_pst",$Fn(this._onClickPosition,this).bind())
},_onClickPosition:function(b){this.welCard=Card.getMetaData(b.element);
b.stop($Event.CANCEL_DEFAULT);
GeoLoc.tryToGetLocation(this._setLocation)
},_setLocation:function(c){var b=Weather;
if(c.code){b._setCookie(c.code)
}b.update()
},_setCookie:function(b){$Cookie().set("NV_WETR_LOCATION_RGN_M",b,365*60,"naver.com");
$Cookie().set("NV_WETR_LAST_ACCESS_RGN_M",b,365*60,"naver.com")
},update:function(){var b="/nvweather_card?path=/include/now/card/weather";
var c=$Ajax(b,{method:"get",timeout:5,onload:function(f){var d=f.text();
if(d.search(/ERROR/)<0){Weather.welCard.html(d)
}},ontimeout:function(){JEagleEyeClient.sendError("[Weather] update() ajax timeout : "+b)
},onerror:function(d){JEagleEyeClient.sendError("[Weather] update() ajax error : "+b)
}}).request();
c=null
}};
var GeoLoc={tryToGetLocation:function(c){var b=this;
if(navigator.geolocation){b.getPosition(c)
}},getPosition:function(b){navigator.geolocation.getCurrentPosition(function(c){GeoLoc._getLocation(c,b)
},GeoLoc.handleError,{enableHighAccuracy:true,timeout:5000,maximumAge:0})
},retryToGetLocation:function(b){if(confirm(b)){this.tryToGetLocation()
}},_getLocation:function(b,h){var d=this;
var i=b.coords.latitude;
var g=b.coords.longitude;
var c={};
c.lat=i;
c.lng=g;
if(typeof b.coords.name!="undefined"){c.name=b.coords.name
}var f=new $Ajax("/nvgeo",{method:"get",timeout:3,onload:function(l){var j=l.json();
if(j.url){location.href=j.url
}else{if(j.error=="1"){d.retryToGetLocation("현재 위치 사용이 불가능한\n지역입니다.\n위치를 직접 설정하시겠습니까?")
}else{if(j.error=="0"){$Cookie().set("m_loc",j.cookie,24,"naver.com")
}}}h(j)
},ontimeout:function(){d.retryToGetLocation("위치 신호가 불안정합니다.\n다시 시도하시겠습니까?")
},onerror:function(){d.retryToGetLocation("위치 정보를 확인할 수 없습니다.\n현재 위치로 다시\n검색하시겠습니까?")
}}).request(c);
f=null
},handleError:function(b){switch(b.code){case 1:alert("위치 정보 사용 동의 후\n해당 서비스를 이용할 수 있습니다.");
break;
case 2:case 3:alert("위치 정보를 가져오는데 실패하였습니다. 잠시 후 다시 이용하세요.");
break
}}};
var Effect={fadeInAndScaleUp:function(b){new jindo.m.Morph(jindo.m.Effect.cubicEaseInOut).pushAnimate(-1,[b,{"@opacity":"0","@top":parseInt((window.innerHeight-134)/2,10)+jindo.$Document().scrollPosition().top-80,"@transitionProperty":"transform","@transform":"scaleX(0.85) scaleY(0.85)"}]).pushAnimate(60,[b,{"@opacity":"1","@transitionProperty":"transform","@transform":"scaleX(1) scaleY(1)"}]).play()
},fadeIn:function(b){new jindo.m.Morph(jindo.m.Effect.cubicEaseInOut).pushCall(function(){b.show()
}).pushAnimate(-1,[b,{"@opacity":"0","@transform":"translate3d(0px, 0px, 0px)"}]).pushAnimate(200,[b,{"@opacity":"1"}]).play()
}};
var Social={init:function(){this.htData={style:"m_standard",serviceName:"모바일메인",evkey:"mobilemain",title:"네이버",source:"http://m.naver.com",me2key:"",tags:"",blog:{blogId:"naver",sourceType:"116",sourceTitle:"네이버",sourceUrl:"http://m.naver.com",sourceForm:"2"},cafe:{sourceType:"116",sourceTitle:"네이버",sourceUrl:"http://m.naver.com"}};
this.sp=new MainSocialPlugIn();
this.sp._sSpiLayerId="spi_layer";
this.sp.drawSpiLayer(this.htData,"");
this._assignElements();
this._attachEvents()
},_assignElements:function(){this.welCT=$Element("ct");
this.welSpiLayer=$Element("spi_layer");
this.welSpiClose=this.welSpiLayer.query(".spi_cls")
},_attachEvents:function(){this.welCT.delegate("click",".cds_send",$Fn(this._onClickCdsSend,this).bind());
this.welCT.delegate("click",".cds_send2",$Fn(this._onClickCdsSend,this).bind());
this.welSpiClose.attach("click",$Fn(this._onClickSpiLayerClose,this).bind());
this.welSpiLayer.attach("touchmove",function(b){b.stop()
});
jindo.m.bindRotate($Fn(this._onRotate,this).bind())
},_onRotate:function(b){if(this.welSpiLayer.visible()){var f=this.welSpiLayer.height();
var g=getScrollPos().scrollY;
var d=Math.max((window.innerHeight-f)/2,0)+g;
var c=this;
setTimeout(function(){c.welSpiLayer.css("top",d+"px")
},250)
}},_onClickCdsSend:function(c){c.stop($Event.CANCEL_DEFAULT);
var d=Card.getMetaData(c.element);
var b=d.attr("data-title");
var f=d.attr("data-url");
this.htData.title=b;
this.htData.source=f;
this.htData.blog.sourceTitle=b;
this.htData.blog.sourceUrl=f;
this.htData.cafe.sourceTitle=b;
this.htData.cafe.sourceUrl=f;
this.sp._htInitData=this.htData;
this.openLayer()
},_onClickSpiLayerClose:function(b){b.stop($Event.CANCEL_DEFAULT);
this.closeLayer()
},openLayer:function(){Card.hideTopButton();
oDim.show(function(){Social.closeLayer()
});
this.welSpiLayer.css("top",parseInt((window.innerHeight-134)/2,10)+jindo.$Document().scrollPosition().top-80+"px").show();
Effect.fadeInAndScaleUp(this.welSpiLayer);
hamHide()
},closeLayer:function(){Card.showTopButton();
new jindo.m.Morph().pushCall(function(){oDim.hide()
}).pushAnimate(200,[this.welSpiLayer,{"@opacity":"0"}]).pushCall(function(){Social.welSpiLayer.hide();
hamShow()
}).play()
}};
if(typeof console=="undefined"||typeof console.log=="undefined"){var console={log:function(){}}
}if(typeof nec=="undefined"){nec={}
}if(typeof ecsrv=="undefined"){var ecsrv="ec.naver.com"
}if(typeof ecModule=="undefined"){var ecModule="ec"
}nec.ecImg={};
nec.eccnt=0;
nec.version="0.0.9";
function ectrack(d,g){var i="";
var c=(window.location.protocol=="https:")?"https:":"http:";
i=c+"//"+ecsrv+"/"+ecModule+"?";
i+="ek="+encodeURIComponent(d);
i+="&ev="+encodeURIComponent(document.URL);
i+="&u="+encodeURIComponent(g);
if(document.images){var b=new Date().getTime();
i+="&time="+b;
var f=window.nec.eccnt++;
var j=new Image();
window.nec.ecImg[f]=j;
j.onerror=(j.onload=(j.onabort=function(){delete window.nec.ecImg[f]
}));
j.src=i
}return true
}function ectrackurl(d,f){var g="";
var b=new Date().getTime();
var c=(window.location.protocol=="https:")?"https:":"http:";
g=c+"//"+ecsrv+"/"+ecModule+"?";
g+="ek="+encodeURIComponent(d);
g+="&ev="+encodeURIComponent(document.URL);
g+="&u="+encodeURIComponent(f);
g+="&time="+b;
return g
}if(typeof spi=="undefined"){var spi={}
}spi.util={requestJsonp:function(t,r,s,o){var n=document.head?document.head:document.getElementsByTagName("head")[0],q=document.createElement("script"),p="spi_"+(new Date).getTime(),i="function"==typeof a?setTimeout(a,5000):null,m="";
r=r||{};
window[p]=function(){i&&clearInterval(i);
s.apply(null,arguments);
window[p]=null;
n.removeChild(q)
};
t=-1!=t.indexOf("?")?t+("&"+("undefined"!=typeof o?o:"_callback")+"=window."+p):t+("?"+("undefined"!=typeof o?o:"_callback")+"=window."+p);
for(k in r){r.hasOwnProperty(k)&&(m+=encodeURIComponent(k)+"="+encodeURIComponent(r[k])+"&")
}q.src=t+"&"+m;
n.appendChild(q)
},strToJson:function(b){try{/^(?:\s*)[\{\[]/.test(b)&&(b=eval("("+b+")"))
}catch(d){b={}
}return b
},toJson:function(c){return !c?{}:"string"==typeof c?this.strToJson(c):c
},jsonToString:function(c){var f={$:function(b){if("object"==typeof b&&null==b){return"null"
}if("undefined"==typeof b){return'""'
}if("boolean"==typeof b){return b?"true":"false"
}if("string"==typeof b){return this.s(b)
}if("number"==typeof b){return b
}if(b instanceof Array){return this.a(b)
}if(b instanceof Object){return this.o(b)
}},s:function(g){var d={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r","\t":"\\t"};
return'"'+g.replace(/[\\"'\n\r\t]/g,function(b){return"undefined"!=typeof d[b]?d[b]:b
})+'"'
},a:function(l){for(var g="[",j="",i=l.length,h=0;
h<i;
h++){"function"!=typeof l[h]&&(g+=j+this.$(l[h]),j||(j=","))
}return g+"]"
},o:function(g){var l="{",i="",j;
for(j in g){g.hasOwnProperty(j)&&"function"!=typeof g[j]&&(l+=i+this.s(j)+":"+this.$(g[j]),i||(i=","))
}return l+"}"
}};
return window.JSON&&window.JSON.stringify?window.JSON.stringify(c):f.$(c)
},fn:function(b,d){var c=arguments.callee;
if(b instanceof c){return b
}if(!(this instanceof c)){return new c(b,d)
}this._events=[];
this._key=this._tmpElm=null;
"function"==typeof b?(this._func=b,this._this=d):"string"==typeof b&&"string"==typeof d&&(this._func=eval("false||function("+b+"){"+d+"}"))
}};
spi.util.fn.prototype.bind=function(){var f=arguments,g=this._func,h=this._this;
return function(){var b=arguments;
f.length&&(b=f.concat(b));
return g.apply(h,b)
}
};
(function(){function U(x,w,v,u,r,q){r=0;
for(var n=u.length;
r<n;
r++){var p=u[r];
if(p){for(var l=!1,p=p[x];
p;
){if(p[Z]===v){l=u[p.sizset];
break
}1===p.nodeType&&!q&&(p[Z]=v,p.sizset=r);
if(p.nodeName.toLowerCase()===w){l=p;
break
}p=p[x]
}u[r]=l
}}}function T(w,v,u,r,q,p){q=0;
for(var l=r.length;
q<l;
q++){var n=r[q];
if(n){for(var j=!1,n=n[w];
n;
){if(n[Z]===u){j=r[n.sizset];
break
}if(1===n.nodeType){if(p||(n[Z]=u,n.sizset=q),"string"!==typeof v){if(n===v){j=!0;
break
}}else{if(0<ah.filter(v,[n]).length){j=n;
break
}}}n=n[w]
}r[q]=j
}}}var ab=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Z="sizcache"+(Math.random()+"").replace(".",""),Y=0,J=Object.prototype.toString,R=!1,s=!0,V=/\\/g,g=/\r\n/g,t=/\W/;
[0,0].sort(function(){s=!1;
return 0
});
var ah=function(D,B,A,z){A=A||[];
var y=B=B||document;
if(1!==B.nodeType&&9!==B.nodeType){return[]
}if(!D||"string"!==typeof D){return A
}var x,v,w,u,q,C=!0,j=ah.isXML(B),r=[],E=D;
do{if(ab.exec(""),x=ab.exec(E)){if(E=x[3],r.push(x[1]),x[2]){u=x[3];
break
}}}while(x);
if(1<r.length&&f.exec(D)){if(2===r.length&&ag.relative[r[0]]){v=i(r[0]+r[1],B,z)
}else{for(v=ag.relative[r[0]]?[B]:ah(r.shift(),B);
r.length;
){D=r.shift(),ag.relative[D]&&(D+=r.shift()),v=i(D,v,z)
}}}else{if(!z&&(1<r.length&&9===B.nodeType&&!j&&ag.match.ID.test(r[0])&&!ag.match.ID.test(r[r.length-1]))&&(x=ah.find(r.shift(),B,j),B=x.expr?ah.filter(x.expr,x.set)[0]:x.set[0]),B){x=z?{expr:r.pop(),set:aa(z)}:ah.find(r.pop(),1===r.length&&("~"===r[0]||"+"===r[0])&&B.parentNode?B.parentNode:B,j);
v=x.expr?ah.filter(x.expr,x.set):x.set;
for(0<r.length?w=aa(v):C=!1;
r.length;
){x=q=r.pop(),ag.relative[q]?x=r.pop():q="",null==x&&(x=B),ag.relative[q](w,x,j)
}}else{w=[]
}}w||(w=v);
w||ah.error(q||D);
if("[object Array]"===J.call(w)){if(C){if(B&&1===B.nodeType){for(D=0;
null!=w[D];
D++){w[D]&&(!0===w[D]||1===w[D].nodeType&&ah.contains(B,w[D]))&&A.push(v[D])
}}else{for(D=0;
null!=w[D];
D++){w[D]&&1===w[D].nodeType&&A.push(v[D])
}}}else{A.push.apply(A,w)
}}else{aa(w,A)
}u&&(ah(u,y,A,z),ah.uniqueSort(A));
return A
};
ah.uniqueSort=function(l){if(o&&(R=s,l.sort(o),R)){for(var j=1;
j<l.length;
j++){l[j]===l[j-1]&&l.splice(j--,1)
}}return l
};
ah.matches=function(l,j){return ah(l,null,null,j)
};
ah.matchesSelector=function(l,j){return 0<ah(j,null,null,[l]).length
};
ah.find=function(x,w,v){var u,r,q,n,p,l;
if(!x){return[]
}r=0;
for(q=ag.order.length;
r<q;
r++){if(p=ag.order[r],n=ag.leftMatch[p].exec(x)){if(l=n[1],n.splice(1,1),"\\"!==l.substr(l.length-1)&&(n[1]=(n[1]||"").replace(V,""),u=ag.find[p](n,w,v),null!=u)){x=x.replace(ag.match[p],"");
break
}}}u||(u="undefined"!==typeof w.getElementsByTagName?w.getElementsByTagName("*"):[]);
return{set:u,expr:x}
};
ah.filter=function(G,F,E,D){for(var C,B,z,A,y,w,v,u,x=G,I=[],H=F,j=F&&F[0]&&ah.isXML(F[0]);
G&&F.length;
){for(z in ag.filter){if(null!=(C=ag.leftMatch[z].exec(G))&&C[2]){if(w=ag.filter[z],y=C[1],B=!1,C.splice(1,1),"\\"!==y.substr(y.length-1)){H===I&&(I=[]);
if(ag.preFilter[z]){if(C=ag.preFilter[z](C,H,E,I,D,j)){if(!0===C){continue
}}else{B=A=!0
}}if(C){for(v=0;
null!=(y=H[v]);
v++){y&&(A=w(y,C,v,H),u=D^A,E&&null!=A?u?B=!0:H[v]=!1:u&&(I.push(y),B=!0))
}}if(void 0!==A){E||(H=I);
G=G.replace(ag.match[z],"");
if(!B){return[]
}break
}}}}if(G===x){if(null==B){ah.error(G)
}else{break
}}x=G
}return H
};
ah.error=function(j){throw Error("Syntax error, unrecognized expression: "+j)
};
var X=ah.getText=function(l){var j,p;
j=l.nodeType;
var n="";
if(j){if(1===j||9===j){if("string"===typeof l.textContent){return l.textContent
}if("string"===typeof l.innerText){return l.innerText.replace(g,"")
}for(l=l.firstChild;
l;
l=l.nextSibling){n+=X(l)
}}else{if(3===j||4===j){return l.nodeValue
}}}else{for(j=0;
p=l[j];
j++){8!==p.nodeType&&(n+=X(p))
}}return n
},ag=ah.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(j){return j.getAttribute("href")
},type:function(j){return j.getAttribute("type")
}},relative:{"+":function(l,j){var r="string"===typeof j,q=r&&!t.test(j),r=r&&!q;
q&&(j=j.toLowerCase());
for(var q=0,p=l.length,n;
q<p;
q++){if(n=l[q]){for(;
(n=n.previousSibling)&&1!==n.nodeType;
){}l[q]=r||n&&n.nodeName.toLowerCase()===j?n||!1:n===j
}}r&&ah.filter(j,l,!0)
},">":function(l,j){var r,q="string"===typeof j,p=0,n=l.length;
if(q&&!t.test(j)){for(j=j.toLowerCase();
p<n;
p++){if(r=l[p]){r=r.parentNode,l[p]=r.nodeName.toLowerCase()===j?r:!1
}}}else{for(;
p<n;
p++){(r=l[p])&&(l[p]=q?r.parentNode:r.parentNode===j)
}q&&ah.filter(j,l,!0)
}},"":function(l,j,r){var q,p=Y++,n=T;
"string"===typeof j&&!t.test(j)&&(q=j=j.toLowerCase(),n=U);
n("parentNode",j,p,l,q,r)
},"~":function(l,j,r){var q,p=Y++,n=T;
"string"===typeof j&&!t.test(j)&&(q=j=j.toLowerCase(),n=U);
n("previousSibling",j,p,l,q,r)
}},find:{ID:function(l,j,n){if("undefined"!==typeof j.getElementById&&!n){return(l=j.getElementById(l[1]))&&l.parentNode?[l]:[]
}},NAME:function(l,j){if("undefined"!==typeof j.getElementsByName){for(var r=[],q=j.getElementsByName(l[1]),p=0,n=q.length;
p<n;
p++){q[p].getAttribute("name")===l[1]&&r.push(q[p])
}return 0===r.length?null:r
}},TAG:function(l,j){if("undefined"!==typeof j.getElementsByTagName){return j.getElementsByTagName(l[1])
}}},preFilter:{CLASS:function(l,j,u,r,q,p){l=" "+l[1].replace(V,"")+" ";
if(p){return l
}p=0;
for(var n;
null!=(n=j[p]);
p++){n&&(q^(n.className&&0<=(" "+n.className+" ").replace(/[\t\n\r]/g," ").indexOf(l))?u||r.push(n):u&&(j[p]=!1))
}return !1
},ID:function(j){return j[1].replace(V,"")
},TAG:function(j){return j[1].replace(V,"").toLowerCase()
},CHILD:function(l){if("nth"===l[1]){l[2]||ah.error(l[0]);
l[2]=l[2].replace(/^\+|\s*/g,"");
var j=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===l[2]&&"2n"||"odd"===l[2]&&"2n+1"||!/\D/.test(l[2])&&"0n+"+l[2]||l[2]);
l[2]=j[1]+(j[2]||1)-0;
l[3]=j[3]-0
}else{l[2]&&ah.error(l[0])
}l[0]=Y++;
return l
},ATTR:function(l,j,r,q,p,n){j=l[1]=l[1].replace(V,"");
!n&&ag.attrMap[j]&&(l[1]=ag.attrMap[j]);
l[4]=(l[4]||l[5]||"").replace(V,"");
"~="===l[2]&&(l[4]=" "+l[4]+" ");
return l
},PSEUDO:function(l,j,q,p,n){if("not"===l[1]){if(1<(ab.exec(l[3])||"").length||/^\w/.test(l[3])){l[3]=ah(l[3],null,null,j)
}else{return l=ah.filter(l[3],j,q,1^n),q||p.push.apply(p,l),!1
}}else{if(ag.match.POS.test(l[0])||ag.match.CHILD.test(l[0])){return !0
}}return l
},POS:function(j){j.unshift(!0);
return j
}},filters:{enabled:function(j){return !1===j.disabled&&"hidden"!==j.type
},disabled:function(j){return !0===j.disabled
},checked:function(j){return !0===j.checked
},selected:function(j){j.parentNode&&j.parentNode.selectedIndex;
return !0===j.selected
},parent:function(j){return !!j.firstChild
},empty:function(j){return !j.firstChild
},has:function(l,j,n){return !!ah(n[3],l).length
},header:function(j){return/h\d/i.test(j.nodeName)
},text:function(l){var j=l.getAttribute("type"),n=l.type;
return"input"===l.nodeName.toLowerCase()&&"text"===n&&(j===n||null===j)
},radio:function(j){return"input"===j.nodeName.toLowerCase()&&"radio"===j.type
},checkbox:function(j){return"input"===j.nodeName.toLowerCase()&&"checkbox"===j.type
},file:function(j){return"input"===j.nodeName.toLowerCase()&&"file"===j.type
},password:function(j){return"input"===j.nodeName.toLowerCase()&&"password"===j.type
},submit:function(l){var j=l.nodeName.toLowerCase();
return("input"===j||"button"===j)&&"submit"===l.type
},image:function(j){return"input"===j.nodeName.toLowerCase()&&"image"===j.type
},reset:function(l){var j=l.nodeName.toLowerCase();
return("input"===j||"button"===j)&&"reset"===l.type
},button:function(l){var j=l.nodeName.toLowerCase();
return"input"===j&&"button"===l.type||"button"===j
},input:function(j){return/input|select|textarea|button/i.test(j.nodeName)
},focus:function(j){return j===j.ownerDocument.activeElement
}},setFilters:{first:function(l,j){return 0===j
},last:function(l,j,p,n){return j===n.length-1
},even:function(l,j){return 0===j%2
},odd:function(l,j){return 1===j%2
},lt:function(l,j,n){return j<n[3]-0
},gt:function(l,j,n){return j>n[3]-0
},nth:function(l,j,n){return n[3]-0===j
},eq:function(l,j,n){return n[3]-0===j
}},filter:{PSEUDO:function(l,j,r,q){var p=j[1],n=ag.filters[p];
if(n){return n(l,r,j,q)
}if("contains"===p){return 0<=(l.textContent||l.innerText||X([l])||"").indexOf(j[3])
}if("not"===p){j=j[3];
r=0;
for(q=j.length;
r<q;
r++){if(j[r]===l){return !1
}}return !0
}ah.error(p)
},CHILD:function(l,j){var v,u,r,q,n,p;
v=j[1];
p=l;
switch(v){case"only":case"first":for(;
p=p.previousSibling;
){if(1===p.nodeType){return !1
}}if("first"===v){return !0
}p=l;
case"last":for(;
p=p.nextSibling;
){if(1===p.nodeType){return !1
}}return !0;
case"nth":v=j[2];
u=j[3];
if(1===v&&0===u){return !0
}r=j[0];
if((q=l.parentNode)&&(q[Z]!==r||!l.nodeIndex)){n=0;
for(p=q.firstChild;
p;
p=p.nextSibling){1===p.nodeType&&(p.nodeIndex=++n)
}q[Z]=r
}p=l.nodeIndex-u;
return 0===v?0===p:0===p%v&&0<=p/v
}},ID:function(l,j){return 1===l.nodeType&&l.getAttribute("id")===j
},TAG:function(l,j){return"*"===j&&1===l.nodeType||!!l.nodeName&&l.nodeName.toLowerCase()===j
},CLASS:function(l,j){return -1<(" "+(l.className||l.getAttribute("class"))+" ").indexOf(j)
},ATTR:function(l,j){var r=j[1],r=ah.attr?ah.attr(l,r):ag.attrHandle[r]?ag.attrHandle[r](l):null!=l[r]?l[r]:l.getAttribute(r),q=r+"",p=j[2],n=j[4];
return null==r?"!="===p:!p&&ah.attr?null!=r:"="===p?q===n:"*="===p?0<=q.indexOf(n):"~="===p?0<=(" "+q+" ").indexOf(n):!n?q&&!1!==r:"!="===p?q!==n:"^="===p?0===q.indexOf(n):"$="===p?q.substr(q.length-n.length)===n:"|="===p?q===n||q.substr(0,n.length+1)===n+"-":!1
},POS:function(l,j,q,p){var n=ag.setFilters[j[2]];
if(n){return n(l,q,j,p)
}}}},f=ag.match.POS,af=function(l,j){return"\\"+(j-0+1)
},ad;
for(ad in ag.match){ag.match[ad]=RegExp(ag.match[ad].source+/(?![^\[]*\])(?![^\(]*\))/.source),ag.leftMatch[ad]=RegExp(/(^(?:.|\r|\n)*?)/.source+ag.match[ad].source.replace(/\\(\d+)/g,af))
}var aa=function(l,j){l=Array.prototype.slice.call(l,0);
return j?(j.push.apply(j,l),j):l
};
try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType
}catch(c){aa=function(l,j){var q=0,p=j||[];
if("[object Array]"===J.call(l)){Array.prototype.push.apply(p,l)
}else{if("number"===typeof l.length){for(var n=l.length;
q<n;
q++){p.push(l[q])
}}else{for(;
l[q];
q++){p.push(l[q])
}}}return p
}
}var o,S;
document.documentElement.compareDocumentPosition?o=function(l,j){return l===j?(R=!0,0):!l.compareDocumentPosition||!j.compareDocumentPosition?l.compareDocumentPosition?-1:1:l.compareDocumentPosition(j)&4?-1:1
}:(o=function(l,j){if(l===j){return R=!0,0
}if(l.sourceIndex&&j.sourceIndex){return l.sourceIndex-j.sourceIndex
}var u,r,q=[],p=[];
u=l.parentNode;
r=j.parentNode;
var n=u;
if(u===r){return S(l,j)
}if(u){if(!r){return 1
}}else{return -1
}for(;
n;
){q.unshift(n),n=n.parentNode
}for(n=r;
n;
){p.unshift(n),n=n.parentNode
}u=q.length;
r=p.length;
for(n=0;
n<u&&n<r;
n++){if(q[n]!==p[n]){return S(q[n],p[n])
}}return n===u?S(l,p[n],-1):S(q[n],j,1)
},S=function(l,j,n){if(l===j){return n
}for(l=l.nextSibling;
l;
){if(l===j){return -1
}l=l.nextSibling
}return 1
});
af=document.createElement("div");
ad="script"+(new Date).getTime();
var m=document.documentElement;
af.innerHTML="<a name='"+ad+"'/>";
m.insertBefore(af,m.firstChild);
document.getElementById(ad)&&(ag.find.ID=function(l,j,n){if("undefined"!==typeof j.getElementById&&!n){return(j=j.getElementById(l[1]))?j.id===l[1]||"undefined"!==typeof j.getAttributeNode&&j.getAttributeNode("id").nodeValue===l[1]?[j]:void 0:[]
}},ag.filter.ID=function(l,j){var n="undefined"!==typeof l.getAttributeNode&&l.getAttributeNode("id");
return 1===l.nodeType&&n&&n.nodeValue===j
});
m.removeChild(af);
m=af=null;
af=document.createElement("div");
af.appendChild(document.createComment(""));
0<af.getElementsByTagName("*").length&&(ag.find.TAG=function(l,j){var q=j.getElementsByTagName(l[1]);
if("*"===l[1]){for(var p=[],n=0;
q[n];
n++){1===q[n].nodeType&&p.push(q[n])
}q=p
}return q
});
af.innerHTML="<a href='#'></a>";
af.firstChild&&("undefined"!==typeof af.firstChild.getAttribute&&"#"!==af.firstChild.getAttribute("href"))&&(ag.attrHandle.href=function(j){return j.getAttribute("href",2)
});
af=null;
if(document.querySelectorAll){var W=ah,af=document.createElement("div");
af.innerHTML="<p class='TEST'></p>";
if(!(af.querySelectorAll&&0===af.querySelectorAll(".TEST").length)){var ah=function(B,A,z,y){A=A||document;
if(!y&&!ah.isXML(A)){var x=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(B);
if(x&&(1===A.nodeType||9===A.nodeType)){if(x[1]){return aa(A.getElementsByTagName(B),z)
}if(x[2]&&ag.find.CLASS&&A.getElementsByClassName){return aa(A.getElementsByClassName(x[2]),z)
}}if(9===A.nodeType){if("body"===B&&A.body){return aa([A.body],z)
}if(x&&x[3]){var w=A.getElementById(x[3]);
if(w&&w.parentNode){if(w.id===x[3]){return aa([w],z)
}}else{return aa([],z)
}}try{return aa(A.querySelectorAll(B),z)
}catch(u){}}else{if(1===A.nodeType&&"object"!==A.nodeName.toLowerCase()){var x=A,v=(w=A.getAttribute("id"))||"__sizzle__",r=A.parentNode,q=/^\s*[+~]/.test(B);
w?v=v.replace(/'/g,"\\$&"):A.setAttribute("id",v);
q&&r&&(A=A.parentNode);
try{if(!q||r){return aa(A.querySelectorAll("[id='"+v+"'] "+B),z)
}}catch(j){}finally{w||x.removeAttribute("id")
}}}}return W(B,A,z,y)
},ae;
for(ae in W){ah[ae]=W[ae]
}af=null
}}ae=document.documentElement;
var ac=ae.matchesSelector||ae.mozMatchesSelector||ae.webkitMatchesSelector||ae.msMatchesSelector;
if(ac){var d=!ac.call(document.createElement("div"),"div"),h=!1;
try{ac.call(document.documentElement,"[test!='']:sizzle")
}catch(b){h=!0
}ah.matchesSelector=function(l,j){j=j.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");
if(!ah.isXML(l)){try{if(h||!ag.match.PSEUDO.test(j)&&!/!=/.test(j)){var p=ac.call(l,j);
if(p||!d||l.document&&11!==l.document.nodeType){return p
}}}catch(n){}}return 0<ah(j,null,null,[l]).length
}
}ae=document.createElement("div");
ae.innerHTML="<div class='test e'></div><div class='test'></div>";
ae.getElementsByClassName&&0!==ae.getElementsByClassName("e").length&&(ae.lastChild.className="e",1!==ae.getElementsByClassName("e").length&&(ag.order.splice(1,0,"CLASS"),ag.find.CLASS=function(l,j,n){if("undefined"!==typeof j.getElementsByClassName&&!n){return j.getElementsByClassName(l[1])
}},ae=null));
ah.contains=document.documentElement.contains?function(l,j){return l!==j&&(l.contains?l.contains(j):!0)
}:document.documentElement.compareDocumentPosition?function(l,j){return !!(l.compareDocumentPosition(j)&16)
}:function(){return !1
};
ah.isXML=function(j){return(j=(j?j.ownerDocument||j:0).documentElement)?"HTML"!==j.nodeName:!1
};
var i=function(l,j,u){var r,q=[],p="";
for(j=j.nodeType?[j]:j;
r=ag.match.PSEUDO.exec(l);
){p+=r[0],l=l.replace(ag.match.PSEUDO,"")
}l=ag.relative[l]?l+"*":l;
r=0;
for(var n=j.length;
r<n;
r++){ah(l,j[r],q,u)
}return ah.filter(p,q)
};
window.spi.Sizzle=ah
})();
if(!Array.prototype.indexOf){Array.prototype.indexOf=function(d){var f=this.length>>>0;
var g=Number(arguments[1])||0;
g=(g<0)?Math.ceil(g):Math.floor(g);
if(g<0){g+=f
}for(;
g<f;
g++){if(g in this&&this[g]===d){return g
}}return -1
}
}if(typeof nhn=="undefined"){nhn={}
}function MainSocialPlugIn(){this._CHARSET="utf-8";
this._htInitData={};
this._htElement={};
this._htEvent={};
this._sUniqueId="";
this._sSpiLayerId="";
this._sMarkupStyle="";
this._sBmkUrlId="";
this._arButtons=null;
this._bRatable=false;
this._htAPI={API000:"http://gn.naver.com/getLoginStatusLv2.nhn",API101:"http://me2do.naver.com/common/requestJsonp.nhn",API201:"http://m.relation.commcast.naver.com/m",API301:"http://bookmark.naver.com/api/exist_v2.nhn",API302:"http://bookmark.naver.com/apiSave.nhn",API303:"http://bookmark.naver.com/apiDelete.nhn",API501:"http://m.mail.naver.com/write/index.nhn",API502:"http://m.cafe.naver.com/CafeScrapView.nhn",API503:"http://m.blog.naver.com/OpenScrapForm.nhn",API504:"http://plugin.me2day.net/v1/me2post/create_post_form.nhn",API505:"https://m.facebook.com/sharer.php",API506:"https://twitter.com/share",API507:"http://m.yozm.daum.net/user/message/post",API508:"http://line.naver.jp/msg/text/",API509:"line://msg/text/",API510:"http://m.memo.naver.com/plugin/view.nhn",API511:"https://m.calendar.naver.com/main.nhn",API513:"bandapp://create/post",API514:"kakaolink://sendurl",API515:"myp://sendMessage",API601:"http://api.spi.naver.com/rating/"};
this._htClickLog={me:{baseUrl:"http://social.naver.com/v/click",key:"m.subs"},bookmark:{baseUrl:"http://social.naver.com/v/click",key:"m.bmk"},me2:{baseUrl:"http://social.naver.com/v/click",key:"m.me2"},me2count:{baseUrl:"http://social.naver.com/v/click",key:"m.me2.count"},release:{baseUrl:"http://social.naver.com/v/click",key:"m.snd"},copyurl:{baseUrl:"http://social.naver.com/v/click",key:"m.cpurl"},mail:{baseUrl:"http://social.naver.com/v/click",key:"m.sndmail"},line:{baseUrl:"http://social.naver.com/v/click",key:"m.sndline"},band:{baseUrl:"http://social.naver.com/v/click",key:"m.sndband"},cafe:{baseUrl:"http://social.naver.com/v/click",key:"m.sndcafe"},blog:{baseUrl:"http://social.naver.com/v/click",key:"m.sndblog"},memo:{baseUrl:"http://social.naver.com/v/click",key:"m.sndmemo"},calendar:{baseUrl:"http://social.naver.com/v/click",key:"m.sndclnd"},mypeople:{baseUrl:"http://social.naver.com/v/click",key:"m.sndmyppl"},me2post:{baseUrl:"http://social.naver.com/v/click",key:"m.sndme2"},facebook:{baseUrl:"http://social.naver.com/v/click",key:"m.sndfb"},twitter:{baseUrl:"http://social.naver.com/v/click",key:"m.sndtw"},yozm:{baseUrl:"http://social.naver.com/v/click",key:"m.sndyz"},ktalk:{baseUrl:"http://social.naver.com/v/click",key:"m.sndktalk"},melink:{baseUrl:"http://social.naver.com/v/click",key:"m.melnk"},bmklink:{baseUrl:"http://social.naver.com/v/click",key:"m.bmklnk"},score1:{baseUrl:"http://social.naver.com/v/click",key:"m.emonice"},score2:{baseUrl:"http://social.naver.com/v/click",key:"m.emogood"},score3:{baseUrl:"http://social.naver.com/v/click",key:"m.emoglad"},score4:{baseUrl:"http://social.naver.com/v/click",key:"m.emoabsurd"},score5:{baseUrl:"http://social.naver.com/v/click",key:"m.emosad"},score6:{baseUrl:"http://social.naver.com/v/click",key:"m.emoangry"}};
this._htFinishLog={me:{baseUrl:"http://social.naver.com/v/finish",key:"m.subs"},bookmark:{baseUrl:"http://social.naver.com/v/finish",key:"m.bmk"},me2:{baseUrl:"http://social.naver.com/v/finish",key:"m.m2"},mail:{baseUrl:"http://social.naver.com/v/finish",key:"m.sndmail"},blog:{baseUrl:"http://social.naver.com/v/finish",key:"m.sndblog"},cafe:{baseUrl:"http://social.naver.com/v/finish",key:"m.sndcafe"},me2post:{baseUrl:"http://social.naver.com/v/finish",key:"m.sndme2"}};
this._htService={apps:"소셜앱스",artssearch:"미술검색",auto:"자동차",bboom:"뿜",blog:"블로그",book:"책",boom:"붐",cafe:"카페",cartoon:"웹툰 ",cnnaver:"중국생활정보",dic:"사전",file:"자료실",finance:"금융",health:"건강",jpdic:"모바일 일본어 번역기",kin:"지식iN",kitchen:"키친",land:"부동산",luckytoday:"럭키투데이",map:"지도",movie:"영화",music:"뮤직 ",navercast:"네이버캐스트",news:"뉴스",newscast:"뉴스캐스트 ",newslibrary:"뉴스라이브러리",magazine:"매거진캐스트",nstore:"N스토어",opencast:"오픈캐스트",photo:"포토갤러리",playnet:"플레이넷",qrcode:"QR코드",shopingcast:"쇼핑캐스트",shopn:"샵N",shopping:"지식쇼핑",shoppinginfo:"지식쇼핑",spdic:"스페인어사전",sports:"스포츠",terms:"지식백과",tvcast:"동영상서비스",tvguide:"TV편성표",ugcplayer:"UGC플레이어",weather:"날씨",wingbus:"윙버스",wingspoon:"윙스푼",wordbook:"영단어장"};
this._htStyleSheet={m_standard:"http://spi.naver.net/css/20130530/spi_unity_m_20130530.css"};
this._htMarkUp={m_standard:'<div id="_spi_layer_id_" class="spi_wrap layer_share_on _spi_style_">	<div class="spi">		<div class="spug">			<a href="#" class="_spi_me2 spi_ico _btn_me2post sns_me2" button="me2post">미투데이</a>			<a href="#" class="_spi_twitter spi_ico _btn_twitter sns_twitter" button="twitter">트위터</a>			<a href="#" class="_spi_line spi_ico _btn_line sns_line" button="line">라인</a>			<a href="#" class="_spi_kakaotalk _btn_kakaotalk spi_ico sns_kakao" button="kakaotalk">카카오톡</a>			<a href="#" class="_spi_band spi_ico _btn_band sns_band" button="band">밴드</a>			<a href="#" class="_spi_release spi_ico _btn_postbtn sns_share" button="postbtn">보내기</a>			<a href="#" class="_spi_bookmark spi_ico _btn_bookmark sns_bookmark" button="bookmark">북마크</a>		</div>		<div class="_spi_release_ly layer_share" style="display:none;">			_spi_release_items_		</div>	</div>	<div class="_spi_bookmark_ly_ok s2p_layer" style="display:none;">		<p class="s2p_msg s2p_m_s"><strong>북마크 되었습니다.</strong><a href="#" class="_spi_bookmark_lnk s2p_muh">네이버me 북마크함</a>에서 확인 가능합니다.</p>			<button type="button" name="s2p_clo" title="닫기" class="_spi_bookmark_ly_cls s2p_layer_close">닫기</button>	</div>	<div class="_spi_copyurl_ly_ok s2p_layer padd2" style="display:none;">		<p class="s2p_msg"><strong class="_spi_copyurl_msg">아래의 URL을 길게 누르면 복사할 수 있습니다.</strong></p>		<input type="text" value="" class="_spi_copyurl_txt s2p_url">		<button type="button" name="s2p_clo" title="닫기" class="_spi_copyurl_ly_cls s2p_layer_close">닫기</button>	</div>	<div class="_spi_sticker_score sticker_score" style="display:none;">		<ul>			<li><a href="#" class="_score_p" score="1"><div class="_score_c"><em class="_score stk01">멋져요</em><span class="_score _score_cnt_1"></span></div></a></li>			<li><a href="#" class="_score_p" score="2"><div class="_score_c"><em class="_score stk02">좋아요</em><span class="_score _score_cnt_2"></span></div></a></li>			<li><a href="#" class="_score_p" score="3"><div class="_score_c"><em class="_score stk03">기뻐요</em><span class="_score _score_cnt_3"></span></div></a></li>			<li><a href="#" class="_score_p" score="4"><div class="_score_c"><em class="_score stk04">황당해요</em><span class="_score _score_cnt_4"></span></div></a></li>			<li><a href="#" class="_score_p" score="5"><div class="_score_c"><em class="_score stk05">슬퍼요</em><span class="_score _score_cnt_5"></span></div></a></li>			<li><a href="#" class="_score_p" score="6"><div class="_score_c"><em class="_score stk06">화나요</em><span class="_score _score_cnt_6"></span></div></a></li>		</ul>	</div></div>',m_unity:'<div id="_spi_layer_id_" class="spi_wrap spi_unity">	<div class="spi">		<div class="spug">			<a href="#" class="_spi_me2 spi_ico _btn_me2post sns_me2" button="me2post">미투데이</a>			<a href="#" class="_spi_twitter spi_ico _btn_twitter sns_twitter" button="twitter">트위터</a>			<a href="#" class="_spi_line spi_ico _btn_line sns_line" button="line">라인</a>			<a href="#" class="_spi_kakaotalk _btn_kakaotalk spi_ico sns_kakao" button="kakaotalk">카카오톡</a>			<a href="#" class="_spi_band spi_ico _btn_band sns_band" button="band">밴드</a>			<a href="#" class="_spi_blog spi_ico _btn_blog sns_nvblog" button="blog">보내기</a>			<a href="#" class="_spi_bookmark spi_ico _btn_bookmark sns_bookmark_small" button="bookmark">북마크</a>		</div>		<div class="layer_share">			_spi_release_items_		</div>	</div>	<div class="_spi_bookmark_ly_ok s2p_layer" style="display:none;">		<p class="s2p_msg s2p_m_s"><strong>북마크 되었습니다.</strong><a href="#" class="_spi_bookmark_lnk s2p_muh">네이버me 북마크함</a>에서 확인 가능합니다.</p>			<button type="button" name="s2p_clo" title="닫기" class="_spi_bookmark_ly_cls s2p_layer_close">닫기</button>	</div>	<div class="_spi_copyurl_ly_ok s2p_layer padd2" style="display:none;">		<p class="s2p_msg"><strong class="_spi_copyurl_msg">아래의 URL을 길게 누르면 복사할 수 있습니다.</strong></p>		<input type="text" value="" class="_spi_copyurl_txt s2p_url">		<button type="button" name="s2p_clo" title="닫기" class="_spi_copyurl_ly_cls s2p_layer_close">닫기</button>	</div></div>'};
this._htButtonItems={m_standard:["me2post","twitter","line","kakaotalk","band","postbtn","bookmark"],m_unity:["me2post","twitter","line","kakaotalk","band","blog","bookmark"]};
this._htReleaseItems={m_standard:["copyurl","mail","facebook","cafe","blog","memo","calendar"],m_unity:["copyurl","mail","facebook","cafe","memo","calendar"]};
this._htReleaseMarkup={m_standard:{copyurl:'<a href="#" class="_blur_1 _spi_copyurl spi_ico lnk_url">URL복사</a>',mail:'<a href="#" class="_blur_2 _spi_mail spi_ico lnk_mail">메일</a>',facebook:'<a href="#" class="_blur_3 _spi_facebook spi_ico lnk_facebook">페이스북</a>',cafe:'<a href="#" class="_blur_4 _spi_cafe spi_ico lnk_cafe">카페</a>',blog:'<a href="#" class="_blur_5 _spi_blog spi_ico lnk_blog">블로그</a>',memo:'<a href="#" class="_blur_6 _spi_memo spi_ico lnk_memo">메모</a>',calendar:'<a href="#" class="_blur_7 _spi_calendar spi_ico lnk_calendar">일정</a>'},m_unity:{copyurl:'<a href="#" class="_blur_1 _spi_copyurl spi_ico lnk_url">URL복사</a>',mail:'<a href="#" class="_blur_2 _spi_mail spi_ico lnk_mail">메일</a>',facebook:'<a href="#" class="_blur_3 _spi_facebook spi_ico lnk_facebook">페이스북</a>',cafe:'<a href="#" class="_blur_4 _spi_cafe spi_ico lnk_cafe">카페</a>',memo:'<a href="#" class="_blur_5 _spi_memo spi_ico lnk_memo">메모</a>',calendar:'<a href="#" class="_blur_6 _spi_calendar spi_ico lnk_calendar">일정</a>'}};
this.drawSpiLayer=function(c,b){this._htInitData=c||{};
this._arButtons=new Array();
this._setElement(c.elContainer);
this._setupEvent();
this._displayScoreLayer()
};
this.destroy=function(){var b=document.getElementById(this._sSpiLayerId);
b.parentNode.removeChild(b);
this._detroyEvent();
this._htElement={};
this._htInitData={}
};
this._isDisplayOn=function(b){var d=false;
var c=this._htInitData[b];
if(typeof(c)=="undefined"){d=true
}else{if(typeof(c.display)=="undefined"){d=true
}else{if(c.display==="on"){d=true
}}}return d
};
this._isDisplayOn2=function(b){var d=false;
var c=this._htInitData[b];
if(typeof(c)=="undefined"){d=false
}else{if(typeof(c.display)=="undefined"){d=false
}else{if(c.display==="on"){d=true
}}}return d
};
this._prepareMarkUp=function(b){var d="standard",c="";
if(this._htInitData.style){d=this._htInitData.style
}switch(d){case"m_standard":case"m_standard_small":this._sMarkupStyle="m_standard";
this._sCssStyle="m_standard";
break;
case"m_unity":this._sMarkupStyle="m_unity";
this._sCssStyle="m_standard";
break;
default:this._sMarkupStyle="m_standard";
this._sCssStyle="m_standard";
break
}c=this._htMarkUp[this._sMarkupStyle];
this._sUniqueId=this._getRandomId();
this._sSpiLayerId="spi_layer_"+this._sUniqueId;
c=c.replace(/_spi_layer_id_/gi,this._sSpiLayerId);
switch(d){case"m_standard":c=c.replace(/_spi_style_/gi,"");
break;
case"m_standard_small":c=c.replace(/_spi_style_/gi,"spi_small");
break;
case"m_unity":c=c.replace(/_spi_style_/gi,"");
break;
default:c=c.replace(/_spi_style_/gi,"");
break
}c=c.replace(/_spi_layer_id_/gi,this._sSpiLayerId);
c=c.replace(/_spi_release_items_/gi,this._makeReleaseItemsMarkup());
this._appendStyleSheet(this._sCssStyle);
document.getElementById(b).innerHTML=c
};
this._makeReleaseItemsMarkup=function(){var g=[],b=0;
var f=this._htReleaseItems[this._sMarkupStyle];
for(var c=0;
c<f.length;
c++){this._addReleaseItem(f[c],g)
}b=g.length;
if((b%3)>0){for(var d=0;
d<(3-(b%3));
d++){g.push("<a></a>")
}}return g.join("")
};
this._addReleaseItem=function(c,b){if(this._isDisplayOn(c)){b.push(this._htReleaseMarkup[this._sMarkupStyle][c])
}};
this._appendStyleSheet=function(f){var c="spi_style_"+f;
if(this._isNotNull(document.getElementById(c))){return
}var b=document.getElementsByTagName("head")[0];
var d=document.createElement("link");
d.id=c;
d.rel="stylesheet";
d.type="text/css";
d.href=this._htStyleSheet[f];
b.appendChild(d)
};
this._setElement=function(g){var f=0,d=0,b=0;
var c=g||document.getElementById(this._sSpiLayerId);
this._htElement.spi_area=c;
this._htElement.me2post=spi.Sizzle("._spi_me2",c)[0];
this._htElement.twitter=spi.Sizzle("._spi_twitter",c)[0];
this._htElement.line=spi.Sizzle("._spi_line",c)[0];
this._htElement.band=spi.Sizzle("._spi_band",c)[0];
this._htElement.kakaotalk=spi.Sizzle("._spi_kakaotalk",c)[0];
this._htElement.mail=spi.Sizzle("._spi_mail",c)[0];
this._htElement.facebook=spi.Sizzle("._spi_facebook",c)[0];
this._htElement.cafe=spi.Sizzle("._spi_cafe",c)[0];
this._htElement.blog=spi.Sizzle("._spi_blog",c)[0];
this._htElement.memo=spi.Sizzle("._spi_memo",c)[0];
this._htElement.calendar=spi.Sizzle("._spi_calendar",c)[0];
this._htElement.mypeople=spi.Sizzle("._spi_mypeople",c)[0]
};
this._setupEvent=function(){this._attachEvent(this._htElement.spi_area,"click",spi.util.fn(this._onClick,this).bind());
this._attachEvent(this._htElement.spi_area,"keydown",spi.util.fn(this._onKeyDown,this).bind())
};
this._detroyEvent=function(){this._detachEvent(this._htElement.spi_area,"click",spi.util.fn(this._onClick,this).bind());
this._detachEvent(this._htElement.spi_area,"keydown",spi.util.fn(this._onKeyDown,this).bind())
};
this._onClick=function(){var f=null;
var c=arguments[0]||window.event;
var d=c.target||c.srcElement;
if(this._isNaverApp()&&typeof Banner!="undefined"&&Banner.isLowVer()&&gsUaType=="ANDROID"){this._preventEvent(c);
if(this._isAppPost(d)){if(confirm("네이버 앱을 최신 버전으로 업데이트 후 이용해 주시기 바랍니다.")){APP.run("naversearchapp","","appdownloader?version=3")
}return
}}if(this._hasClass(d,"_spi_me2")){f="me2post";
this._preventEvent(c);
this._doPostMe2day()
}if(this._hasClass(d,"_spi_twitter")){f="twitter";
this._preventEvent(c);
this._doPostTwitter()
}else{if(this._hasClass(d,"_spi_facebook")){f="facebook";
this._preventEvent(c);
this._onPostFacebook()
}else{if(this._hasClass(d,"_spi_line")){f="line";
this._preventEvent(c);
this._onPostLine()
}else{if(this._hasClass(d,"_spi_kakaotalk")){f="ktalk";
this._preventEvent(c);
this._onPostKakaotalk()
}else{if(this._hasClass(d,"_spi_bookmark")){f="bookmark";
this._preventEvent(c);
this._checkBookmarkData()
}else{if(this._hasClass(d,"_spi_release")){f="release";
this._preventEvent(c);
this._closeAllLayer("release");
if(this._htElement.release_ly.style.display=="none"){this._addClass(this._htElement.release,"on");
this._show(this._htElement.release_ly)
}else{this._removeClass(this._htElement.release,"on");
this._hide(this._htElement.release_ly)
}}else{if(this._hasClass(d,"_spi_copyurl")){f="copyurl";
this._preventEvent(c);
this._onCopyUrl()
}else{if(this._hasClass(d,"_spi_mail")){f="mail";
this._preventEvent(c);
this._onPostMail()
}else{if(this._hasClass(d,"_spi_band")){f="band";
this._preventEvent(c);
this._onPostBand()
}else{if(this._hasClass(d,"_spi_cafe")){f="cafe";
this._preventEvent(c);
if(this._isNaverApp()){if(gisLogin){this._onPostCafe()
}else{this._redirectLoginPage(document.location.href)
}}else{this._onPostCafe()
}}else{if(this._hasClass(d,"_spi_blog")){f="blog";
this._preventEvent(c);
if(this._isNaverApp()){if(gisLogin){this._onPostBlog()
}else{this._redirectLoginPage(document.location.href)
}}else{this._onPostBlog()
}}else{if(this._hasClass(d,"_spi_memo")){f="memo";
this._preventEvent(c);
this._onPostMemo()
}else{if(this._hasClass(d,"_spi_calendar")){f="calendar";
this._preventEvent(c);
this._onPostCalendar()
}else{if(this._hasClass(d,"_spi_mypeople")){f="mypeople";
this._preventEvent(c);
this._onPostMypeople()
}else{if(this._hasClass(d,"_spi_bookmark_ly_cls")){this._hide(this._htElement.bookmark_ly_ok)
}else{if(this._hasClass(d,"_spi_copyurl_ly_cls")){this._hide(this._htElement.copyurl_ly_ok)
}else{if(this._hasClass(d,"_spi_bookmark_lnk")){f="bmklink";
this._preventEvent(c);
this._hide(this._htElement.bookmark_ly_ok);
this._sendEventLog("click",f);
document.location.href="http://m.me.naver.com/mobile/main.nhn?vMode=b&p_g=i_n"
}else{if(this._hasClass(d,"_score_p")||this._hasClass(d,"_score_c")||this._hasClass(d,"_score")){if(this._hasClass(d,"_score")){d=d.parentNode.parentNode
}else{if(this._hasClass(d,"_score_c")){d=d.parentNode
}}var b=d.getAttribute("score");
f="score"+b;
this._preventEvent(c);
this._postScoreData(b)
}else{if(this._hasClass(d,"_none")){this._preventEvent(c)
}}}}}}}}}}}}}}}}}}}if(!this._hasClass(d,"_spi_release")){this._removeClass(this._htElement.release,"on");
this._hide(this._htElement.release_ly)
}this._sendEventLog("click",f)
};
this._isAppPost=function(b){if(this._hasClass(b,"_spi_line")||this._hasClass(b,"_spi_kakaotalk")||this._hasClass(b,"_spi_band")||this._hasClass(b,"_spi_mypeople")){return true
}return false
};
this._onKeyDown=function(){var g=arguments[0]||window.event;
var f=window.event?window.event.keyCode:g.which;
var d=g.target||g.srcElement;
if(!g.shiftKey&&f==9){if(this._hasClass(d,"_spi_release")&&this._visible(this._htElement.release_ly)){if(this._htElement.blur_first){this._htElement.blur_first.focus()
}this._preventEvent(g)
}else{if(this._hasClass(d,"_last")){var b=this._arButtons.indexOf("postbtn");
var c=b+1;
if(c<this._arButtons.length){var h=this._arButtons[c];
spi.Sizzle("._btn_"+h,this._htElement.spi_area)[0].focus();
this._preventEvent(g)
}this._closeAllLayer()
}}}else{if(g.shiftKey&&f==9){if(this._hasClass(d,"_first")){this._closeAllLayer();
this._htElement.release.focus();
this._preventEvent(g)
}}}};
this._preventEvent=function(b){if(b.preventDefault){b.preventDefault()
}else{b.returnValue=false
}};
this._renderAll=function(){var c=this._htButtonItems[this._sMarkupStyle];
for(var b=0;
b<c.length;
b++){this._displayOn(c[b],(c[b]=="postbtn"?"release":c[b]))
}};
this._displayOn=function(c,b){var d=this._htElement;
if(this._isDisplayOn(c)){this._inlineShow(d[b]);
this._arButtons.push(c)
}else{this._hide(d[b])
}};
this._closeAllLayer=function(b){if(b!="release"){this._removeClass(this._htElement.release,"on");
this._hide(this._htElement.release_ly)
}this._hide(this._htElement.bookmark_ly_ok);
this._hide(this._htElement.copyurl_ly_ok)
};
this._doPostMe2day=function(){var b=this._htInitData.me2post;
if(isApp){b={shortUrl:"off"}
}if(b&&this._isNotNull(b.shortUrl)&&b.shortUrl==="off"){this._postMe2day(this._getSourceUrl("me2post"))
}else{this._makeShortUrl(this._getSourceUrl("me2post"),spi.util.fn(this._onPostMe2day,this).bind())
}};
this._onPostMe2day=function(c){var b=this._getShortUrl(c);
if(b!=""){this._postMe2day(b)
}};
this._postMe2day=function(g){var j="_postMe2dayForm";
var c=document.getElementById(j);
var h="",f="",l="",b=null;
if(c==null){c=document.createElement("form");
c.id=j;
c.action=this._htAPI.API504;
c.enctype="application/x-www-form-urlencoded";
c.method="get"
}if(this._isNotNull(this._getServiceName())){h=this._getServiceName()+" : "
}f="[네이버] "+h+this._getSourceTitle("me2post");
f=f.replace(/"/gi,"＂");
f=f.replace(/&quot;/gi,"＂");
f=f.replace(/&lt;/gi,"<");
f=f.replace(/&gt;/gi,">＂");
f="＂"+f+"＂:"+g;
if(this._isNotNull(this._htInitData.tags)){b=this._htInitData.tags;
for(var d=0;
d<b.length;
d++){if(d!=0){l=l+"+"
}l=l+b[d]
}}this._appendChilds(c,[this._createInputElement("hidden","is_mobile","true"),this._createInputElement("hidden","body",f),this._createInputElement("hidden","tag",l),this._createInputElement("hidden","svc_type","2"),this._createInputElement("hidden","ek",this._htFinishLog.me2post["key"]+"."+this._htInitData.evkey),this._createInputElement("hidden","ev",this._htFinishLog.me2post["baseUrl"]),this._createInputElement("hidden","redirect_url",document.location.href)]);
document.body.appendChild(c);
this._setFormCharset(c,"utf-8");
c.submit();
this._setFormCharset(c,this._CHARSET);
c.parentNode.removeChild(c)
};
this._doPostTwitter=function(){if(isApp){this._postTwitter(this._getSourceUrl("twitter"))
}else{this._makeShortUrl(this._getSourceUrl("twitter"),spi.util.fn(this._onPostTwitter,this).bind())
}};
this._onPostTwitter=function(c){var b=this._getShortUrl(c);
if(b!=""){this._postTwitter(b)
}};
this._postTwitter=function(c){var g="_postTwitterForm";
var b=document.getElementById(g);
var d="",f="";
if(b==null){b=document.createElement("form");
b.id=g;
b.action=this._htAPI.API506;
b.enctype="application/x-www-form-urlencoded";
b.method="get"
}if(this._isNotNull(this._getServiceName())){d=this._getServiceName()+" : "
}f="[네이버] "+d+this._getSourceTitle("twitter");
f=f.replace(/"/gi,"＂");
f=f.replace(/&quot;/gi,"＂");
f=f.replace(/&lt;/gi,"<");
f=f.replace(/&gt;/gi,">＂");
this._appendChilds(b,[this._createInputElement("hidden","text",f),this._createInputElement("hidden","url",c)]);
document.body.appendChild(b);
this._setFormCharset(b,"utf-8");
b.submit();
this._setFormCharset(b,this._CHARSET);
b.parentNode.removeChild(b)
};
this._onPostFacebook=function(){var d="_postFacebookForm";
var b=document.getElementById(d);
var c=this._getSourceUrl("facebook");
if(b==null){b=document.createElement("form");
b.id=d;
b.action=this._htAPI.API505;
b.enctype="application/x-www-form-urlencoded";
b.method="get"
}this._appendChilds(b,[this._createInputElement("hidden","u",c)]);
document.body.appendChild(b);
this._setFormCharset(b,"utf-8");
b.submit();
this._setFormCharset(b,this._CHARSET);
b.parentNode.removeChild(b)
};
this._onPostLine=function(){var d=(navigator.userAgent.indexOf("Android")>-1);
var b=((navigator.userAgent.indexOf("iPhone")>-1)||(navigator.userAgent.indexOf("iPad")>-1));
var c=this._getSourceUrl("line");
if(!d&&!b){alert("모바일에서 이용이 가능한 기능입니다.\n운영체제가 안드로이드, iOS인 기기에서 이용해 주세요.");
return
}this._makeShortUrl(c,spi.util.fn(function(j){var g=this._getShortUrl(j);
if(g!=""){var i="";
var h="[네이버]\n_serviceName_"+this._getSourceTitle("line")+"\n"+g+"\n";
if(this._isNotNull(this._getServiceName())){i=this._getServiceName()+" : "
}h=h.replace(/_serviceName_/gi,i);
h=h.replace(/&quot;/gi,'"');
h=h.replace(/&lt;/gi,"<");
h=h.replace(/&gt;/gi,">＂");
var f=this._htAPI.API509+encodeURIComponent(h);
if(this._isAndroidChromeOver25()){window.location="intent:"+f+"#Intent;package=jp.naver.line.android;end;"
}else{this._setAppInstallTimer("http://itunes.apple.com/kr/app/line/id443904275?ls=1&mt=8","market://details?id=jp.naver.line.android");
document.body.appendChild(this._createHiddenIframe("_spiLineIframe",f))
}}},this).bind())
};
this._onPostKakaotalk=function(){var g=(navigator.userAgent.indexOf("Android")>-1);
var c=((navigator.userAgent.indexOf("iPhone")>-1)||(navigator.userAgent.indexOf("iPad")>-1));
var d=this._getSourceUrl("kakaotalk");
if(!g&&!c){alert("모바일에서 이용이 가능한 기능입니다.\n운영체제가 안드로이드, iOS인 기기에서 이용해 주세요.");
return
}if(this._htInitData.kakaotalk&&this._htInitData.kakaotalk["extrainfo"]){var h=this._htInitData.kakaotalk["extrainfo"];
var f='{metainfo:[{os:"android",devicetype:"phone",installurl:"'+h.metainfo.android.installurl+'",executeurl:"'+h.metainfo.android.executeurl+'"},{os:"ios",devicetype:"phone",installurl:"'+h.metainfo.ios.installurl+'",executeurl:"'+h.metainfo.ios.executeurl+'"}]}';
var b=this._htAPI.API514+"?msg="+encodeURIComponent(h.msg)+"&url="+encodeURIComponent(d)+"&appid="+h.appid+"&appver="+h.appver+"&appname="+encodeURIComponent(h.appname)+"&metainfo="+encodeURIComponent(f);
if(this._isAndroidChromeOver25()){window.location="intent:"+b+"#Intent;package="+h.metainfo.android.installurl.replace("market://details?id=","")+";end;"
}else{this._setAppInstallTimer(h.metainfo.ios.installurl,h.metainfo.android.installurl);
document.body.appendChild(this._createHiddenIframe("_spiKakaotalkIframe",b))
}}else{this._makeShortUrl(d,spi.util.fn(function(p){var l=this._getShortUrl(p);
var o="";
var m="_serviceName_"+this._getSourceTitle("kakaotalk")+"\n"+l;
var j="http://naverapp.naver.com/inappbrowser/?url="+encodeURIComponent(l)+"&target=new&version=6";
var n='{metainfo:[{os:"android",devicetype:"phone",installurl:"market://details?id=com.nhn.android.search",executeurl:"naversearchapp://inappbrowser?version=6&target=new&url='+l+'"},{os:"ios",devicetype:"phone",installurl:"https://itunes.apple.com/kr/app/neibeo-naver/id393499958?mt=8",executeurl:"naversearchapp://inappbrowser?version=6&target=new&url='+l+'"}]}';
if(this._isNotNull(this._getServiceName())){o=this._getServiceName()+" : "
}m=m.replace(/_serviceName_/gi,o);
m=m.replace(/&quot;/gi,'"');
m=m.replace(/&lt;/gi,"<");
m=m.replace(/&gt;/gi,">＂");
var i=this._htAPI.API514+"?msg="+encodeURIComponent(m)+"&url="+encodeURIComponent(j)+"&appid=m.naver.com&appver=4.0.0&appname="+encodeURIComponent("네이버")+"&metainfo="+encodeURIComponent(n);
if(this._isAndroidChromeOver25()){window.location="intent:"+i+"#Intent;package=com.kakao.talk;end;"
}else{this._setAppInstallTimer("http://itunes.apple.com/kr/app/kakaotog-kakaotalk/id362057947?mt=8","market://details?id=com.kakao.talk");
document.body.appendChild(this._createHiddenIframe("_spiKakaotalkIframe",i))
}},this).bind())
}};
this._checkBookmarkData=function(){var b='["'+this._getSourceUrl("bookmark")+'"]';
this._addClass(this._htElement.bookmark,"spi_load");
spi.util.requestJsonp(this._htAPI.API301,{urls:b},spi.util.fn(this._onCheckBookmarkData,this).bind())
};
this._onCheckBookmarkData=function(d){var c=spi.util.toJson(d);
this._removeClass(this._htElement.bookmark,"spi_load");
if(c.bookmarkError){var b=c.bookmarkError;
if(b.responseCode==900){this._redirectLoginPage(document.location.href)
}else{alert("서버 접속이 원활하지 않습니다.\n잠시 후 다시 시도해 주십시오.")
}}else{if(c&&c.list&&c.list.length==1){var b=c.list[0];
if(b.exist==false){this._postBookmarkData()
}else{this._sBmkUrlId=b.urlId;
this._closeAllLayer();
var f=confirm("현재 북마크 되어 있습니다.\n북마크를 해제하시겠습니까?");
if(f){this._deleteBookmarkData()
}}}else{alert("서버 접속이 원활하지 않습니다.\n잠시 후 다시 시도해 주십시오.")
}}};
this._postBookmarkData=function(){var b=this._getSourceTitle("bookmark");
var c=this._htInitData.evkey;
var d=this._getSourceUrl("bookmark");
this._addClass(this._htElement.bookmark,"spi_load");
b=b.replace(/&lt;/gi,"<");
b=b.replace(/&gt;/gi,">＂");
spi.util.requestJsonp(this._htAPI.API302,{title:b,url:d,isPrivate:true,type:"B",source:c},spi.util.fn(this._onPostBookmarkData,this).bind())
};
this._onPostBookmarkData=function(d){var c=spi.util.toJson(d);
this._removeClass(this._htElement.bookmark,"spi_load");
if(c&&c.bookmarkSave){var b=c.bookmarkSave;
if((b.responseCode==0)||(b.responseCode==1)){this._sendEventLog("finish","bookmark");
this._closeAllLayer();
this._show(this._htElement.bookmark_ly_ok)
}else{alert("서버 접속이 원활하지 않습니다.\n잠시 후 다시 시도해 주십시오.")
}}else{alert("서버 접속이 원활하지 않습니다.\n잠시 후 다시 시도해 주십시오.")
}};
this._deleteBookmarkData=function(){var b=this._sBmkUrlId;
this._addClass(this._htElement.bookmark,"spi_load");
spi.util.requestJsonp(this._htAPI.API303,{urlId:b},spi.util.fn(this._onDeleteBookmarkData,this).bind())
};
this._onDeleteBookmarkData=function(d){var c=spi.util.toJson(d);
this._removeClass(this._htElement.bookmark,"spi_load");
if(c&&c.bookmarkDelete){var b=c.bookmarkDelete;
if((b.responseCode==0)||(b.responseCode==1)){}else{alert("서버 접속이 원활하지 않습니다.\n잠시 후 다시 시도해 주십시오.")
}}else{alert("서버 접속이 원활하지 않습니다.\n잠시 후 다시 시도해 주십시오.")
}};
this._onCopyUrl=function(){var d=(navigator.userAgent.indexOf("Android")>-1);
var c=((navigator.userAgent.indexOf("iPhone")>-1)||(navigator.userAgent.indexOf("iPad")>-1));
var b=spi.Sizzle("._spi_copyurl_txt",this._htElement.copyurl_ly_ok)[0];
var f=spi.Sizzle("._spi_copyurl_msg",this._htElement.copyurl_ly_ok)[0];
b.value=this._getSourceUrl("copyurl");
if(c){f.innerHTML="아래의 URL을 두 번 누르면 복사할 수 있습니다."
}else{if(d){f.innerHTML="아래의 URL을 길게 누르면 복사할 수 있습니다."
}}this._closeAllLayer();
this._show(this._htElement.copyurl_ly_ok)
};
this._onPostMail=function(){var d=this._htFinishLog.mail["key"]+"."+this._htInitData.evkey;
var b=this._htFinishLog.mail["baseUrl"];
var i="_postMailForm";
var c=document.getElementById(i);
var g="";
var h=this._getSourceTitle("mail");
var j="[네이버] _serviceName_"+this._getSourceTitle("mail");
var f="";
h=h.replace(/&lt;/gi,"<");
h=h.replace(/&gt;/gi,">＂");
f='"'+h+'"\r\n'+this._getSourceUrl("mail");
if(this._isNotNull(this._getServiceName())){g=this._getServiceName()+" : "
}j=j.replace(/_serviceName_/gi,g);
if(c==null){c=document.createElement("form");
c.id=i;
c.action=this._htAPI.API501;
c.method="get"
}this._appendChilds(c,[this._createInputElement("hidden","cmd","compose"),this._createInputElement("hidden","extsrvid","SW"),this._createInputElement("hidden","dispRtnStr","%EB%8F%8C%EC%95%84%EA%B0%80%EA%B8%B0"),this._createInputElement("hidden","mailBody",f),this._createInputElement("hidden","extreturnurl",document.URL),this._createInputElement("hidden","callbackUrl",ectrackurl(d,b))]);
document.body.appendChild(c);
this._setFormCharset(c,"utf-8");
c.submit();
this._setFormCharset(c,this._CHARSET);
c.parentNode.removeChild(c)
};
this._onPostBand=function(){var c=(navigator.userAgent.indexOf("Android")>-1);
var b=((navigator.userAgent.indexOf("iPhone")>-1)||(navigator.userAgent.indexOf("iPad")>-1));
if(!c&&!b){alert("모바일에서 이용이 가능한 기능입니다.\n운영체제가 안드로이드, iOS인 기기에서 이용해 주세요.");
return
}this._makeShortUrl(this._getSourceUrl("band"),spi.util.fn(function(i){var f=this._getShortUrl(i);
if(f!=""){var h="";
var g="[네이버]\n_serviceName_"+this._getSourceTitle("band")+"\n"+f+"\n";
if(this._isNotNull(this._getServiceName())){h=this._getServiceName()+" : "
}g=g.replace(/_serviceName_/gi,h);
g=g.replace(/&quot;/gi,'"');
g=g.replace(/&lt;/gi,"<");
g=g.replace(/&gt;/gi,">＂");
var d=this._htAPI.API513+"?text="+encodeURIComponent(g);
if(this._isAndroidChromeOver25()){window.location="intent:"+d+"#Intent;package=com.nhn.android.band;end;"
}else{this._setAppInstallTimer("http://itunes.apple.com/kr/app/id542613198","market://details?id=com.nhn.android.band");
document.body.appendChild(this._createHiddenIframe("_spiBandIframe",d))
}}},this).bind())
};
this._onPostCafe=function(){var d=this._htFinishLog.cafe["key"]+"."+this._htInitData.evkey;
var b=this._htFinishLog.cafe["baseUrl"];
var g="_postCafeForm";
var h=this._htInitData.cafe;
var c=document.getElementById(g);
var f=this._getSourceTitle("cafe");
if(c==null){c=document.createElement("form");
c.id=g;
if(this._isNotNull(h.proxyAction)&&this._isNotNull(h.proxyActionUrl)&&h.proxyAction==="on"){c.action=h.proxyActionUrl;
c.method="get";
this._appendGetParam(c,h.proxyActionUrl)
}else{c.action=this._htAPI.API502+"?urlEncoding=false";
c.method="get"
}}f=f.replace(/&lt;/gi,"<");
f=f.replace(/&gt;/gi,">＂");
this._appendChilds(c,[this._createInputElement("hidden","source_type",h.sourceType),this._createInputElement("hidden","title",f),this._createInputElement("hidden","source_title",h.sourceTitle),this._createInputElement("hidden","source_url",this._getSourceUrl("cafe")),this._createInputElement("hidden","source_contents",this._isNotNull(h.sourceContents)?h.sourceContents:""),this._createInputElement("hidden","source_form",this._isNotNull(h.sourceForm)?h.sourceForm:""),this._createInputElement("hidden","returnUrl",document.location.href),this._createInputElement("hidden","callbackUrl",ectrackurl(d,b))]);
document.body.appendChild(c);
this._setFormCharset(c,"utf-8");
c.submit();
this._setFormCharset(c,this._CHARSET);
c.parentNode.removeChild(c)
};
this._onPostBlog=function(){var d=this._htFinishLog.blog["key"]+"."+this._htInitData.evkey;
var b=this._htFinishLog.blog["baseUrl"];
var g="_postCafeForm";
var h=this._htInitData.blog;
var c=document.getElementById(g);
var f=this._getSourceTitle("blog");
if(c==null){c=document.createElement("form");
c.id=g;
if(this._isNotNull(h.proxyAction)&&this._isNotNull(h.proxyActionUrl)&&h.proxyAction==="on"){c.action=h.proxyActionUrl;
c.method="get";
this._appendGetParam(c,h.proxyActionUrl)
}else{c.action=this._htAPI.API503;
c.method="get"
}}f=f.replace(/&lt;/gi,"<");
f=f.replace(/&gt;/gi,">＂");
this._appendChilds(c,[this._createInputElement("hidden","blogId",h.blogId),this._createInputElement("hidden","source_type",h.sourceType),this._createInputElement("hidden","title",f),this._createInputElement("hidden","source_title",h.sourceTitle),this._createInputElement("hidden","source_url",this._getSourceUrl("blog")),this._createInputElement("hidden","source_contents",h.sourceContents),this._createInputElement("hidden","source_form",h.sourceForm),this._createInputElement("hidden","returnURL",document.location.href),this._createInputElement("hidden","callbackType","image"),this._createInputElement("hidden","callbackUrl",ectrackurl(d,b))]);
document.body.appendChild(c);
this._setFormCharset(c,"utf-8");
c.submit();
this._setFormCharset(c,this._CHARSET);
c.parentNode.removeChild(c)
};
this._onPostMemo=function(){var g="_postMemoForm";
var b=document.getElementById(g);
var d="[네이버] _serviceName_"+this._getSourceTitle("memo");
var c="",f="";
if(b==null){b=document.createElement("form");
b.id=g;
b.action=this._htAPI.API510;
b.method="get"
}if(this._isNotNull(this._getServiceName())){c=this._getServiceName()+" : "
}d=d.replace(/_serviceName_/gi,c);
d=d.replace(/&lt;/gi,"<");
d=d.replace(/&gt;/gi,">＂");
if(this._htInitData.memo&&this._htInitData.memo.linkDisplayText&&this._isNotNull(this._htInitData.memo.linkDisplayText)){f=this._htInitData.memo["linkDisplayText"]
}else{f=d
}this._appendChilds(b,[this._createInputElement("hidden","content",d),this._createInputElement("hidden","linkDisplayText",f),this._createInputElement("hidden","linkUrl",this._getSourceUrl("memo")),this._createInputElement("hidden","returnUrl ",document.location.href)]);
document.body.appendChild(b);
this._setFormCharset(b,"utf-8");
b.submit();
this._setFormCharset(b,this._CHARSET);
b.parentNode.removeChild(b)
};
this._onPostCalendar=function(){var f="_postCalendarForm";
var b=document.getElementById(f);
var d="[네이버] _serviceName_"+this._getSourceTitle("calendar");
var c="";
if(b==null){b=document.createElement("form");
b.id=f;
b.action=this._htAPI.API511;
b.method="get"
}if(this._isNotNull(this._getServiceName())){c=this._getServiceName()+" : "
}d=d.replace(/_serviceName_/gi,c);
d=d.replace(/&lt;/gi,"<");
d=d.replace(/&gt;/gi,">＂");
this._appendChilds(b,[this._createInputElement("hidden","serviceCode","42"),this._createInputElement("hidden","action","CreateSchedule"),this._createInputElement("hidden","content",d),this._createInputElement("hidden","pageInfo",this._htInitData.title),this._createInputElement("hidden","pageUrl",this._getSourceUrl("calendar")),this._createInputElement("hidden","returnUrl",document.location.href)]);
document.body.appendChild(b);
b.submit();
b.parentNode.removeChild(b)
};
this._onPostMypeople=function(){var d=(navigator.userAgent.indexOf("Android")>-1);
var b=((navigator.userAgent.indexOf("iPhone")>-1)||(navigator.userAgent.indexOf("iPad")>-1));
var c=this._getSourceUrl("mypeople");
if(!d&&!b){alert("모바일에서 이용이 가능한 기능입니다.\n운영체제가 안드로이드, iOS인 기기에서 이용해 주세요.");
return
}this._makeShortUrl(c,spi.util.fn(function(j){var g=this._getShortUrl(j);
if(g!=""){var i="";
var h="message="+encodeURIComponent("\n_serviceName_"+this._getSourceTitle("mypeople"))+"&url="+encodeURIComponent(g)+"&appName="+encodeURIComponent("네이버");
if(this._isNotNull(this._getServiceName())){i=this._getServiceName()+" : "
}h=h.replace(/_serviceName_/gi,i);
h=h.replace(/&quot;/gi,'"');
h=h.replace(/&lt;/gi,"<");
h=h.replace(/&gt;/gi,">＂");
var f=this._htAPI.API515+"?"+h;
if(this._isAndroidChromeOver25()){window.location="intent:"+f+"#Intent;package=net.daum.android.air;end;"
}else{this._setAppInstallTimer("https://itunes.apple.com/kr/app/maipipeul-mulyodaehwa-mulyotonghwa/id373539016?mt=8","market://details?id=net.daum.android.air");
document.body.appendChild(this._createHiddenIframe("_spiMypeopleIframe",f))
}}},this).bind())
};
this._displayScoreLayer=function(){var b=this._htAPI.API601+this._htInitData.uuid;
if(!this._isDisplayOn2("score")){return
}if(!this._isNotNull(this._htInitData.uuid)){return
}spi.util.requestJsonp(b,{},spi.util.fn(function(f){var c=spi.util.toJson(f);
var g=c.rating;
if(c.ratable){this._bRatable=c.ratable
}else{this._bRatable=true
}for(var d=1;
d<=6;
d++){this._htElement["score_"+d].innerHTML=(g[(d+"")]>999?"999+":g[(d+"")])
}this._show(this._htElement.score_ly)
},this).bind(),"callback")
};
this._postScoreData=function(b){var c=this._htElement["score_"+b];
this._addClass(c,"lod");
this._getLogined(spi.util.fn(function(f){var d=spi.util.toJson(f);
if(d.result=="success"&&d.success==true){if(this._bRatable==false){this._removeClass(c,"lod");
alert("이미 아이콘을 선택하셨습니다.")
}else{if(this._isNotNull(this._htInitData.score["authAPI"])){this._getScoreAuthInfo(b)
}else{this._doPostScoreData(b)
}}}else{this._removeClass(c,"lod");
this._redirectLoginPage(document.location.href)
}},this).bind())
};
this._getScoreAuthInfo=function(b){if(this._isNotNull(this._htInitData.userid)&&this._isNotNull(this._htInitData.token)){this._doPostScoreData(b)
}else{spi.util.requestJsonp(this._htInitData.score["authAPI"],{uuid:this._htInitData.uuid},spi.util.fn(function(d){var c=spi.util.toJson(d);
this._htInitData.userid=c.userId;
this._htInitData.token=c.token;
this._doPostScoreData(b)
},this).bind())
}};
this._doPostScoreData=function(c){var f=this._htElement["score_"+c];
var b=f.innerHTML;
var d=this._htAPI.API601+this._htInitData.uuid+"/"+this._htInitData.userid+"/"+c;
if(!this._isNotNull(this._htInitData.userid)||!this._isNotNull(this._htInitData.token)){this._removeClass(f,"lod");
return
}spi.util.requestJsonp(d,{token:this._htInitData.token},spi.util.fn(function(j){if((typeof j)=="boolean"){var g=j;
if(g){if(b!="999+"){var i=Number(b)+1;
if(i>999){f.innerHTML="999+"
}else{f.innerHTML=Number(b)+1
}}}else{alert("이미 아이콘을 선택하셨습니다.")
}}else{var h=spi.util.toJson(j);
alert("["+h.statusCode+"] "+h.statusMessage)
}this._removeClass(f,"lod")
},this).bind(),"callback")
};
this._getSourceUrl=function(b){var c=this._htInitData.source;
if(this._isNotNull(this._htInitData[b])&&this._isNotNull(this._htInitData[b]["sourceUrl"])){c=this._htInitData[b]["sourceUrl"]
}return c
};
this._getSourceTitle=function(b){var c=this._htInitData.title||"";
if(this._isNotNull(this._htInitData[b])&&this._isNotNull(this._htInitData[b]["title"])){c=this._htInitData[b]["title"]
}return c
};
this._attachEvent=function(d,c,b){if(d.addEventListener){d.addEventListener(c,b,false)
}else{if(d.attachEvent){d.attachEvent("on"+c,b)
}else{switch(c){case"click":if(d.onclick){d.onclick=b
}break;
case"mouseover":if(d.onmouseover){d.onmouseover=b
}break;
case"mouseout":if(d.onmouseover){d.onmouseout=b
}break;
case"keyup":if(d.onkeyup){d.onkeyup=b
}break;
case"keydown":if(d.onkeydown){d.onkeydown=b
}break;
case"keypress":if(d.onkeypress){d.onkeypress=b
}break;
case"focus":if(d.onfocus){d.onfocus=b
}break;
case"blur":if(d.onblur){d.onblur=b
}break
}}}};
this._detachEvent=function(d,c,b){if(d.removeEventListener){d.removeEventListener(c,b,false)
}else{if(d.detachEvent){d.detachEvent("on"+c,b)
}else{switch(c){case"click":if(d.onclick){d.onclick=null
}break;
case"mouseover":if(d.onmouseover){d.onmouseover=null
}break;
case"mouseout":if(d.onmouseout){d.onmouseout=b
}break;
case"keyup":if(d.onkeyup){d.onkeyup=b
}break;
case"keydown":if(d.onkeydown){d.onkeydown=b
}break;
case"keypress":if(d.onkeypress){d.onkeypress=b
}break;
case"focus":if(d.onfocus){d.onfocus=b
}break;
case"blur":if(d.onblur){d.onblur=b
}break
}}}};
this._toggle=function(b){if(b.style.display=="none"){b.style.display="block"
}else{b.style.display="none"
}};
this._hide=function(b){if(b){b.style.display="none"
}};
this._show=function(b){if(b){b.style.display="block"
}};
this._visible=function(b){if(b.style.display=="block"){return true
}return false
};
this._inlineShow=function(b){if(b){b.style.display="inline-block"
}};
this._webkitShow=function(b){if(b){b.style.display="-webkit-box"
}};
this._hasClass=function(b,d){return(b?b.className.match(new RegExp("(\\s|^)"+d+"(\\s|$)")):false)
};
this._addClass=function(b,f){var d="";
if(!b.className){b.className=f
}else{d=b.className;
d+=" ";
d+=f;
b.className=d
}};
this._removeClass=function(d,f){if(this._hasClass(d,f)){var b=new RegExp("(\\s|^)"+f+"(\\s|$)");
d.className=d.className.replace(b," ")
}};
this._getRandomId=function(){return String(parseInt(Math.random()*10000000000,10))
};
this._setFormCharset=function(b,d){if(/Firefox[\/\s](\d+\.\d+)/.test(navigator.userAgent)){b.acceptCharset=d
}else{document.charset=d
}};
this._isNotNull=function(b){return(b==null||b=="undefined"||b=="null"||b=="")?false:true
};
this._appendGetParam=function(h,d){var g,f,j,l,b,c;
if(d.indexOf("?")>-1){l=d.substring(d.indexOf("?")+1);
b=l.split("&");
for(g=0;
g<b.length;
g++){c=b[g].split("=");
f=c[0];
j=c[1];
if(f&&j){h.appendChild(this._createInputElement("hidden",f,j))
}}}};
this._appendChilds=function(d,c){if(this._isNotNull(c)){for(var b=0;
b<c.length;
b++){if(this._isNotNull(c[b])){d.appendChild(c[b])
}}}};
this._createInputElement=function(c,f,b){var d=null;
if(this._isNotNull(b)==true){d=document.createElement("input");
d.type=c;
d.name=f;
d.value=b
}return d
};
this._createInputElementArr=function(d,h,g){var c=[];
if(this._isNotNull(g)){try{for(var b=0;
b<g.length;
b++){c[b]=this._createInputElement(d,h,g[b])
}}catch(f){throw f
}}return c
};
this._sendEventLog=function(b,c){try{if(b==="click"&&typeof this._htClickLog[c]!="undefined"){ectrack(this._htClickLog[c]["key"]+"."+this._htInitData.evkey,this._htClickLog[c]["baseUrl"])
}else{if(b==="finish"&&typeof this._htFinishLog[c]!="undefined"){ectrack(this._htFinishLog[c]["key"]+"."+this._htInitData.evkey,this._htFinishLog[c]["baseUrl"])
}}}catch(d){throw d
}};
this._makeShortUrl=function(b,c){spi.util.requestJsonp(this._htAPI.API101,{svcCode:"0022",url:b},c)
};
this._getShortUrl=function(d){var c="";
var b=spi.util.toJson(d);
switch(b.code){case"200":c=b.result.url;
break;
case"500":alert("성능 개선을 위한 임시점검 중입니다.");
break;
default:alert("단축URL 생성오류("+b.code+")");
break
}return c
};
this._getServiceName=function(){var b="";
if(this._isNotNull(this._htInitData.servicename)){b=this._htInitData.servicename
}else{if(this._isNotNull(this._htService[this._htInitData.evkey])){b=this._htService[this._htInitData.evkey]
}}return b
};
this._getLogined=function(b){spi.util.requestJsonp(this._htAPI.API000,{},b,"callback")
};
this._redirectLoginPage=function(b){document.location.href="http://nid.naver.com/nidlogin.login?svctype=262144&url="+encodeURIComponent(b)
};
this._getCurrentDateTime=function(){var d=new Date();
var i=d.getFullYear();
var h=d.getMonth()+1;
var b=d.getDate();
var g=d.getHours();
var c=d.getMinutes();
var f=d.getSeconds();
if(b<10){b="0"+b
}if(h<10){h="0"+h
}if(g<10){g="0"+g
}if(c<10){c="0"+c
}return(i+"-"+h+"-"+b+" "+g+":"+c+":"+f)
};
this._getCookie=function(b){b=b+"=";
var d=document.cookie;
var g=d.indexOf(b);
var f="";
if(g!=-1){g+=b.length;
var c=d.indexOf(";",g);
if(c==-1){c=d.length
}f=d.substring(g,c)
}return unescape(f)
};
this._setAppInstallTimer=function(f,h){var g=(navigator.userAgent.indexOf("Android")>-1);
var d=((navigator.userAgent.indexOf("iPhone")>-1)||(navigator.userAgent.indexOf("iPad")>-1));
var c=new Date();
setTimeout(function(){if(new Date()-c<2000){if(d){window.location.replace(f)
}else{if(g){window.location.replace(h)
}}}},1500)
};
this._createHiddenIframe=function(b,d){var c=document.getElementById(b);
if(c!=null){c.parentNode.removeChild(c)
}c=document.createElement("iframe");
c.id=b;
c.style.border="none";
c.style.width="0px";
c.style.height="0px";
c.style.display="none";
c.src=d;
return c
};
this._isNaverApp=function(){var b=false;
var f=this._getCookie("AppInfo")||"";
var c=(navigator.userAgent.indexOf("NAVER(inapp")>-1);
var d=(f.indexOf("NAVER(inapp")>-1);
if(c||d){b=true
}return b
};
this._isAndroidChromeOver25=function(){var c=false,d=(navigator.userAgent.indexOf("Android")>-1),g=(navigator.userAgent.indexOf("Chrome/")>-1);
if(d&&g){var f=navigator.userAgent.match(/Chrome\/[0-9]*/g)[0];
var b=f.split("/");
if(b[1]>=25){c=true
}}return c
}
}try{if(typeof draw_socialplugin=="function"){draw_socialplugin()
}}catch(e){}var nhn=nhn||{};
nhn.hdAni={init:function(h){var g=navigator.userAgent,d=jindo.$Agent().navigator(),c=/Chrome|CriOS/.test(g),f=/NAVER/.test(g);
this._sAniClassName="ani";
this._bCssAnimationState;
if(jindo.$Agent().os().ios&&(f||d.msafari&&!c)){this._bCssAnimationState=d.version>=5||f?true:null
}else{if(c){this._bCssAnimationState=true
}else{if(d.mobile||d.webkit){this._bCssAnimationState=false
}}}if(h.constructor==Array){this._vWel=this._bCssAnimationState?this._addInitClass(h):jindo.$ElementList(h)
}else{this._vWel={};
for(var b in h){this._vWel[b]=this._bCssAnimationState?this._addInitClass(h[b]):jindo.$ElementList(h[b])
}}},_addInitClass:function(c){var b=jindo.$ElementList(c).addClass(this._sAniClassName);
setTimeout(function(){jindo.$ElementList(c).css({webkitAnimationPlayState:"paused",animationPlayState:"paused"})
},0);
return b
},set:function(b,d){var c=arguments.length==1?[this._vWel,b]:[this._vWel[b],d];
this._setCss.apply(this,c)
},_setCss:function(c,g){var b;
g&&!c.getLast().visible()&&c.css("display","block");
if(this._bCssAnimationState){b=g?"running":"paused";
c.css({webkitAnimationPlayState:b,animationPlayState:b})
}else{if(this._bCssAnimationState===false){if(!g){for(var d=0,f;
f=c.get(d);
d++){/snow/i.test(f.className())&&f.hide()
}}c[g?"addClass":"removeClass"](this._sAniClassName)
}}}};
jindo.Component=jindo.m.Component;
function initHistoryAutocomplete(c,b,d){oAutoComplete=new nhn.mobile.Autocomplete(new nhn.mobile.AcInputManager($("query"),$("clear_input")),new nhn.mobile.AcDataManager("http://mac.search.naver.net/mobile/ac","jsonp","get",{st:"1",frm:"mobile_nv",ans:"1",run:"2",rev:"4"}),new nhn.mobile.AcNaverViewManager($("autocomplete_layer"),{toggleBtn:$("switch_input"),closeBtn:$("close_input"),helpBtn:$("help_input"),helpUrl:"http://m.help.naver.com/serviceMain.nhn?falias=mo_serch_web&type=faq",myCount:2,psnCount:3,psnTemplate:{history:'<li class="u_atcp_l u_atcp_lsc _personal" onclick="oAutoComplete.select(event);return false;"><a href="javascript:;" class="u_atcp_a u_atcp_av"><div class="u_atcp_ap">@txt@</div></a><span class="u_atcp_date">@date@</span><button type="button" class="u_atcp_add" style="display:@ex_btn@" onmousedown="$Event(event).stop();" onclick="oAutoComplete.extendKeyword(event);return false;"><span class="u_atcp_addb"><span class="u_vc">추가</span></span></button><span id="rank@rank@" style="display:none">@in_txt@</span></li>',my:'<li class="u_atcp_l u_atcp_lsc _personal" onclick="oAutoComplete.select(event);return false;"><a href="javascript:;" class="u_atcp_a u_atcp_av"><div class="u_atcp_ap">@txt@</div></a><button type="button" class="u_atcp_tgl on"><span class="u_vc">즐겨찾기</span></button><button type="button" class="u_atcp_add" style="display:@ex_btn@" onmousedown="$Event(event).stop();" onclick="oAutoComplete.extendKeyword(event);return false;"><span class="u_atcp_addb"><span class="u_vc">추가</span></span></button><span id="rank@rank@" style="display:none">@in_txt@</span></li>'}}),{form:document.forms.search,cookieName:"NaverSuggestUse"});
oAutoComplete.attach({onClear:function(f){nclk({},"sch.kwdx","","")
},onChange:function(f){if(!this._oIM.getValue()){oKeywordHistory.show()
}else{oKeywordHistory.hide()
}},onFocus:function(f){$Element("sch").addClass("sch_write");
if(!this._oIM.getValue()){oKeywordHistory.show()
}else{oKeywordHistory.hide()
}nclk({},"sch.box","","")
},onBlur:function(f){setTimeout(function(){$Element("sch").removeClass("sch_write");
$Element("clear_input").hide()
},50)
},onSelect:function(g){oKeywordHistory.add(g.sText);
var f=document.forms.search,h=$Element(f);
h.append($("<input type='hidden' name='qdt' value='0'>"));
h.append($("<input type='hidden' name='acq'>"));
h.append($("<input type='hidden' name='acr'>"));
if(g.bPersonal){f.sm.value="mtp_sug.psn"
}else{if(g.bNature){f.sm.value="mtp_sug.nlq"
}else{f.sm.value="mtp_sug.top"
}}f.acq.value=g.sUserText;
f.acr.value=g.nRank;
setTimeout(function(){$Element("sch").removeClass("sch_write");
$Element("clear_input").hide()
},50)
},onSelectAnswer:function(g){var f=document.forms.search;
if(g.nAnswerID==1&&f.sm){f.sm.value="mtp_sug.asgl"
}else{if(g.nAnswerID==2&&f.sm){f.sm.value="mtp_sug.aslc"
}else{if(g.nAnswerID==3&&f.sm){f.sm.value="mtp_sug.aslt"
}else{if(g.nAnswerID==5){f.sm.value="mtp_sug.vote"
}else{if(g.nAnswerID==6){f.sm.value="mtp_sug.aspl"
}else{if(g.nAnswerID==7){f.sm.value="mtp_sug.astm"
}else{if(g.nAnswerID==8){f.sm.value="mtp_sug.ast"
}else{if(g.nAnswerID==9){f.sm.value="mtp_sug.ase"
}else{if(g.nAnswerID==10){f.sm.value="mtp_sug.aswt"
}else{if(g.nAnswerID==11){f.sm.value="mtp_sug.asiw"
}else{if(g.nAnswerID==12){f.sm.value="mtp_sug.asis"
}else{if(g.nAnswerID==14&&f.sm){var h=g.element;
if("A"!=h.tagName.toUpperCase()){var i=$Element(h).parent(function(j){return"A"==j.$value().tagName.toUpperCase()
})[0];
if(i){h=i.$value()
}}if(h){nclk(h,"sug.adrg","","")
}}else{f.sm.value="mtp_sug."+g.log
}}}}}}}}}}}}},onExtendKeyword:function(f){nclk({},"sug.plus","","")
},onMoveURL:function(f){f.stop();
var g=$Element('<a href="'+f.sURL+"\" onclick=\"nclk(this, 'sug.go', '', '');\"></a>");
g.fireEvent("click")
},onUse:function(f){nclk({},"sug.on","","")
},onUnuse:function(f){nclk({},"sug.off","","")
},onClose:function(f){var g=null;
if(this.isUse()){g="sug.onc"
}else{g="sug.offc"
}setTimeout(function(){$Element("sch").removeClass("sch_write");
$Element("clear_input").hide()
},50);
nclk({},g,"","")
},onHelp:function(f){var g=$Element('<a href="'+f.sUrl+"\" onclick=\"nclk(this, 'sug.help', '', '');\"></a>");
g.fireEvent("click");
f.stop()
},voteOpen:function(f){nclk({},"sug.vopen","","")
},voteClose:function(f){nclk({},"sug.vclose","","")
},voteHelp:function(f){var g=$Element("<a href=\"http://m.help.naver.com/faq/detail.nhn?faqId=22006\" onclick=\"nclk(this, 'sug.vhelp', '', '');\"></a>");
g.fireEvent("click")
}});
if(gsUaType=="OPERA"){return
}oKeywordHistory=new nhn.mobile.KeywordHistory(new nhn.mobile.HDataManager({useRemote:true,remoteOption:{sHost:"http://m.search.naver.com",sPath:"/remote_frame"},remoteFrameId:b,listMax:20}),new nhn.mobile.HNaverViewManager($("nx_suggest_layer"),{form:document.forms.search,input:$("query"),listSelector:"#nx_suggest_recent ul",nothingLayer:$("nx_suggest_recent_nothing"),offLayer:$("nx_suggest_recent_off"),clearBtn:$("nx_suggest_recent_clear"),unuseBtn:$("nx_suggest_recent_unuse")}),{});
oKeywordHistory.attach({onSelect:function(g){var f=document.forms.search,h=$Element(f);
h.append($("<input type='hidden' name='acr'>"));
f.sm.value="mtp_sly.hst";
f.acr.value=g.rank
},onUse:function(f){nclk({},"hlf.hon","","")
},onUnuse:function(f){nclk({},"hlf.hoff","","")
},onRemove:function(){nclk({},"hlf.hx","","")
},onRemoveAll:function(){window.setTimeout(function(){oKeywordTab.adjustTabPosition()
},10);
nclk({},"hlf.hdelall","","")
}});
oRegionHotKeyword=new nhn.mobile.RegionHotKeyword($("nx_suggest_hot"),$("query"),document.forms.search,{api:"http://target.search.naver.com/search.naver",geoApi:"http://mlocation.search.naver.com/location.naver",queryTemplate:'<li data-category="@category@" data-rank="@rank@"><a href="javascript:;" class="kwd _keyword"><span class="fix">@query@</span></a></li>',listSelector:".kwd_group",contentSelector:".sggt_content",menuSelector:".sggt_menu",randomSpot:[{name:"가로수길",latitude:37.52,longitude:127.023},{name:"강남U스트리트",latitude:37.503,longitude:127.025},{name:"강남고속터미널",latitude:37.505,longitude:127.004},{name:"강남대로",latitude:37.501,longitude:127.026},{name:"강남역거리",latitude:37.5,longitude:127.025},{name:"광화문광장",latitude:37.571,longitude:126.977},{name:"대구동성로",latitude:35.87,longitude:128.596},{name:"대학로",latitude:37.582,longitude:127.002},{name:"도산공원사거리",latitude:37.522,longitude:127.035},{name:"롯데월드",latitude:37.512,longitude:127.099},{name:"명동거리",latitude:37.562,longitude:126.985},{name:"명동성당사거리",latitude:37.565,longitude:126.988},{name:"미금역 일대",latitude:37.35,longitude:127.109},{name:"부산남포역",latitude:35.098,longitude:129.035},{name:"부산벡스코",latitude:35.169,longitude:129.134},{name:"부산서면",latitude:35.155,longitude:129.062},{name:"부산서면1번가",latitude:35.154,longitude:129.062},{name:"부평문화의거리",latitude:37.493,longitude:126.725},{name:"북촌한옥마을",latitude:37.579,longitude:126.985},{name:"삼청동 일대",latitude:37.582,longitude:126.981},{name:"서울역",latitude:37.553,longitude:126.973},{name:"서현로데오거리",latitude:37.386,longitude:127.124},{name:"신촌로터리",latitude:37.555,longitude:126.938},{name:"신촌이대거리",latitude:37.558,longitude:126.937},{name:"압구정로데오거리",latitude:37.526,longitude:127.038},{name:"이태원거리",latitude:37.535,longitude:126.997},{name:"인사동거리",latitude:37.574,longitude:126.985},{name:"일산라페스타",latitude:37.663,longitude:126.766},{name:"잠실 일대",latitude:37.513,longitude:127.1},{name:"잠실야구장",latitude:37.511,longitude:127.072},{name:"종각 일대",latitude:37.57,longitude:126.987},{name:"천호로데오거리",latitude:37.539,longitude:127.127},{name:"충무로 일대",latitude:37.561,longitude:126.992},{name:"코엑스",latitude:37.512,longitude:127.059},{name:"킨텍스",latitude:37.673,longitude:126.743},{name:"타임스퀘어",latitude:37.518,longitude:126.904},{name:"해운대해수욕장",latitude:35.159,longitude:129.158},{name:"홍대거리",latitude:37.555,longitude:126.923},{name:"제주국제공항",latitude:33.506,longitude:126.494},{name:"중문관광단지",latitude:33.248,longitude:126.414},{name:"성산항",latitude:33.472,longitude:126.931},{name:"용두암",latitude:33.515,longitude:126.512},{name:"천지연폭포",latitude:33.247,longitude:126.556},{name:"헤이리 예술마을",latitude:37.787,longitude:126.701},{name:"낙산해변",latitude:38.119,longitude:128.631}]});
oRegionHotKeyword.attach({onMore:function(f){nclk({},"hlf.lmore"+f.index,"","")
},onCurrentLocation:function(f){nclk({},"hlf.lnow","","")
},onSelect:function(f){this._elForm.sm.value="mtp_sly.loc"+f.index
}});
oFunKeyword=new nhn.mobile.FunKeyword($("nx_suggest_fun"),{api:"http://p.search.naver.com/funapi/search.naver",subject:[{id:"nonsense",log:"fquiz"},{id:"wisesaying",log:"fquote"},{id:"firstplay",log:"f1play"},{id:"boxoffice",log:"fbox"},{id:"hotvideo",log:"fmov"},{id:"hotapp",log:"fapp"},{id:"hotfeeling",log:"ffel"}]});
oFunKeyword.attach({onSelect:function(f){var g=f.element;
if(g&&g.href&&0<=g.href.search(/^\w+:\/\/m\.search\.naver\.com\/[^?]*(?=\?)/i)){g.href+="&sm=mtp_sly.fun"
}nclk(g,"hlf."+f.log,"","")
},onOtherSubject:function(f){nclk({},"hlf.fmore","","");
var g=$Element("nx_suggest_layer").offset().top;
window.scrollTo(1,g)
},onOtherContent:function(f){nclk({},"hlf."+f.log+"more","","");
var g=$Element("nx_suggest_layer").offset().top;
window.scrollTo(1,g)
}});
oKeywordTab=new nhn.mobile.KeywordTab($("nx_suggest_layer"),$("nx_suggest_tab"),$("nx_suggest_close"),[{el:$("nx_suggest_recent"),tabid:0,controller:oKeywordHistory},{el:$("nx_suggest_hot"),tabid:1,controller:oRegionHotKeyword},{el:$("nx_suggest_fun"),tabid:2,controller:oFunKeyword}]);
oKeywordTab.attach({onSelectTab:function(f){if(f.tabid==0){oKeywordHistory.show();
nclk(f.element,"hlf.hist","","")
}else{if(f.tabid==1){nclk(f.element,"hlf.loc","","")
}else{if(f.tabid==2){nclk(f.element,"hlf.fun","","")
}}}var g=$Element("query").offset().top;
window.scrollTo(1,g-17)
},onClose:function(f){nclk(f.element,"hlf.close","","")
}});
if(d){if(jindo.m.getDeviceInfo().iphone&&jindo.m.getDeviceInfo().version.search("4.3.3")==-1){$("query").focus()
}else{$Element("query").fireEvent("focus")
}}}function initSearchForm(){setTimeout(function(){if($("sch")&&$("clear_input")){$Element("sch").removeClass("sch_write");
$Element("clear_input").hide()
}},50)
}if(window.addEventListener){window.addEventListener("pagehide",initSearchForm,true)
}var SearchExtensionSearch={init:function(){this.sXpos="";
this.sYpos="";
this.sMessageGeolocationNoInfo="위치 정보 없음";
this.sMessageGeolocationLoading="불러오는 중...";
this.sMessageGeolocationNotSupport="현위치를 제공하지 않는 단말입니다.";
this.sMessageGeolocationError="위치 정보를 확인할 수 없습니다.\n위치를 직접 설정하시겠습니까?";
this.sMessageGeolocationErrorNonSetting="위치 정보 사용 동의 후\n해당 서비스를 이용할 수 있습니다.";
this.sMessageGeolocationTimeout="위치 신호가 불안정합니다.\n다시 시도하시겠습니까?";
this.sMessageGeolocationErrorRetry="위치 정보를 확인할 수 없습니다.\n현재 위치로 다시\n검색하시겠습니까?";
this.sMessageGeolocationErrorDomestic="현재 위치 사용이 불가능한\n지역입니다.\n위치를 직접 설정하시겠습니까?";
this.sMessageGeolocationErrorDomesticNonSetting="현재 위치 사용이 불가능한\n지역입니다.";
this.bInitialized=false;
this.bSettingGeolocation=true;
if(!isApp){$Fn(this._onClickSchExtBtn,this).attach($("sch_ext_btn"),"click")
}APP.init()
},_attachEvents:function(){$Fn(this._onClickRcreBtx,this).attach($("rcre_btx"),"click");
$Fn(this._onClickRcreBtn,this).attach($$(".rcre_a",$("rcre_u")),"click");
$Fn(this._onClickRegBtcgBtn,this).attach($("reg_btcg"),"click");
$Fn(this._onClickRegBtLoc,this).attach($("reg_btloc"),"click");
$Fn(this._onClickRegSchxBtn,this).attach($("reg_schx"),($Agent().navigator().mobile)?"touchstart":"mousedown");
$Fn(this._onClickRegSchsmBtn,this).attach($("reg_schsm"),"click");
$Fn(this._onClickRegSchsmBtn,this).attach($("reg_search"),"submit");
$Fn(this._onClickRegSchBtn,this).attach($$(".rcre_a",$("reg_sch_btn")),"click");
$Fn(this._onFocusRegSchInput,this).attach($("reg_schinp"),"focus");
$Fn(this._onBlurRegSchInput,this).attach($("reg_schinp"),"blur")
},_onClickSchExtBtn:function(b){nclk(b.element,"sch.qbtn","","");
if($Element("rcre").visible()){this.hideExtensionSearch()
}else{if(this.bInitialized){this.showExtensionSearch()
}else{this.getExtensionSearchLayer()
}}},_onClickRcreBtx:function(){$Element("sch_ext_btn").html('<span class="sprh sprh_region">지역검색 펼치기</span>');
$Element("sch_ext_btn").className("sch_btn sch_region");
$Element("rcre").hide()
},_onClickRcreBtn:function(b){if(!gisMobile){b.stop();
alert("사용하고 계신 환경(OS)에서는 지원되지 않는 기능입니다.");
return
}var f=b.element.title;
if(b.currentElement){f=b.currentElement.title
}var g="1";
if(f=="voicerecg"&&gisLogin){f+="&id="+gisLogin
}else{if(f=="hanja"){g="2"
}}var d="naversearchapp";
var c="search?qmenu="+f+"&version="+g;
APP.run(d,"",c);
b.stop()
},_onClickRegBtcgBtn:function(){if($Element("reg_sch").visible()){this.hideRegionSearchForm();
$Element("reg_sch").hide()
}else{this.showRegionSearchForm();
$Element("reg_sch").show()
}},_onClickRegBtLoc:function(b){if(b&&b.currentElement.id=="reg_btloc"){this.bSettingGeolocation=true
}else{this.bSettingGeolocation=false
}this.sPreviousLocation=this.elLocationResult.html();
this.tryToGetLocation()
},getExtensionSearchLayer:function(){var b=$Ajax("sub/search/rcre_now.shtml",{method:"get",timeout:3,onload:function(c){$Element("rcre").html(c.text());
SearchExtensionSearch._attachEvents();
SearchExtensionSearch.showExtensionSearch()
},ontimeout:function(){JEagleEyeClient.sendError("[SearchExtenstionSearch] getExtensionSearchLayer() : timeout")
},onerror:function(c){JEagleEyeClient.sendError("[SearchExtenstionSearch] getExtensionSearchLayer() : error - "+c.status())
}}).header("NV_BROWSER_TYPE",gsBrowserType).request();
b=null
},updateLocation:function(){var b=$Ajax("/nvgeolocation",{method:"get",timeout:3,onload:function(d){var c=d.json();
if(c.error=="0"){SearchExtensionSearch.elLocationResult.html(c.location);
if(c.lat&&c.lng){SearchExtensionSearch.sXpos=c.lng;
SearchExtensionSearch.sYpos=c.lat
}}else{SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sMessageGeolocationNoInfo)
}},ontimeout:function(c){SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sMessageGeolocationNoInfo)
},onerror:function(c){SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sMessageGeolocationNoInfo)
}}).request();
b=null
},tryToGetLocation:function(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(this.getLocation,this.handleError)
}else{alert(this.sMessageGeolocationNotSupport)
}},retryToGetLocation:function(b){if(confirm(b)){SearchExtensionSearch.tryToGetLocation()
}else{SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sPreviousLocation)
}},useSearchToGetLocation:function(b){SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sPreviousLocation);
if(confirm(b)){SearchExtensionSearch.showRegionSearchForm();
$Element("reg_sch").show()
}},getLocation:function(b){SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sMessageGeolocationLoading);
var g=b.coords.latitude;
var f=b.coords.longitude;
var c={};
c.lat=g;
c.lng=f;
if(typeof b.coords.name!="undefined"){c.name=b.coords.name
}var d=$Ajax("/nvgeo",{method:"get",timeout:3,onload:function(i){var h=i.json();
if(h.url){location.href=h.url
}else{if(h.error=="1"){if(SearchExtensionSearch.bSettingGeolocation){SearchExtensionSearch.useSearchToGetLocation(SearchExtensionSearch.sMessageGeolocationErrorDomestic)
}else{SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sPreviousLocation);
alert(SearchExtensionSearch.sMessageGeolocationErrorDomesticNonSetting)
}}else{if(h.error=="0"){SearchExtensionSearch.sXpos=f;
SearchExtensionSearch.sYpos=g;
$Cookie().set("m_loc",h.cookie,24,"naver.com");
SearchExtensionSearch.elLocationResult.html(h.location);
SearchExtensionSearch.hideRegionSearchForm()
}else{SearchExtensionSearch.retryToGetLocation(SearchExtensionSearch.sMessageGeolocationErrorRetry)
}}}},ontimeout:function(h){SearchExtensionSearch.retryToGetLocation(SearchExtensionSearch.sMessageGeolocationTimeout)
},onerror:function(h){SearchExtensionSearch.retryToGetLocation(SearchExtensionSearch.sMessageGeolocationErrorRetry)
}}).request(c);
d=null
},handleError:function(b){if(SearchExtensionSearch.bSettingGeolocation){SearchExtensionSearch.useSearchToGetLocation(SearchExtensionSearch.sMessageGeolocationError)
}else{alert(SearchExtensionSearch.sMessageGeolocationErrorNonSetting);
SearchExtensionSearch.elLocationResult.html(SearchExtensionSearch.sPreviousLocation)
}},_onClickRegSchxBtn:function(b){this.clearRegionSearchResult();
b.stop()
},_onClickRegSchsmBtn:function(){var c=$("reg_schinp").value;
if(c.trim()==""){alert("검색어를 입력해주세요");
$("reg_schinp").focus();
return
}var b=$Ajax("http://api2.map.naver.com/search/placeAddressList.nhn",{type:"jsonp",timeout:3,onload:function(f){var h=f.json();
var d=false;
var g;
if(typeof h.message.result!="undefined"){if(h.message.result.address.totalCount>0){d=true;
g=h.message.result.address.items
}else{if(h.message.result.place.totalCount>0){d=true;
g=h.message.result.place.items
}}}if(d){$Element("reg_schp").hide();
$Element("reg_schu").show();
SearchExtensionSearch.setRegionSearchResult(g)
}else{$Element("reg_schk").html("'"+c+"'");
$Element("reg_schp").show();
$Element("reg_schu").hide()
}},ontimeout:function(d){},onerror:function(d){}}).request({regionOrder:"1",caller:"mobile_home",pageNo:"1",pageSize:"10",includeNewAddress:true,query:c,xPos:this.sXpos,yPos:this.sYpos});
b=null;
$("reg_schinp").blur()
},_onClickRegSchBtn:function(b){if($Cookie().get("m_loc")){}else{b.stop();
if(navigator.geolocation){this.sPreviousLocation=this.elLocationResult.html();
navigator.geolocation.getCurrentPosition(this.getLocation,this.handleError)
}else{alert(this.sMessageGeolocationNotSupport)
}}},_onFocusRegSchInput:function(){$Element("reg_schx").show()
},_onBlurRegSchInput:function(){if($("reg_schinp").value==""){$Element("reg_schx").hide()
}else{$Element("reg_schx").show()
}},showExtensionSearch:function(){if(!this.bInitialized){if($("rcre_d")){this.elLocationResult=$Element("rcre_d")
}else{this.elLocationResult=$Element("<div>")
}this.bInitialized=true;
this.updateLocation()
}$Element("nx_suggest_layer").hide();
$Element("autocomplete_layer").hide();
$Element("sch_ext_btn").html('<span class="sprh sprh_regionfd">지역검색 접기</span>');
$Element("sch_ext_btn").className("sch_btn sch_region_fd");
$Element("rcre").show();
var b=$Element("sch").offset().top-8;
setTimeout(function(){window.scrollTo(0,b)
},50)
},hideExtensionSearch:function(){$Element("sch_ext_btn").html('<span class="sprh sprh_region">지역검색 펼치기</span>');
$Element("sch_ext_btn").className("sch_btn sch_region");
$Element("rcre").hide()
},showRegionSearchForm:function(){this.clearRegionSearchResult();
$Element("reg_btcg").html('변경<span class="imsc imsc_aru"> 접기</span>');
$Element("reg_btcg").className("reg_btcg reg_btcgfd");
$Element("reg_sch").show()
},hideRegionSearchForm:function(){if(!isApp){$Element("reg_btcg").html('변경<span class="imsc imsc_ard"> 펼치기</span>');
$Element("reg_btcg").className("reg_btcg");
$Element("reg_sch").hide()
}},setRegionSearchResult:function(g){var f="";
for(var d=0;
d<g.length;
d++){var h=g[d].longitude;
var j=g[d].latitude;
var c=(g[d].name)?g[d].name:"";
var b="<em>"+c+"</em><p>"+g[d].address+"</p>";
f+="<li class=\"reg_schl\"><a href=\"#\" class=\"reg_scha\" onclick=\"nclk(this, 'lcs.region', '', '', 1); SearchExtensionSearch.setPosition('"+h+"', '"+j+"', '"+c+"'); return false;\">"+b+"</a></li>"
}$Element("reg_schu").html(f)
},setPosition:function(d,f,c){var b={};
b.coords={};
b.coords.longitude=d;
b.coords.latitude=f;
b.coords.name=c;
this.getLocation(b)
},clearRegionSearchResult:function(){$Element("reg_schu").html("");
$("reg_schinp").value="";
$("reg_schinp").focus()
},findLocation:function(){SearchExtensionSearch._onClickRegBtLoc()
}};
typeof nhn=="undefined"&&(nhn={}),typeof nhn.mobile=="undefined"&&(nhn.mobile={}),nhn.mobile.Autocomplete=$Class({$init:function(g,f,i,h){this._oIM=g,this._oDM=f,this._oVM=i,this.option({cookieName:"autocomplete"}),this.option(h),this._oIM._setAutocomplete(this),this._oIM._setDataManager(f),this._oIM._setViewManager(i),this._oDM._setAutocomplete(this),this._oDM._setViewManager(i),this._oVM._setAutocomplete(this),this._oVM._setInputManager(g),this._bUse=this._initUse()
},getViewManager:function(){return this._oVM
},request:function(){this._oDM._request(this._oIM.getValue())
},show:function(){this._oVM.show()
},hide:function(){this._oVM.hide()
},select:function(b){this._oVM.select(b)
},selectAnswer:function(g,f,j,i,h){this._oVM.selectAnswer(g,f,j,i,h)
},extendKeyword:function(b){this._oVM.extendKeyword(b)
},moveURL:function(b){this._oVM.moveURL(b)
},use:function(){this.fireEvent("onUse")&&($Cookie().set(this.option("cookieName"),"use",21900,"naver.com"),this._bUse=!0,this._oVM.use())
},unuse:function(){this.fireEvent("onUnuse")&&($Cookie().set(this.option("cookieName"),"unuse",21900,"naver.com"),this._bUse=!1,this._oVM.unuse())
},setUse:function(b){this._bUse=b,b?this._oVM.use():(this.hide(),this._oVM.unuse())
},isUse:function(){return this._bUse
},_initUse:function(){var d=!0,c=$Cookie().get(this.option("cookieName"));
return c&&(d=c=="use"),d||this._oVM.unuse(),d
}}).extend(jindo.Component||jindo.m.Component),nhn.mobile.AcInputManager=$Class({$init:function(d,c){this._el=d,this._wel=$Element(this._el),this._elClear=c,this._elClear&&(this._welClear=$Element(this._elClear)),this._oAgent=$Agent().os(),this._sValue=this._wel.text(),this._attachEvent()
},getValue:function(){return this._wel.text()
},setValue:function(b){this._sValue=b,this._wel.text(b)
},change:function(){this._oDM._request(this._wel.text())
},focus:function(){this._el.focus()
},_setAutocomplete:function(b){this._oAuto=b
},_setDataManager:function(b){this._oDM=b
},_setViewManager:function(b){this._oVM=b
},_attachEvent:function(){$Fn(this._onFocus,this).attach(this._el,"focus"),$Fn(this._onBlur,this).attach(this._el,"blur");
if(this._oAgent.ios||this._oAgent.iphone){$Fn(this._onTouchstart,this).attach(this._el,"touchstart"),$Fn(this._onTouchstartClearBtn,this).attach(this._elClear,"touchstart")
}$Fn(this._onClickDoc,this).attach(document,"click");
var b=this._elClear;
b&&(b.addEventListener?b.addEventListener("mousedown",$Fn(this._onClickClear,this).bind(),!1):b.attachEvent("onmousedown",$Fn(this._onClickClear,this).bind(),!1))
},_onFocus:function(d){if(this._oAuto.fireEvent("onFocus")){this._oItvID=window.setInterval($Fn(this._onWatch,this).bind(d),200),this._welClear&&this._welClear.show();
var c=this._wel.offset().top-17;
c=c<=0?0:c,window.scrollTo(0,c)
}},_onBlur:function(b){if(this._bNotBlur){this._bNotBlur=!1;
return
}this._oAuto.fireEvent("onBlur")&&(this._oItvID&&(window.clearInterval(this._oItvID),this._oItvID=null),this._welClear&&!this._wel.text()&&this._welClear.hide())
},_onWatch:function(b){this._sValue!=this._wel.text()&&(this._sValue=this._wel.text(),this._onChange(b))
},_onChange:function(d){var c=this._wel.text();
this._oAuto.fireEvent("onChange",{value:c})&&this._oDM._request(c)
},_onTouchstart:function(b){window.document.activeElement!=this._el&&(this._el.focus(),b.stop(),!this._oVM.isShow()&&this._onChange(b))
},_onTouchstartClearBtn:function(b){this._oAuto.fireEvent("onClear")&&(this._el.value="",this._onChange(b),window.document.activeElement==this._el&&(this._bNotBlur=!0,this._el.blur()),this._el.focus(),b.stop())
},_onClickDoc:function(d){var c=d.element;
if(!c){return
}c==this._el&&(this._oVM.isShow()||this._onChange(d))
},_onClickClear:function(b){this._oAuto.fireEvent("onClear")&&(this._el.value="",this._onChange($Event(b)),this._el.focus(),b&&b.preventDefault&&(b.preventDefault(),b=document.createEvent("UIEvents"),b.initUIEvent("input",!0,!0,window,1),this._el.dispatchEvent(b)))
}}),nhn.mobile.AcDataManager=$Class({$init:function(g,f,j,i){this._sURL=g,this._sType=f||"jsonp",this._sMethod=j||"get",this._oParam={q:null,q_enc:"UTF-8",st:100,frm:"test",r_format:"json",r_enc:"UTF-8",r_unicode:"0",t_koreng:"1"};
for(var h in i){this._oParam[h]=i[h]
}},_setAutocomplete:function(b){this._oAuto=b
},_setViewManager:function(b){this._oVM=b
},_request:function(d){if(!this._oAuto.isUse()){d?this._oVM.show():this._oVM.hide();
return
}var d=this._sQuery=d.replace(/^\s+/g,"");
if(!d){this._oVM.paint({query:[],answer:[],nature:[],data:[]},d);
return
}if(!this._htCache){this._htCache={}
}else{if(this._htCache[d]&&this._htCache.hasOwnProperty(d)){this._oVM.paint(this._htCache[d],d);
return
}}if(!this._oAjax){var c=this;
this._oAjax=new $Ajax(this._sURL,{type:this._sType,method:this._sMethod,callbackid:"$3361",onload:function(b){var f=b.json();
c._handleJSON(c._sQuery,f)
}})
}this._oParam.q=d,this._oAjax.abort(),this._oAjax.request(this._oParam)
},_handleJSON:function(i,h){try{var o=[];
for(var n=0;
n<h.items.length;
n++){o[n]=[];
var m=h.items[n];
if(m.length>0){for(var l=0;
l<m.length;
l++){o[n][l]=m[l][0]
}}}this._htCache[i]={query:h.query,answer:h.answer,nature:h.nature,data:o},this._oVM.paint(this._htCache[i],i)
}catch(j){try{this._oVM.paint({query:[],answer:[],nature:[],data:[]},i)
}catch(j){}}}}),nhn.mobile.AcViewManager=$Class({$init:function(f,d){this.el=f,this.wel=$Element(f),this.oOption={listSelector:"ul",strMax:30,listMax:10};
for(var g in d){this.oOption[g]=d[g]
}this.oAgent=$Agent().navigator()
},_setAutocomplete:function(b){this.oAuto=b
},_setInputManager:function(b){this.oIM=b
},paint:function(b){},select:function(b){},selectAnswer:function(f,d,g){},extendKeyword:function(b){},moveURL:function(b){},use:function(){},unuse:function(){},toggle:function(){this.wel.visible()?this.hide():this.show()
},show:function(){this.oAuto.fireEvent("onShow")&&this.wel.show()
},hide:function(){this.oAuto.fireEvent("onHide")&&this.wel.hide()
},isShow:function(){return this.wel.visible()
}}),nhn.mobile.AcNaverViewManager=$Class({$init:function(d,c){this._elToggle=c.toggleBtn,this._elClose=c.closeBtn,this._elHelp=c.helpBtn,this._sHelpUrl=c.helpUrl,this._attachEvent(),this._USE_MSG="자동완성 기능을\n사용 하시겠습니까?",this._UNUSE_MSG="자동완성 기능을\n사용 중지 하시겠습니까?",this._USE_BTN_TXT="자동완성 끄기",this._UNUSE_BTN_TXT="자동완성 켜기",this.oOption.listSelector="ul._u_atcp"
},paint:function(R,Q){this._welList||this._setElement();
var P=R.query,O=R.answer,N=R.nature,M=R.data,L=this._welList,K=this.oOption.listMax,J=this._getCount(M),I=J<K?J:K,H=O&&O.length>0?!0:!1,G=!H&&N&&N.length>0?!0:!1,F=[],E=[],D=1,C=this._sTemplate;
if(!Q){Q=P[0]
}else{var B=this._getPersonalization(Q,E,N);
for(var A=0;
A<B.length;
A++){F[F.length]=B[A]
}D=B.length+1
}for(var A=0;
A<M.length;
A++){if(M[A]){for(var z=0;
z<M[A].length;
z++){var y=M[A][z];
if(E.indexOf&&(0<=E.indexOf(y)||0<=N.indexOf(y))){continue
}var x=this._isURL(y),w={rank:D++,txt:this._cutStr(y,this.oOption.strMax),in_txt:y,ex_btn:x||Q==y?"none":"block",link_btn:x?"block":"none",link_css:x?"u_atcp_ag":""};
F[F.length]=this._applyTemplate(C,w,P);
if(D-E.length>I){break
}}}}this._handleAnswer(O,P),G=this._handleNature(N,E,H,P),F.length>0||H||G?(L.html(F.join("")),this.show()):(L.html(""),this.hide())
},select:function(s){var r=this.oIM.getValue(),q=$Element(s.currentTarget),p=q.last(),o=p.text(),n=null,m=!1,l=!1;
p.attr("id")&&(n=p.attr("id").replace(/rank/gi,"")),q.hasClass("_personal")&&(m=!0),q.hasClass("_nature")&&(l=!0);
if(this.oAuto.fireEvent("onSelect",{nRank:n,sText:o,sUserText:r,bPersonal:m,bNature:l})){this.oIM.setValue(q.last().text());
var j=this.oAuto.option("form");
j&&j.submit()
}},selectAnswer:function(x,w,v,u,t){if(5==w){var s=x.srcElement?x.srcElement:x.target;
"MARK"==s.tagName.toUpperCase()&&(s=s.parentElement);
if("A"==s.tagName.toUpperCase()){this.oIM.setValue(s.innerText?s.innerText:s.textContent)
}else{return
}}else{if(15==w){var r=this.oAuto.option("form");
if(r){if(!r.kin_answer){var q=$Element(r);
q.append($('<input type="hidden" name="kin_answer" value="">'))
}var s=x.srcElement?x.srcElement:x.target;
"SPAN"==s.tagName.toUpperCase()&&(s=s.parentElement),r.kin_answer.value=s.getAttribute("data-kin_param"),r.where&&(r.where.value="m")
}}else{if(16==w){var s=x.srcElement?x.srcElement:x.target,p=$Element(s);
if(p.hasClass("_app")){this._oAppLauncher||(this._oAppLauncher=new nhn.mobile.AppLauncher);
var o=this;
setTimeout(function(){o._oAppLauncher.launch({ios:{scheme:s.getAttribute("data-ios_scheme"),installId:s.getAttribute("data-ios_install"),query:s.getAttribute("data-ios_query")},android:{scheme:s.getAttribute("data-android_scheme"),"package":s.getAttribute("data-android_package"),query:s.getAttribute("data-android_query")}})
},100)
}else{p.hasClass("_web")&&(t="sug.ansdirect")
}}else{if(19==w){var s=x.srcElement?x.srcElement:x.target,p=$Element(s);
while(s&&s!=this._elAnswer){if(p.hasClass("_btn_tel")){return
}if(p.hasClass("_btn_sns")){if(nhn.socialplugin){var n=$$.getSingle("._atcp_answer_social",this._elAnswer),m=$Element(n);
p.hasClass("on")?(p.removeClass("on"),m.hide()):(p.addClass("on"),m.show())
}else{alert("연결이 끊어졌습니다. \n잠시 후 다시 이용해주세요.")
}return
}if(p.hasClass("_btn_map")){return
}if(p.hasClass("_atcp_answer_social")){return
}s=s.parentElement,p=$Element(s)
}}}}}15<=w&&this.oIM.setValue(u);
if(this.oAuto.fireEvent("onSelectAnswer",{element:x.srcElement?x.srcElement:x.target,nAnswerID:w,keyword:u,log:t})){if(v){var r=this.oAuto.option("form");
r&&r.submit()
}}else{(new jindo.$Event(x)).stop()
}},extendKeyword:function(f){$Event(f).stopBubble();
var d=$Element(f.currentTarget).parent(),g=d.last().text();
this.oAuto.fireEvent("onExtendKeyword")&&(this.oIM.setValue(g),this.oIM.change(),this.oIM.focus())
},moveURL:function(f){$Event(f).stop();
var d=$Element(f.currentTarget).parent(),g=d.last().text();
g=0==g.search(/^(https?:\/\/)/)?g:"http://"+g,this.oAuto.fireEvent("onMoveURL",{sURL:g})&&(location.href=g)
},use:function(){this._welList||this._setElement(),this.oIM.change(),this._welList.show(),this._welAnswer.show(),$Element(this._elToggle).text(this._USE_BTN_TXT)
},unuse:function(){this._welList||this._setElement(),this._welList.hide(),this._welAnswer.hide(),this._welNature.hide(),$Element(this._elToggle).text(this._UNUSE_BTN_TXT)
},_attachEvent:function(){this._elToggle&&$Fn(this._onToggleUse,this).attach(this._elToggle,"click"),this._elHelp&&$Fn(this._onHelp,this).attach(this._elHelp,"click"),this._elClose&&$Fn(this._onClose,this).attach(this._elClose,"click"),jindo.$Fn(this._onPageHide,this).attach(window,"pagehide")
},_onToggleUse:function(d){var c=this.oAuto.isUse();
c&&confirm(this._UNUSE_MSG)?this.oAuto.unuse():!c&&confirm(this._USE_MSG)&&this.oAuto.use()
},_onHelp:function(b){this.oAuto.fireEvent("onHelp",{sUrl:this._sHelpUrl})&&(location.href=this._sHelpUrl)
},_onClose:function(){this.oAuto.fireEvent("onClose")&&this.wel.hide()
},_onPageHide:function(){this.wel.hide()
},_setElement:function(){this.wel.hide();
var d=$$.getSingle(this.oOption.listSelector,this.el);
this._welList=$Element(d),this._sTemplate=this._welList.html(),this._welList.empty(),this._elAnswer=jindo.$$.getSingle("._atcp_answer_wrap",this.el),this._welAnswer=this._elAnswer?jindo.$Element(this._elAnswer):null,this._elNature=jindo.$$.getSingle("._atcp_nature_wrap",this.el),this._welNature=this._elNature?jindo.$Element(this._elNature):null;
var c=$$.getSingle("._u_atcp_nature",this._elNature);
this._welNatureList=$Element(c),this._sNatureTemplate=this._welNatureList.html(),this._welNatureList.empty()
},_applyTemplate:function(g,f,j){for(var i in f){var h=f[i];
"txt"==i?h=this._highlight(h,j):"in_txt"==i&&(h=this._escapeHTML(h));
if(!f.propertyIsEnumerable(i)){continue
}g=g.replace(new RegExp("@"+i+"@","g"),h)
}return g
},_handleAnswer:function(i,h){if(this._welAnswer){var o="";
if(i&&i.length>0){var n=i[0],m=jindo.$("_atcp_answer_"+n);
if(m){o=m.innerHTML;
if(o){if("5"==n){o=this._makeElection(o,i,h)
}else{for(var l=1;
l<i.length;
l++){var j=this._escapeHTML(i[l]);
o=o.replace(new RegExp("http(s)?://_"+l+"_","g"),j).replace(new RegExp("(http://)?@"+l+"@","g"),j)
}if("19"==n){this._welAnswer.html(o),this._loadSocialPlugin(i);
return
}}}}}this._welAnswer.html(o)
}},_handleNature:function(i,h,o,n){var m=!1;
if(this._welNature){var l="";
if(!o&&i&&i.length>0){for(var j=0;
j<i.length;
j++){l+=this._sNatureTemplate.replace(/@txt@/g,this._highlight(i[j],n)).replace(/@rank@/g,j+1),m=!0
}}this._welNatureList.html(l)
}return m?this._welNature.show():this._welNature.hide(),m
},_getPersonalization:function(B,A,z){var y=new RegExp("[.$*+?|()\\[\\]{}\\\\]","g"),x=new RegExp(B.replace(y,"\\$&")),w=this.oOption.psnCount,v=this.oOption.psnTemplate,u=[],t=1,s=oKeywordHistory.get();
if(s){for(var r=0;
r<s.length;
r++){if(w<=u.length){return u
}var q=this._copyHistoryData(s[r]),p=q.in_txt;
if(p&&p.match(x)&&0>A.indexOf(p)&&0>z.indexOf(p)){var o=v.history;
q.rank=t++,q.ex_btn=B==p?"none":"block",u[u.length]=this._applyTemplate(o,q,[B]),A[A.length]=p
}}}return u
},_copyHistoryData:function(g){if(null==g||"object"!=typeof g){return g
}if(g instanceof Date){var f=new Date;
return f.setTime(g.getTime()),f
}if(g instanceof Array){var f=[];
for(var j=0,i=g.length;
j<i;
j++){f[j]=this._copyHistoryData(g[j])
}return f
}if(g instanceof Object){var f={};
for(var h in g){g.hasOwnProperty(h)&&(f[h]=this._copyHistoryData(g[h]))
}return f
}throw new Error("Unable to copy Data.")
},_getCount:function(f){var d=0;
for(var g=0;
g<f.length;
g++){d+=f[g].length
}return d
},_cutStr:function(f,d){var g=d>0&&f.length>d?f.substring(0,d)+"...":f;
return g
},_isURL:function(b){return/(^((https?):\/\/)?([a-z0-9-]+\.)+(edu|org|net|com|gov|info|coop|biz|kr|cn|de|es|eu|fr|hk|in|jp|us|uk|au|sg)([\/?]\S*)?)$/i.test(b)
},_highlight:function(g,f){for(var i=0;
i<f.length;
i++){var h=this._makeStrong(this._escapeHTML(g),this._escapeHTML(f[i]));
if(""!=h){return h
}}return g
},_makeStrong:function(u,t){var s=new RegExp("[.*+?|()\\[\\]{}\\\\]","g"),r=t.replace(/()/g," ").replace(/^\s+|\s+$/g,""),q=r.match(/\S/g),p=[];
for(var o=0,n=q.length;
o<n;
o++){p.push(q[o].replace(/[\S]+/g,"["+q[o].toLowerCase().replace(s,"\\$&")+"|"+q[o].toUpperCase().replace(s,"\\$&")+"] ").replace(/[\s]+/g,"[\\s]*"))
}r="("+p.join("")+")";
var m="",l=new RegExp(r);
return l.test(u)&&(m=u.replace(l,"<mark class='u_atcp_mk'>"+RegExp.$1+"</mark>")),m
},_escapeHTML:function(f){f&&(f=f.replace(/\$/g,"$$$$"));
var d={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"},g=f.replace(/[<>&"']/g,function(b){return d[b]?"&"+d[b]+";":b
});
return g
},_makeElection:function(i,h,o){var n='<li class="u_atcp_l"><a href="javascript:;" class="u_atcp_a">@content@</a></li>',m='<ul id="_atcmp_election" title="자동완성" class="u_atcp">';
for(var l=1;
l<h.length;
l++){var j=this._highlight(h[l],o);
j||(j=h[l]),m+=n.replace(/@content@/,j)
}return m+="</ul>",this._isUseElection()?(i=i.replace(/@close_class@/,""),i=i.replace(/@close@/,"닫기")):(i=i.replace(/@close_class@/,"u_atcp_rlfd"),i=i.replace(/@close@/,"열기")),i.replace(/@contents@/,m)
},toggleElection:function(d){var c=this._welAnswer.first();
d&&c&&(c.hasClass("u_atcp_rlfd")?(c.removeClass("u_atcp_rlfd"),d.innerHTML='선거정보 닫기<span class="u_atcp_icfd"></span>',$Cookie().set("eluse","Y",30,"naver.com"),this.oAuto.fireEvent("voteOpen",{element:d})):(c.addClass("u_atcp_rlfd"),d.innerHTML='선거정보 열기<span class="u_atcp_icfd"></span>',$Cookie().set("eluse","N",30,"naver.com"),this.oAuto.fireEvent("voteClose",{element:d})))
},clickHelp:function(b){this.oAuto.fireEvent("voteHelp",{element:b})
},_isUseElection:function(){var b=$Cookie().get("eluse");
return"N"!=b
},_loadSocialPlugin:function(j){var i="http://m.search.naver.com/search.naver?where=m&query="+j[1];
this._oSocialPluginInfo={style:"m_unity",evkey:"ac_restaurant",servicename:"통합검색",title:j[5]+" \n"+j[6],source:i,cafe:{sourceType:"111",sourceTitle:"네이버 통합검색",sourceForm:2,sourceUrl:i},blog:{blogId:"naver",sourceType:"111",sourceTitle:"네이버 통합검색",sourceUrl:i}};
if(!nhn.socialplugin){var q=document.createElement("script"),p=document.head?document.head:document.getElementsByTagName("head")[0],o=new Date,n=o.getDate(),m=o.getMonth()+1,l=o.getFullYear();
n<10&&(n="0"+n),m<10&&(m="0"+m),$Fn(this._drawSocialPlugin,this).attach(q,"load"),q.src="http://spi.naver.net/js/release/socialplugin_news_m_v1.js?"+l+m+n,p.appendChild(q)
}else{this._drawSocialPlugin()
}},_drawSocialPlugin:function(){var b=$$.getSingle("._atcp_answer_social",this._elAnswer);
b.id="_atcp_answer_social",nhn.socialplugin.drawSpiLayer(this._oSocialPluginInfo,"_atcp_answer_social")
}}).extend(nhn.mobile.AcViewManager);
if(typeof nhn=="undefined"){nhn={}
}if(typeof nhn.mobile=="undefined"){nhn.mobile={}
}nhn.mobile.AppLauncher=$Class({$init:function(){this.EXECUTION_LIMIT=2000,this.INSTALL_DELAY=1500;
this._oAgent=$Agent().os()
},launch:function(b){if(this._oAgent.ios||this._oAgent.iphone){this._installIOS(b);
this._launchIOS(b)
}else{if(this._oAgent.android){this._launchAndroid(b)
}}},_installIOS:function(d){var g=new Date(),f=this;
naverAppCheckTimer=setTimeout(function(){if(new Date()-g<f.EXECUTION_LIMIT){window.location.href="https://itunes.apple.com/app/id"+d.ios.installId+"?mt=8"
}},this.INSTALL_DELAY)
},_launchIOS:function(b){window.location.href=b.ios.scheme+"://"+b.ios.query
},_launchAndroid:function(g){var i="intent://"+g.android.query;
i+="#Intent;";
for(var f in g.android){var h=g.android[f];
if(h&&"query"!=f){i+=f+"="+h+";"
}}window.location.href=i+"end"
}});
nhn.mobile.FrameMessageSender=$Class({$init:function(d,c){if(!window.postMessage){throw new Error("Unsupported browser.")
}arguments.length==1&&(typeof arguments[0]=="string"||typeof arguments[0]=="object"&&arguments[0].nodeType?(d=arguments[0],c=null):(c=arguments[0],d=null)),this._initVar(c),this._makeFrame(d),this._attachEvent()
},_initVar:function(b){this._sRequestHost=b.sHost,this._sRequestPath=b.sPath,this._nCheckInterval=b.nCheckInterval?b.nCheckInterval:2000,this._elIframe=null,this._bIsFrameReady=!1,this._aJobQueue=[],this._aRequestsCallbacks={},this._nJobSeq=0,this._htEvent={},this._elIframe=null,this._nLoadCount=0,this._sFrameId="RF_STORAGE_"+(new Date).getTime()+"_"+Math.floor(Math.random()*100)
},_makeFrame:function(d){if(!this._sRequestHost||this._sRequestHost==""){return
}var c=this;
d&&(this._elIframe=typeof d=="string"?jindo.$(d):d),this._elIframe===null?(this._elIframe=document.createElement("iframe"),this._elIframe.style.cssText="position:absolute;width:1px;height:1px;left:-9999px;display:none",document.body.appendChild(this._elIframe),this._elIframe.src=this._sRequestHost+this._sRequestPath,this._elIframe.id=this._sFrameId,this._nLoadCount++,this.nCheckTimer=setTimeout(function(){c._checkFrameLoad()
},this._nCheckInterval)):(this._bIsFrameReady=!0,this._sFrameId=this._elIframe.id)
},_checkFrameLoad:function(){if(this._nLoadCount>5){throw new Error("Fail to load iframe.")
}this._bIsFrameReady||this._makeFrame()
},_attachEvent:function(){this._htEvent._load={el:this._elIframe,ref:$Fn(this._onFrameLoaded,this).attach(this._elIframe,"load")},this._htEvent._message={el:window,ref:$Fn(this._onMessage,this).attach(window,"message")}
},_onFrameLoaded:function(f){this._bIsFrameReady=!0,clearTimeout(this.nCheckTimer);
if(this._aJobQueue.length){for(var d=0,g=this._aJobQueue.length;
d<g;
d++){this._sendRequest(this._aJobQueue[d])
}this._aJobQueue=[]
}},_onMessage:function(f){var d=f.$value();
if(d.origin!=this._sRequestHost){return !1
}var g=$Json(d.data).toObject();
this._aRequestsCallbacks[g.reqId]&&(this._aRequestsCallbacks[g.reqId](g.resData),delete this._aRequestsCallbacks[g.reqId]),d=null
},sendData:function(g,f){var i=this._nJobSeq+"_"+(new Date).getTime()+"_"+Math.floor(Math.random()*100),h={reqId:i,reqData:g||{}};
this._aRequestsCallbacks[i]=f,this._bIsFrameReady?this._sendRequest(h):this._aJobQueue.push(h)
},getQueueSize:function(){return this._aJobQueue.length
},_sendRequest:function(b){this._elIframe.contentWindow.postMessage($Json(b).toString(),this._sRequestHost)
},reloadFrame:function(){var b=this;
this._bIsFrameReady=!1,this._elIframe.src=this._sRequestHost+this._sRequestPath,this._nLoadCount=1,this.nCheckTimer=setTimeout(function(){b._checkFrameLoad()
},this._nCheckInterval)
},destroy:function(){var d=null;
for(sKey in this._htEvent){d=this._htEvent[sKey],d.ref.detach(d.el,sKey.substring(sKey.lastIndexOf("_")+1))
}try{document.body.removeChild(this._elIframe)
}catch(c){}this._sRequestHost=null,this._sRequestPath=null,this._elIframe=null,this._bIsFrameReady=!1,this._aJobQueue=null,this._aRequestsCallbacks=null,this._nJobSeq=null,this._htEvent=null
}}),nhn.mobile.Storage=$Class({$init:function(b){if(!this._isSupportsLocalStorage()){throw new Error("Unsupported browser.")
}this.option(b),this._initVar(),this._attachEvent()
},_initVar:function(){this._oLocalStorage=window.localStorage
},_attachEvent:function(){},setItem:function(d,c){this._oLocalStorage.setItem(d,c),this.fireEvent("onAddItem",{itemKey:d})
},setItems:function(d){for(var c in d){this._oLocalStorage.setItem(c,d[c])
}},getItem:function(d){var c=this._oLocalStorage.getItem(d);
return this.fireEvent("onReadItem",{itemValue:c,itemKey:d}),c
},getAllItems:function(){var g=this._oLocalStorage.length,f={},j=null,i=null;
for(var h=0;
h<g;
h++){j=this._oLocalStorage.key(h),f[j]=this._oLocalStorage.getItem(j)
}return this.fireEvent("onReadAllItem",{item:f}),f
},removeItem:function(b){this._oLocalStorage.removeItem(b),this.fireEvent("onRemoveItem",{itemKey:b})
},clearStorage:function(){this._oLocalStorage.clear(),this.fireEvent("onClearStorage")
},getLength:function(){return this._oLocalStorage.length
},_isSupportsLocalStorage:function(){try{return"localStorage" in window&&window.localStorage!==null
}catch(b){return !1
}},reloadStorage:function(){this._oLocalStorage=window.localStorage
},destroy:function(){this._oLocalStorage=null
}}).extend(jindo.Component||jindo.m.Component),nhn.mobile.LocalFrameStorage=$Class({$init:function(b){},_initVar:function(){this.$super._initVar();
var b=this.option("sSenderFrameId");
this._oSender=new nhn.mobile.FrameMessageSender(b,this.option("htSenderOption"))
},getItem:function(d){var c=this;
this._requestMessage({action:"GET_ITEM",key:d},function(b){b.success&&c.fireEvent("onReadItem",{itemValue:b.value,itemKey:b.key})
})
},setItem:function(f,d){var g=this;
this._requestMessage({action:"SET_ITEM",key:f,value:d},function(b){b.success&&g.fireEvent("onAddItem",{itemKey:b.key})
})
},removeItem:function(d){var c=this;
this._requestMessage({action:"REMOVE_ITEM",key:d},function(b){b.success&&c.fireEvent("onRemoveItem",{itemKey:b.key})
})
},clearStorage:function(){var b=this;
this._requestMessage({action:"CLEAR_STORAGE"},function(c){c.success&&b.fireEvent("onClearStorage")
})
},_requestMessage:function(d,c){this._oSender.sendData(d,c)
},reloadStorage:function(){this._oSender.reloadFrame()
},destroy:function(){this.$super.destroy(),this._oSender.destroy()
}}).extend(nhn.mobile.Storage),nhn.mobile.KeywordHistory=$Class({$init:function(f,d,g){this.oDM=f,this.oVM=d,this.oDM.setViewManager(d),this.oVM.setHistory(this),this.oVM.setDataManager(f),this._bInitUseage=!1,this._initUse(),this.option({removeAllMsg:"최근검색어를 모두\n삭제하시겠습니까?",useMsg:"최근검색어 저장 기능을\n사용 하시겠습니까?",unuseMsg:"최근검색어 저장 기능을\n사용 중지하시겠습니까?"}),this.option(g)
},close:function(){this.fireEvent("onClose")&&this.hide()
},show:function(){if(!this._bInitUseage){var b=this;
setTimeout(function(){b.show(),b=null
},20);
return
}this.oVM.paint(this.oDM.getHistory()),this.oVM.show()
},hide:function(){this.oVM.hide()
},toggleUse:function(){this._bUse?this.unuse():this.use()
},use:function(){this.fireEvent("onUse")&&confirm(this.option("useMsg"))&&(this._bUse=!0,this.oDM.removeUsage(),this.oVM.use())
},unuse:function(){this.fireEvent("onUnuse")&&confirm(this.option("unuseMsg"))&&(this._bUse=!1,this.oDM.setUsage("N"),this.oVM.unuse())
},remove:function(d,c){this.fireEvent("onRemove")&&($Event(d).stop(),this.oDM.remove(parseInt(c)),this.oVM.paint(this.oDM.getHistory()))
},removeAll:function(b){this.fireEvent("onRemoveAll")&&confirm(this.option("removeAllMsg"))&&(this.oDM.removeAll(),this.oVM.paint([]))
},select:function(b){this.oVM.select(b)
},add:function(b){this._bUse&&this.oDM.add(b)
},isInit:function(){return this._bInitUseage
},isUse:function(){return this._bUse
},get:function(){return this._bUse?this.oDM.getHistory():[]
},_initUse:function(){if(!this.oDM.isUsageLoaded()){var b=this;
setTimeout(function(){b._initUse(),b=null
},20);
return
}"N"==this.oDM.getUsage()?this._bUse=!1:this._bUse=!0,this._bInitUseage=!0
}}).extend(jindo.Component||jindo.m.Component),nhn.mobile.HDataManager=$Class({$init:function(d){this._oOption={usageKey:"AC_H_U",historyKey:"search_history",useRemote:!1,remoteOption:{},remoteFrameId:"",listMax:10,strMax:30};
for(var c in d){this._oOption[c]=d[c]
}this._bHas=this.hasStorage(),this._oStorage,this._bHas?(this._oStorage=this._oOption.useRemote?new nhn.mobile.LocalFrameStorage({htSenderOption:this._oOption.remoteOption,sSenderFrameId:this._oOption.remoteFrameId}):new nhn.mobile.Storage,oThis=this,this._oStorage.attach({onReadItem:function(b){b.itemKey==oThis._oOption.historyKey?oThis._aData=oThis._makeData(b.itemValue):b.itemKey==oThis._oOption.usageKey&&(oThis._sUsage=b.itemValue,oThis._bUsageLoaded=!0)
}})):this._oStorage=$Cookie(),jindo.$Fn(this._onPageShow,this).attach(window,"pageshow"),jindo.$Fn(this._onPageHide,this).attach(window,"pagehide"),this._load()
},_onPageShow:function(){this._bLoaded||this._load()
},_onPageHide:function(){this._bLoaded=!1,this._bUsageLoaded=!1
},_load:function(){this._bHas?(this._oStorage.reloadStorage(),this._get(this._oOption.historyKey),this._get(this._oOption.usageKey)):(this._oStorage=$Cookie(),this._makeData(this._get(this._oOption.historyKey)),this._sUsage=this._get(this._oOption.usageKey),this._bUsageLoaded=!0)
},setViewManager:function(b){this._oVM=b
},add:function(g){g=this._trim(g);
if(g){var f=this._aData,i=$A(f);
for(var h=0;
h<f.length;
h++){if(g==f[h].in_txt){i.splice(h,1);
break
}}i.unshift({txt:this._cutStr(g,this._oOption.strMax),in_txt:g,date:this._getDateString()}),i.length()>this._oOption.listMax&&i.pop(),this.setHistory(i.$value())
}},remove:function(d){var c=$A(this._aData);
c.splice(d,1),this.setHistory(c.$value())
},removeAll:function(){this.setHistory([])
},getHistory:function(){return this._aData||[]
},setHistory:function(g){var f="";
for(var j=0;
j<g.length;
j++){var i=g[j].in_txt,h=g[j].date;
f+=(j>0?"&":"")+i.replace(/\&/g,"|^|").replace(/#/g,"|@|")+"#"+h,g[j].rank=j
}this._aData=g,this._set(this._oOption.historyKey,f)
},removeHistory:function(){this._remove(this._oOption.historyKey)
},getUsage:function(){return this._sUsage
},setUsage:function(b){this._sUsage=b,this._set(this._oOption.usageKey,b)
},removeUsage:function(){this._sUsage=undefined,this._remove(this._oOption.usageKey)
},isRemote:function(){return this._oOption.useRemote
},isLoaded:function(){return this._bLoaded
},isUsageLoaded:function(){return this._bUsageLoaded
},hasStorage:function(){try{return !!localStorage.getItem
}catch(b){return !1
}},_makeData:function(g){this._aData=[],aData=g?g.split("&"):[];
for(var f=0;
f<aData.length;
f++){if(aData[f]){var i=aData[f].split("#"),h=i[0].replace(/\|\^\|/g,"&").replace(/\|@\|/g,"#");
this._aData.push({rank:f,txt:this._cutStr(h,this._oOption.strMax),in_txt:h,date:i.length>1&&i[1]?i[1]:""})
}}return this._bLoaded=!0,this._aData
},_get:function(d){try{return this._bHas?this._oStorage.getItem(d):this._oStorage.get(d)
}catch(c){}},_set:function(f,d){try{this._bHas?this._oStorage.setItem(f,d):this._oStorage.set(f,d)
}catch(g){}},_remove:function(d){try{this._bHas?this._oStorage.removeItem(d):this._oStorage.remove(d)
}catch(c){}},_cutStr:function(f,d){var g=d>0&&f.length>d?f.substring(0,d)+"...":f;
return g
},_trim:function(b){return b.replace(/^\s+|\s+$/g,"")
},_getDateString:function(){var f=new Date,d=f.getMonth()+1,g=f.getDate();
return(d>=10?d:"0"+d)+"."+(g>=10?g:"0"+g)
}}),nhn.mobile.HViewManager=$Class({$init:function(f,d){this.el=f,this.wel=$Element(f),this.oOption={listSelector:"ul",strMax:30,listMax:10};
for(var g in d){this.oOption[g]=d[g]
}},setHistory:function(b){this.oHistory=b
},setDataManager:function(b){this.oDM=b
},paint:function(b){},select:function(b){},use:function(){},unuse:function(){},show:function(){this.oHistory.fireEvent("onShow")&&this.wel&&this.wel.show()
},hide:function(){this.oHistory.fireEvent("onHide")&&this.wel&&this.wel.hide()
}}),nhn.mobile.HNaverViewManager=$Class({$init:function(d,c){this._elInput=this.oOption.input,this._elForm=this.oOption.form,this._elOffLayer=this.oOption.offLayer,this._elNothingLayer=this.oOption.nothingLayer,this._elClearBtn=this.oOption.clearBtn,this._elUnuseBtn=this.oOption.unuseBtn,$Fn(this._onPageHide,this).attach(window,"pagehide"),$Fn(function(b){this.oHistory.isUse()&&this.oDM.getHistory().length&&this.oHistory.removeAll()
},this).attach(this._elClearBtn,"click"),$Fn(function(b){this.oHistory.toggleUse()
},this).attach(this._elUnuseBtn,"click")
},paint:function(f){this._welList||this._setElement();
var d=[];
if(this.oHistory.isUse()){this._elOffLayer.style.display="none";
for(var g=0;
g<f.length;
g++){d[d.length]=this._applyTemplate(this._sTemplate,f[g])
}d.length?(this._welList.show(),this._elNothingLayer.style.display="none",$Element(this._elClearBtn).parent().show("inline-block")):(this._welList.hide(),this._elNothingLayer.style.display="block",$Element(this._elClearBtn).parent().hide()),$Element(this._elUnuseBtn).text("검색어저장 끄기")
}else{this._welList.hide(),this._elNothingLayer.style.display="none",this._elOffLayer.style.display="block",$Element(this._elUnuseBtn).text("검색어저장 켜기"),$Element(this._elClearBtn).parent().hide()
}this._welList.html(d.join(""))
},select:function(g){var f=$Element(g.currentTarget),i=f.attr("data-rank"),h=f.last().text();
this.oHistory.fireEvent("onSelect",{text:h,rank:i*1+1})&&(this.oDM.add(h),this._elInput.value=h,this._elForm.submit())
},use:function(){this.paint(this.oDM.getHistory())
},unuse:function(){this.paint([])
},_setElement:function(){this.wel.hide();
var b=$$.getSingle(this.oOption.listSelector,this.el);
this._welList=$Element(b),this._sTemplate=this._welList.html(),this._welList.empty()
},_applyTemplate:function(g,f){for(var i in f){if(!f.propertyIsEnumerable(i)){continue
}var h=f[i];
if("txt"==i||"in_txt"==i){h=this._escapeHTML(h)
}g=g.replace(new RegExp("@"+i+"@","g"),h)
}return g
},_onPageHide:function(){this.wel.hide()
},_escapeHTML:function(f){f&&(f=f.replace(/\$/g,"$$$$"));
var d={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"},g=f.replace(/[<>&"']/g,function(b){return d[b]?"&"+d[b]+";":b
});
return g
}}).extend(nhn.mobile.HViewManager),typeof nhn=="undefined"&&(nhn={}),typeof nhn.mobile=="undefined"&&(nhn.mobile={}),nhn.mobile.RegionHotKeyword=$Class({$init:function(g,f,i,h){this._el=g,this._wel=$Element(this._el),this._welInput=$Element(f),this._elForm=i,this.option({cookieName:"m_loc",categoryCount:6,queryCount:10}),this.option(h),this._setElement(),this._attachEvent()
},_setElement:function(){this._elList=$$.getSingle(".kwd_group",this._el);
if(this._elList){this._welList=$Element(this._elList),this._sTemplate=this._welList.html(),this._welList.empty(),this._sQueryTemplate=this.option("queryTemplate");
var h=$$.getSingle("._gps_on",this._el);
this._welGpsOn=$Element(h);
var g=$$.getSingle("._gps_off",this._el);
this._welGpsOff=$Element(g);
var m=$$.getSingle("._random_spot",this._el);
this._welRandomSpot=$Element(m);
var l=$$.getSingle("._network_error",this._el);
this._welNetworkError=$Element(l);
var j=$$.getSingle("._no_keyword",this._el);
this._welNoKeyword=$Element(j);
var i=$$.getSingle("._oversea",this._el);
this._welOversea=$Element(i),this._elCurrentLocation=$$.getSingle("._current_location",this._el)
}},_attachEvent:function(){$Fn(this._onClickList,this).attach(this._elList,"click"),$Fn(this._onClickLocation,this).attach(this._elCurrentLocation,"click"),$Fn(this._onResize,this).attach(window,"resize")
},_onClickList:function(h){var g=h.element;
while(g!=this._elList){var m=$Element(g);
if(m.hasClass("_more_btn")){var l=m.parent();
this.fireEvent("onMore",{el:g,index:l.attr("data-rank"),type:l.attr("data-type")})&&l.toggleClass("kwd_more");
return
}if(m.hasClass("_keyword")){var j=m.parent(),i=m.first().text();
this.fireEvent("onSelect",{el:g,index:j.attr("data-category"),rank:j.attr("data-rank"),keyword:i})&&(this._welInput.text(i),this._elForm.submit());
return
}g=g.parentElement
}},_onClickLocation:function(b){this.fireEvent("onCurrentLocation")&&(navigator.geolocation?this._getCurrentPosition():this.fireEvent("geoloacationIsNotSupported")&&alert("현재 위치 인식이 불가능한 브라우저입니다. 다른 브라우저로 이용해 주세요."))
},_onResize:function(b){this._rePaintMoreBtn()
},_getCurrentPosition:function(){navigator.geolocation.getCurrentPosition($Fn(this._requestGeoLoc,this).bind(),$Fn(this._erroronGeoLoc,this).bind(),{enableHighAccuracy:!0,maximumAge:0})
},_erroronGeoLoc:function(b){this.fireEvent("occurErrorWhileGettingCurrentPosition")&&(b.code==1||b.code==2?jindo.$Agent().os().ios?confirm('위치정보 사용을 허용하지 않으신 상태라 현위치 확인이 되지 않습니다. "승인"을 누르시면 변경 방법을 보실 수 있습니다.')&&(parent.window.location.href="http://m.help.naver.com/serviceMain.nhn?readType=1&faqId=27468&falias=mo_main_web&type=faqDetail"):jindo.$Agent().os().android?confirm('위치정보 사용을 허용하지 않으신 상태라 현위치 확인이 되지 않습니다. "확인"을 누르시면 변경 방법을 보실 수 있습니다.')&&(parent.window.location.href="http://m.help.naver.com/serviceMain.nhn?readType=1&faqId=27469&falias=mo_main_web&type=faqDetail"):alert("현재 위치를 사용하려면 설정정보를 확인해주세요"):b.code==0||b.code==3?alert("일시적으로 현위치 확인이 되지 않습니다. 잠시 후 다시 이용해 주세요."):alert("일시적으로 현위치를 확인할 수 없습니다."))
},show:function(){this.fireEvent("onShow")&&this._request()
},hide:function(){this.fireEvent("onHide")&&this._wel.hide()
},_request:function(){var h="",g="";
if(!this._hasLocationInfo()){this._bRandom=!0;
var m=this.option("randomSpot"),l=null;
0<m.length&&(l=m[Math.floor(Math.random()*m.length)],l&&(h=l.latitude,g=l.longitude,this._sName=l.name))
}else{this._bRandom=!1
}if(!this._oAjax){var j=this;
this._oAjax=new $Ajax(this.option("api"),{type:"jsonp",method:"get",callbackid:"$3361",timeout:5,onload:function(d){var c=d.json();
j._handleResult(c)
},ontimeout:function(){j._handleError()
},onerror:function(){j._handleError()
}})
}var i={category_count:this.option("categoryCount"),query_count:this.option("queryCount")};
h&&(i.latitude=h),g&&(i.longitude=g),this._bRandom&&(i.no_position_hotspot="1"),this._oAjax.abort(),this._oAjax.request(i)
},_handleResult:function(b){b&&b.message&&b.message.result&&b.message.result.status&&0==b.message.result.status.code?this._paint(b.message.result):this._handleError()
},_handleError:function(){this._welNoKeyword.hide(),this._welList.hide(),this._welOversea.hide(),this._welNetworkError.show()
},_requestGeoLoc:function(j){var i=38.558,q=31.963,p=131.797,o=124.057,n=j.coords.latitude,m=j.coords.longitude;
if(n&&n>=q&&n<=i&&m&&m>=o&&m<=p){if(!this._oGeoAjax){var l=this;
this._oGeoAjax=new $Ajax(this.option("geoApi"),{type:"jsonp",method:"get",callbackid:"$3361",onload:function(d){var c=d.json();
l._handleGeoResult(c)
},onerror:function(){l._handleGeoError()
},ontimeout:function(){l._handleGeoError()
}})
}this._oGeoAjax.abort(),this._oGeoAjax.request({format:"jsonp",lagree:1,caller:"naver_search_target",coords:n+":"+m})
}else{this.fireEvent("invalidLocation")&&(this._welList.hide(),this._welNoKeyword.hide(),this._welNetworkError.hide(),this._welOversea.show())
}},_handleGeoResult:function(f){if(f.message.error){this._handleGeoError();
return
}if(f.message.result.url){location.href=$S(f.message.result.url).unescapeHTML()+"&return_url="+encodeURIComponent(location.href)
}else{var d=f.message.result.items.item,g=d&&d.constructor===Array?d[0]:d;
this._setCookie(g.locEnc),this._request()
}},_handleGeoError:function(){this.fireEvent("occurErrorWhileSavingCurrentPosition")&&confirm("위치 정보 인식 중 오류가 발생했습니다. 현위치 설정을 다시 할까요?")&&this._getCurrentPosition()
},_paint:function(h){this._welList||this._setElement();
if(this._welList){this._bRandom?(this._welGpsOn.hide(),this._welGpsOff.show(),this._welRandomSpot.first().html(this._sName),this._welRandomSpot.show()):(this._welGpsOff.hide(),this._welGpsOn.first().html(h.region.dong),this._welGpsOn.show(),this._welRandomSpot.hide());
var g=[],m=[],l=parseInt(h.total,10),j=this.option("categoryCount")||6;
0<l&&h.items&&h.items.item&&(m=h.items.item);
for(var i=0;
i<m.length&&i<j;
i++){g[g.length]=this._applyTemplate(this._sTemplate,m[i],i)
}this._welList.html(g.join("")),this._welNetworkError.hide(),this._welOversea.hide(),g.length?(this._welNoKeyword.hide(),this._welList.show()):(this._welList.hide(),this._welNoKeyword.show()),this._rePaintMoreBtn()
}},_applyTemplate:function(s,r,q){for(var p in r){if(!r.propertyIsEnumerable(p)){continue
}var o=r[p];
if("txt"==p||"in_txt"==p){o=this._escapeHTML(o)
}s=s.replace(new RegExp("@"+p+"@","g"),o)
}s=s.replace(/@rank@/,q+1);
var n,m=[],l=r.queries;
for(var j=0;
j<l.length;
j++){m[m.length]=this._applyQeuryTemplate(this._sQueryTemplate,l[j],j,q)
}return m.length?n="<ul>"+m.join("")+"</ul>":n="",s=s.replace(/@queryList@/,n),s
},_applyQeuryTemplate:function(h,g,m,l){for(var j in g){if(!g.propertyIsEnumerable(j)){continue
}var i=g[j];
if("txt"==j||"in_txt"==j){i=this._escapeHTML(i)
}h=h.replace(new RegExp("@"+j+"@","g"),i)
}return h=h.replace(/@category@/,l+1),h=h.replace(/@rank@/,m+1),h
},_rePaintMoreBtn:function(){if(this._wel.visible()){var h=this._welList.child();
if(h&&h.length){for(var g=0;
g<h.length;
g++){var m=h[g];
if(!m.hasClass("kwd_more")){var l=$$.getSingle("ul",m.$value());
if(l){var j=$Element(l),i=j.last();
i&&(m.height()>i.$value().offsetTop+i.height()?m.addClass("kwd_hidden"):m.removeClass("kwd_hidden"))
}}}}}},_setCookie:function(b){$Cookie().set(this.option("cookieName"),b,24,"naver.com")
},_getCookie:function(){return $Cookie().get(this.option("cookieName"))||""
},_hasLocationInfo:function(){return !!this._getCookie()
}}).extend(jindo.Component||jindo.m.Component),typeof nhn=="undefined"&&(nhn={}),typeof nhn.mobile=="undefined"&&(nhn.mobile={}),nhn.mobile.FunKeyword=$Class({$init:function(d,c){this._el=d,this._wel=$Element(this._el),this._aSubject=c.subject,this.option({}),this.option(c),this._setElement(),this._attachEvent()
},show:function(){this.fireEvent("onShow")&&this._request()
},hide:function(){this.fireEvent("onHide")&&this._wel.hide()
},_setElement:function(){this._elContent=$$.getSingle(".sggt_content",this._el),this._welContent=$Element(this._elContent)
},_attachEvent:function(){$Fn(this._onClickContent,this).attach(this._elContent,"click")
},_onClickContent:function(f){var d=f.element;
while(!d||d!=this._elContent){var g=$Element(d);
if(g.hasClass("_link")){this.fireEvent("onSelect",{element:d,subject:this._oCurrentSubject.id,log:this._oCurrentSubject.log})||f.stop();
return
}if(g.hasClass("_other_content")){this.fireEvent("onOtherContent",{element:d,subject:this._oCurrentSubject.id,log:this._oCurrentSubject.log})&&this._request(this._oCurrentSubject);
return
}if(g.hasClass("_other_subject")){this.fireEvent("onOtherSubject",{element:d,subject:this._oCurrentSubject.id,log:this._oCurrentSubject.log})&&this._request();
return
}d=d.parentElement
}},_paint:function(f){if(this._oCurrentSubject){var d=$("_sggt_fun_"+this._oCurrentSubject.id).innerHTML;
if(d){for(var g=0;
g<f.length;
g++){d=d.replace(new RegExp("@"+g+"@","g"),f[g])
}}else{d=""
}this._nCurrentID=f[2],this._elContent.innerHTML=d,this._welContent.show()
}},_request:function(f){if(!this._oAjax){var d=this;
this._oAjax=new $Ajax(this.option("api"),{type:"jsonp",method:"get",callbackid:"$3361",timeout:5,onload:function(b){var h=b.json();
d._handleResult(h)
},ontimeout:function(){d._handleError()
},onerror:function(){d._handleError()
}})
}f||(f=this._getRandomSubject(),this._nCurrentID=null),this._oCurrentSubject=f;
var g={st:f.id,format:"json"};
this._nCurrentID&&(g.exclude=this._nCurrentID),this._oAjax.abort(),this._oAjax.request(g)
},_handleResult:function(b){b&&b.message&&b.message.result&&b.message.result&&b.message.result.status&&0==b.message.result.status.code?this._paint(b.message.result.item):this._handleError()
},_handleError:function(){},_getRandomSubject:function(){var g=[];
for(var f=0;
f<this._aSubject.length;
f++){var i=this._aSubject[f];
if(this._oCurrentSubject&&this._oCurrentSubject.id==i.id){continue
}g.push(i)
}var h=Math.floor(Math.random()*g.length);
return g[h]
}}).extend(jindo.Component||jindo.m.Component),typeof nhn.mobile=="undefined"&&(nhn.mobile={}),nhn.mobile.KeywordTab=$Class({$init:function(g,f,i,h){this._nIndex=0,this._setElement(g,f,i,h),this._attachEvent()
},show:function(){this.fireEvent("onShow")&&this._wel.show()
},hide:function(){this.fireEvent("onShow")&&this._wel.hide()
},select:function(f,d){var g=null;
d&&(g=$Event(d)),this._selectTab(f,g),this.show()
},adjustTabPosition:function(){this._calculateTabPosition()
},_setElement:function(g,f,j,i){this._el=g,this._wel=$Element(g),this._elTab=f,this._welTab=$Element(f);
var h=this._elTab.style;
h.transition="top .35s ease-in-out",h["-moz-transition"]="top .35s ease-in-out",h["-webkit-transition"]="top .35s ease-in-out",this._aTab=this._welTab.child(),this._elClose=j,this._aContent=i
},_attachEvent:function(){var g=this._aTab,f=this._aContent;
for(var i=0;
i<g.length&&i<f.length;
i++){var h=g[i];
h&&$Fn($Fn(this._selectTab,this).bind(i),this).attach(h.$value(),"click")
}this._elClose&&$Fn(this._close,this).attach(this._elClose,"click"),$Fn(this._scroll,this).attach(window,"scroll")
},_selectTab:function(g,f){var j=this._aContent,i=j[g].tabid;
if(this._nIndex!=g&&this.fireEvent("onSelectTab",{index:g,tabid:i,element:f?f.element:null})){this._elTab.style.top="";
var h=this._aTab;
h[this._nIndex].removeClass("on"),h[g].addClass("on");
var j=this._aContent;
j[g].controller&&j[g].controller.show&&j[g].controller.show(),j[this._nIndex].el.style.display="none",j[g].el.style.display="block",this._nIndex=g
}},_close:function(f){var d=this._aContent,g=d[this._nIndex].tabid;
this.fireEvent("onClose",{index:this._nIndex,tabid:g,element:f.element})&&this.hide()
},_scroll:function(b){this._calculateTabPosition()
},_calculateTabPosition:function(){if(this._wel.visible()){var h=this._elTab,g=$$.getSingle(".sggt_content",this._aContent[this._nIndex].el);
if(g){var m=$Element(g),l=m.offset().top,j=l+m.height()-h.offsetHeight,i=document.body.scrollTop||document.documentElement.scrollTop;
i>l&&i<j?h.style.top=i-l+g.offsetTop+"px":i>j?h.style.top=j-l+g.offsetTop+"px":i<l&&(h.style.top="")
}}}}).extend(jindo.Component||jindo.m.Component);
nhn.mobile.Mykeyword=$Class({MAX:10,REMOVE_MSG:"내 검색어에서\n삭제하시겠습니까?",REMOVEALL_MSG:"설정된 내 검색어를\n모두 삭제하시겠습니까?",OVERFLOW_MSG:"내 검색어는 최대 10개까지 저장할 수 있습니다.\n기존 내 검색어를 지우고 새로 추가하시겠습니까?",$init:function(m,n,j,h,o,l,i){this._el=m;
this._wel=$Element(this._el);
this._elInput=h;
this._elForm=o;
this._elClean=n;
this._elClose=j;
this._sURL=l;
this._bLogin=i;
this._attachEvent();
if(this._bLogin){this._getRequest()
}else{$Element(n).hide()
}},onSelect:function(d,f){var g="";
f=parseInt(f);
if(this._aData.length>f){g=this._aData[f]
}if(this.fireEvent("onSelect",{text:g})){this._elInput.value=g;
if(oKeywordHistory){oKeywordHistory.add(g)
}this._elForm.submit()
}},onClickRemove:function(c,d){$Event(c).stop();
if(confirm(this.REMOVE_MSG)&&this.fireEvent("onRemove")){d=parseInt(d);
if(this._aData.length>d){this.remove(this._aData[d]);
this._paint()
}}},onClickClean:function(b){if(confirm(this.REMOVEALL_MSG)&&this.fireEvent("onRemoveAll")){this.removeAll();
this._paint()
}},onClickClose:function(b){if(this.fireEvent("onClose")){this._wel.parent().hide()
}},show:function(){if(this.fireEvent("show")){this._paint();
this._wel.show()
}},hide:function(){if(this.fireEvent("onHide")){this._wel.hide()
}},get:function(){return this._aData
},add:function(d){if(this.MAX<=this._aData.length){if(confirm(this.OVERFLOW_MSG)){oKeywordTab.moveTo(1,event)
}return false
}var c=$A(this._aData);
if(c.has(d)){this._request("set",d,d);
c=c.refuse(d)
}else{this._request("set",d)
}c.push(d);
this._aData=c.$value();
return true
},remove:function(d){this._request("del",d);
var c=$A(this._aData);
c=c.refuse(d);
this._aData=c.$value();
return true
},removeAll:function(){this._request("del");
this._aData=[];
return true
},_attachEvent:function(){$Fn(this.onClickClean,this).attach(this._elClean,"click");
$Fn(this.onClickClose,this).attach(this._elClose,"click")
},_setElement:function(){var b=$$.getSingle("ul",this._el);
this._welList=$Element(b);
this._sTemplate=this._welList.html();
this._welList.empty();
this._welNothing=$Element("nx_my_nothing");
this._welLogout=$Element("nx_my_logout")
},_paint:function(){if(!this._welList){this._setElement()
}var d=[],f=this._aData;
if(this._bLogin){this._welLogout.hide();
for(var g=f.length-1;
g>=0;
g--){d[d.length]=this._applyTemplate(this._sTemplate,g,this._escapeHTML(f[g]))
}if(d.length){this._welList.show();
$Element(this._elClean).show();
this._welNothing.hide()
}else{this._welList.hide();
$Element(this._elClean).hide();
this._welNothing.show()
}}else{this._welList.hide();
$Element(this._elClean).hide();
this._welLogout.show()
}this._welList.html(d.join(""))
},_applyTemplate:function(d,f,g){d=d.replace(/@rank@/g,f);
return d=d.replace(/@name@/g,g)
},_getRequest:function(){var c={cmd:"get",type:"jsonp",key:"mykeyword",limit:10};
if(!this._oGetAjax){var d=this;
this._oGetAjax=new $Ajax(this._sURL,{type:"jsonp",method:"get",callbackid:"$3361",onload:function(f){var b=f.json();
d._handleData(b)
},onerror:function(b){if(404==b.status()||403==b.status()){d._aData=[]
}}})
}this._oGetAjax.request(c)
},_request:function(h,g,j){var i={type:"jsonp",key:"mykeyword",limit:10};
if(!this._oAjax){var f=this;
this._oAjax=new $Ajax(this._sURL,{type:"jsonp",method:"get",callbackid:"$3361",onerror:function(b){if(404==b.status()||403==b.status()){f._handleForbidden()
}}})
}i.cmd=h;
if(h=="set"||h=="del"){if(g){i.value=g
}if(j){i.old_value=j
}}this._oAjax.request(i)
},_handleData:function(g){this._aData=[];
if(g.keywords){for(var f=0;
f<g.keywords.length;
f++){try{this._aData[f]=decodeURIComponent(g.keywords[f])
}catch(d){this._aData[f]=g.keywords[f]
}}}},_handleForbidden:function(b){window.location="https://nid.naver.com/nidlogin.login?svctype=262144&url="+window.location.href
},_escapeHTML:function(g){if(g){g=g.replace(/\$/g,"$$$$")
}var d={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};
var f=g.replace(/[<>&"']/g,function(b){return d[b]?"&"+d[b]+";":b
});
return f
}}).extend(jindo.Component);
